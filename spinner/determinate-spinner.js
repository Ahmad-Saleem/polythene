"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _spinner=require("polythene/spinner/spinner");var _spinner2=_interopRequireDefault(_spinner);require("polythene/spinner/theme/determinate/theme");var _config=require("polythene/spinner/theme/determinate/config");var _config2=_interopRequireDefault(_config);var _easing=require("polythene/common/easing");var _easing2=_interopRequireDefault(_easing);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CSS_CLASSES={block:"pe-spinner--determinate",animation:"pe-spinner__animation"};var handlePercentage=function handlePercentage(percentage,ctrl){if(!ctrl.el){return}var p1=_easing2.default.easeOutQuad(percentage);var animationEl=ctrl.el.querySelector("."+CSS_CLASSES.animation);var animationElStyle=animationEl.style;var rotateMin=0;var rotateMax=360-85;animationElStyle["transform"]=animationElStyle["-webkit-transform"]=animationElStyle["-moz-transform"]=animationElStyle["-ms-transform"]=animationElStyle["-o-transform"]="rotate("+(rotateMin+(rotateMax-rotateMin)*p1)+"deg)";var circleEl=ctrl.el.querySelector("circle");var circleElStyle=circleEl.style;var p2=_easing2.default.easeInQuad(percentage);var dashMin=0;var dashMax=3.14;circleElStyle["stroke-dashoffset"]=_config2.default.size*(dashMax-(dashMax-dashMin)*p2)};var component={view:function view(ctrl){var opts=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];opts.content=(0,_mithril2.default)("svg",{"class":CSS_CLASSES.animation,viewBox:"0 0 40 40"},(0,_mithril2.default)("circle",{"class":"path",cx:20,cy:20,r:18,fill:"none"}));opts.class=[CSS_CLASSES.block,opts.class].join(" ");opts.getPercentage=handlePercentage;return _mithril2.default.component(_spinner2.default,opts)}};exports.default=component;module.exports=exports["default"];