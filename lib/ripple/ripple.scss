@import "../polythene/polythene";

.ripple {
	$_start_scale: 0.1;
	$_end_scale: 2;
	$_start_opacity: 0.2;
	$_end_opacity: 0;

	border-radius: inherit;
	// Prevent flickering
	-webkit-transform:translate3d(0,0,0);

	&[noink] {
		pointer-events: none;
	}

	&.constrained {
		overflow: hidden;
	}
	
	.waves {
		display: block;
		position: absolute;
		border-radius: 100%;
		z-index: 0;
		
		-webkit-transform: scale($_start_scale);
		-ms-transform: scale($_start_scale);
		-o-transform: scale($_start_scale);
		transform: scale($_start_scale);

		// default durations; finally set in js
		animation-duration: $surfaceReactionDuration;
		-webkit-animation-duration: $surfaceReactionDuration;
		-moz-animation-duration: $surfaceReactionDuration;
		-o-animation-duration: $surfaceReactionDuration;

		opacity: $_start_opacity;
		pointer-events: none;
		display: none;

		&.animated {
			display: block;
			animation: ripple ease-out;
			-webkit-animation: ripple ease-out;
			-moz-animation: ripple ease-out;
			-o-animation: ripple ease-out;
		}
	}

	@keyframes ripple {
		100% {
			-webkit-transform: scale($_end_scale);
			-ms-transform: scale($_end_scale);
			-o-transform: scale($_end_scale);
			transform: scale($_end_scale);
		}
	}
	@-webkit-keyframes ripple {
		100% {
			-webkit-transform: scale($_end_scale);
			-ms-transform: scale($_end_scale);
			-o-transform: scale($_end_scale);
			transform: scale($_end_scale);
			opacity: $_end_opacity;
		}
	}
	@-o-keyframes ripple {
		100% {
			-webkit-transform: scale($_end_scale);
			-ms-transform: scale($_end_scale);
			-o-transform: scale($_end_scale);
			transform: scale($_end_scale);
			opacity: $_end_opacity;
		}
	}
	@-moz-keyframes ripple {
		100% {
			-webkit-transform: scale($_end_scale);
			-ms-transform: scale($_end_scale);
			-o-transform: scale($_end_scale);
			transform: scale($_end_scale);
			opacity: $_end_opacity;
		}
	}
}

[disabled] .ripple {
	pointer-events: none;
}
