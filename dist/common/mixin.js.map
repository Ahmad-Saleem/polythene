{"version":3,"sources":["../../src/common/mixin.js"],"names":["vendorize","what","prefixes","vendorsSel","map","v","join","fit","offset","offsetPx","position","top","right","bottom","left","fontSmoothing","smoothing","ellipsis","lines","lineHeight","unit","overflow","display","height","undefined","clearfix","content","clear","hairline","sticky","zIndex","createStyles","common","fn","Array","isArray","o","scope","defaultTransition","properties","duration","animation_duration","curve","animation_curve_default","prefixes_transition"],"mappings":"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","file":"mixin.js","sourcesContent":["// Mixins for j2c\n\nimport common from '../config/config.js';\nimport './object.assign.js';\n\n// Creates j2c vendor key string from vendor list\n// mixin.vendorize({'user-select': 'none'}, common.prefixes_user_select)\nconst vendorize = (what, prefixes) => {\n    const vendorsSel = prefixes.map((v) => ('_' + v + '$')).join('');\n    return {\n        [vendorsSel]: what\n    };\n};\n\n// Centers an item absolutely within relative parent\n// mixin.fit()\nconst fit = (offset = 0) => {\n    const offsetPx = offset + 'px';\n    return {\n        position: 'absolute',\n        top: offsetPx,\n        right: offsetPx,\n        bottom: offsetPx,\n        left: offsetPx\n    };\n};\n\n// Optional font smoothing\n// mixin.fontSmoothing()\nconst fontSmoothing = (smoothing = true) => {\n    if (smoothing) {\n        return {\n            '-webkit-font-smoothing': 'antialiased',\n            '-moz-osx-font-smoothing': 'grayscale'\n        };\n    } else {\n        return {\n            '-webkit-font-smoothing': 'subpixel-antialiased',\n            '-moz-osx-font-smoothing': 'auto'\n        };\n    }\n};\n\n// Breaks off a line with ...\n// unless lines is 'none'\n// mixin.ellipsis(1, 16) // max 1 line, 16px high\n// mixin.ellipsis(2, 1.3, 'em') // max 2 lines, 2.6em high\nconst ellipsis = (lines, lineHeight, unit = 'px') => {\n    if (lines === 'none') {\n        return {\n            'text-overflow': 'initial',\n            overflow: 'initial',\n            display: 'block',\n            height: 'auto'\n        };\n    }\n    return Object.assign(\n        {},\n        {\n            overflow: 'hidden',\n            'text-overflow': 'ellipsis',\n            'text-rendering': 'auto' // Samsung Android\n        },\n        (lines !== undefined) ? {\n            '-webkit-line-clamp': lines,\n            '-webkit-box-orient': 'vertical',\n            display: '-webkit-box'\n        } : null,\n        (lineHeight !== undefined) ? {\n            'max-height': (lines * lineHeight) + unit\n        } : null\n    );\n};\n\n// Clears float\n// mixin.clearfix()\nconst clearfix = () => ({\n    '&:after': {\n        content: '\"\"',\n        display: 'table',\n        clear: 'both'\n    }\n});\n\n\n// Creates a very thin line\n// disabled, does not work in Chrome\n// mixin.hairline()\nconst hairline = () => ({});\n\n// const hairline = (which) => ({\n//     [`${which}-width`]: '1px',\n//\n//     ' html.pe-hairlines &': {\n//         [`${which}-width`]: '0.5px'\n//     }\n// });\n\n// Test if browser handles 0.5px borders\n// and add class pe-hairlines if so\n// if (window.devicePixelRatio && devicePixelRatio >= 2) {\n//     const el = document.createElement('div');\n//     el.style.border = '.5px solid transparent';\n//     document.body.appendChild(el);\n//     if (el.offsetHeight === 1) {\n//         document.querySelector('html').classList.add('pe-hairlines');\n//     }\n//     document.body.removeChild(el);\n// }\n\n// Creates sticky headers in a scrollable list\n// Does not work in Chrome: http://caniuse.com/#feat=css-sticky\n// mixin.sticky()\nconst sticky = (zIndex = 1) => ([\n    {position: '-webkit-sticky'},\n    {position: '-moz-sticky'},\n    {position: '-o-sticky'},\n    {position: '-ms-sticky'},\n    {position: 'sticky'},\n    {\n        top: 0,\n        'z-index': zIndex\n    }\n]);\n\n// Polythene utility function to generate style objects with scopes\n// Used in theme files\nconst createStyles = (common, fn) => {\n    if (Array.isArray(common)) {\n        return common.map((o) => {\n            for (let scope in o) {\n                return {[scope]: fn(o[scope])};\n            }\n        });\n    } else {\n        return fn(common);\n    }\n};\n\n// Creats a transition with presets\n// mixin.defaultTransition('opacity', config.animation_duration)\nconst defaultTransition = (properties = 'all', duration = common.animation_duration, curve = common.animation_curve_default) => {\n    return [\n        vendorize({\n            'transition-delay': 0\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-duration': duration\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-timing-function': curve\n        }, common.prefixes_transition),\n        vendorize({\n            'transition-property': properties\n        }, common.prefixes_transition),\n    ];\n};\n\nexport default {\n    clearfix,\n    createStyles,\n    defaultTransition,\n    ellipsis,\n    fit,\n    fontSmoothing,\n    hairline,\n    sticky,\n    vendorize\n};\n"]}