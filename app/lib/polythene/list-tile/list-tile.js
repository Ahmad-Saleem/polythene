define(["polythene/polythene/polythene","mithril","polythene/icon/icon","css!./list-tile"],function(i,t,n){"use strict";var l,e,o;return l=function(n,l){var r,s,c,a,u;return l=l||{},r=l.tag||"div[horizontal][layout][center]",a="list-tile-single-line",l.info?a="list-tile-two-line":l.info_high&&(a="list-tile-three-line"),u=l.icon?"list-tile-has-icon":null,s={"class":["list-tile",a,u,l["class"]].join(" "),config:l.config},c=[e(l),o(l)],t(r,s,i.insertContent(c,l))},e=function(i){var l;return l=i.tag?i.tag:i.url?"a[flex]":"div[flex]",t(l,Object.assign({"class":"list-tile-primary"},i.url),[i.icon?t.component(n,i.icon):null,t(".list-tile-content",[t(".list-tile-title",i.title),i.info?t(".list-tile-info",i.info):null,i.info_high?t(".list-tile-info.list-tile-double-info",i.info_high):null])])},o=function(i){var l,e,o;return l=i.secondary||{},e=i.info_high?"[vertical][layout][start]":"[horizontal][layout][center]",o=l.tag?l.tag:l.url?"a"+e:"div"+e,t(o,Object.assign({"class":"list-tile-secondary"},l.url),[l.icon?t.component(n,l.icon):null,l.content?l.content:null])},{controller:function(){return{view:t.prop()}},view:function(i,t){t=t||{};var n=i.view();return(!n||t.refresh)&&(n=l(i,t),i.view(n)),n}}});