{"version":3,"sources":["no-tap-delay.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAIA,IAAM,QAAQ,SAAS,IAAT;AACd,IAAM,gBAAgB,GAAhB;AACN,IAAM,cAAc,gBAAgB,EAAhB;AACpB,IAAI,qBAAJ;AACA,IAAI,qBAAJ;AACA,IAAI,mBAAJ;;AAEA,IAAM,SAAS,SAAT,MAAS,GAAM;AACjB,QAAI,OAAJ,EAAa;AACT,kBAAU,OAAV,GADS;AAET,kBAAU,KAAV,CAFS;KAAb;CADW;;AAOf,IAAM,MAAM,SAAN,GAAM,GAAM;AACd,QAAI,CAAC,OAAD,EAAU;AACV,oBAAY,wBAAc,KAAd,CAAZ,CADU;AAEV,kBAAU,IAAV,CAFU;KAAd;CADQ;;AAOZ,IAAM,eAAe,SAAf,YAAe,GAAM;AACvB,aADuB;AAEvB,QAAI,SAAJ,EAAe;AACX,eAAO,YAAP,CAAoB,SAApB,EADW;KAAf;AAGA,gBAAY,OAAO,UAAP,CAAkB,GAAlB,EAAuB,WAAvB,CAAZ,CALuB;CAAN;;AAQrB,IAAM,OAAO,SAAP,IAAO,GAAM;AACf,QAAI,oBAAE,OAAF,EAAW;AACX,yBAAO,SAAP,CAAiB,QAAjB,EAA2B,YAA3B,EAAyC,aAAzC,EADW;AAEX,cAFW;KAAf;CADS;;AAOb;;kBAEe;AACX,SAAK,GAAL;AACA,YAAQ,MAAR","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from 'polythene/polythene/polythene';\nimport events from 'polythene/common/events';\n\nconst layer = document.body;\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}