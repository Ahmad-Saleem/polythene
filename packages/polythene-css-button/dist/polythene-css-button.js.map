{"version":3,"file":"polythene-css-button.js","sources":["../../polythene-css-classes/button.js","../src/base.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  base:       \"pe-button\",\n  component:  \"pe-button pe-text-button\",\n  row:        \"pe-button-row\",\n\n  // elements\n  content:    \"pe-button__content\",\n  focus:      \"pe-button__focus\",\n  label:      \"pe-button__label\",\n  wash:       \"pe-button__wash\",\n\n  // states\n  border:     \"pe-button--border\",\n  disabled:   \"pe-button--disabled\",\n  focused:    \"pe-button--focus\",\n  inactive:   \"pe-button--inactive\",\n  selected:   \"pe-button--selected\",\n};\n","import { mixin } from \"polythene-core-css\";\n\nexport default (selector, componentVars) => [{\n  [selector]: [\n    {\n      userSelect: \"none\",\n      outline: \"none\",\n      padding: 0,\n      textDecoration: \"none\",\n      textAlign: \"center\",\n      cursor: \"pointer\",\n\n      \".pe-button--selected, &.pe-button--disabled, &.pe-button--inactive\": {\n        cursor: \"default\",\n        pointerEvents: \"none\"\n      },\n\n      \".pe-button--focus\": {\n        \" .pe-button__focus\": {\n          opacity: 1\n        }\n      },\n\n      \" .pe-button__content\": [\n        mixin.defaultTransition(\"all\", componentVars.animation_duration),\n        {\n          position: \"relative\",\n          borderRadius: \"inherit\"\n        }\n      ],\n\n      \" .pe-button__label\": [\n        mixin.fontSmoothing(),\n        {\n          position: \"relative\",\n          display: \"block\",\n          borderRadius: \"inherit\",\n          pointerEvents: \"none\",\n        }\n      ],\n\n      \" .pe-button__wash, .pe-button__focus\": [\n        mixin.defaultTransition(\"all\", componentVars.animation_duration),\n        mixin.fit(),\n        {\n          borderRadius: \"inherit\",\n          pointerEvents: \"none\"\n        }\n      ],\n\n      \" .pe-button__focus\": {\n        opacity: 0\n      },\n\n      \" .pe-button__wash\": {\n        zIndex: 0\n      }\n    }\n  ],\n  \" .pe-button-row\": {\n    margin: `0 -${componentVars.margin_h}px`,\n    // prevent inline block style to add extra space:\n    fontSize: 0, \n    lineHeight: 0,\n\n    [` ${selector}`]: {\n      margin: `0 ${componentVars.margin_h}px`,\n    }\n  }\n}];\n\n","import { mixin } from \"polythene-core-css\";\n\nexport default (selector, componentVars) => [{\n  [selector]: [\n    {\n      display: \"inline-block\",\n      minWidth: componentVars.min_width + \"px\",\n      padding: componentVars.outer_padding_v + \"px 0\",\n      background: \"transparent\",\n      border: \"none\",\n\n      \" .pe-button__content\": {\n        position: \"relative\",\n        borderWidth: 0,\n        padding: \"0 \" + componentVars.padding_h + \"px\",\n        borderRadius: componentVars.border_radius + \"px\"\n      },\n\n      \" .pe-button__label\": {\n        padding: componentVars.padding_v + \"px 0\",\n        fontSize: componentVars.font_size + \"px\",\n        lineHeight: componentVars.font_size + \"px\",\n        fontWeight: componentVars.font_weight,\n        textTransform: componentVars.text_transform,\n        whiteSpace: \"pre\"\n      },\n\n      \".pe-button--border\": {\n        \" .pe-button__wash, .pe-button__focus, .pe-ripple\": mixin.fit(-1),\n\n        \" .pe-button__content\": {\n          borderStyle: \"solid\",\n          borderWidth: \"1px\"\n        },\n        \" .pe-button__label\": {\n          padding: (componentVars.padding_v - 1) + \"px 0\"\n        }\n      }\n    }\n  ]\n}];\n","const style = (scopes, selector, componentVars, tint) => {\n  const normalBorder   = componentVars[\"color_\" + tint + \"_border\"]          || \"transparent\";\n  const activeBorder   = componentVars[\"color_\" + tint + \"_active_border\"]   || normalBorder;\n  const disabledBorder = componentVars[\"color_\" + tint + \"_disabled_border\"] || normalBorder;\n  return [{\n    [scopes.map(s => s + selector).join(\",\")]: {\n      \"&, &:link, &:visited\": {\n        color: componentVars[\"color_\" + tint + \"_text\"]\n      },\n\n      \" .pe-button__content\": {\n        backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n        borderColor: normalBorder\n      },\n\n      \".pe-button--disabled\": {\n        color: componentVars[\"color_\" + tint + \"_disabled_text\"],\n\n        \" .pe-button__content\": {\n          backgroundColor: componentVars[\"color_\" + tint + \"_disabled_background\"],\n          borderColor: disabledBorder\n        }\n      },\n\n      \" .pe-button__focus\": {\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_background\"]\n      },\n\n      \".pe-button--selected\": {\n        \" .pe-button__content\": {\n          backgroundColor: componentVars[\"color_\" + tint + \"_active_background\"],\n          borderColor: activeBorder\n        },\n        \" .pe-button__focus\": {\n          opacity: 1,\n          backgroundColor: componentVars[\"color_\" + tint + \"_focus_background\"]\n        }\n      },\n\n      \".pe-button--focus\": {\n        \" .pe-button__focus\": {\n          opacity: 1\n        }\n      }\n    }\n  }];\n};\n\nconst noTouchStyle = (scopes, selector, componentVars, tint) => {\n  const normalBorder = componentVars[\"color_\" + tint + \"_border\"] || \"transparent\";\n  const hoverBorder  = componentVars[\"color_\" + tint + \"_border\"] || normalBorder;\n  return [{\n    [scopes.map(s => s + selector + \":hover\").join(\",\")]: {\n      \":not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash\": {\n        backgroundColor: componentVars[\"color_\" + tint + \"_hover_background\"],\n        borderColor: hoverBorder\n      }\n    }\n  }];\n};\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n  noTouchStyle([\"html.pe-no-touch .pe-dark-tone \"], selector, componentVars, \"dark\"), // inside dark tone\n  noTouchStyle([\"html.pe-no-touch \", \"html.pe-no-touch .pe-light-tone \"], selector, componentVars, \"light\"),\n];\n\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-button\";\nimport classes from \"polythene-css-classes/button\";\nimport baseLayout from \"./base\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst baseFns = [baseLayout];\nconst baseSelector = `.${classes.base}`;\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([baseSelector], vars, baseFns)\n      .concat(styler.createStyleSheets([selector], vars, fns));  \n\nstyler.generateStyles([baseSelector], vars, baseFns);\nstyler.generateStyles([selector], vars, fns);\n"],"names":["base","component","row","content","focus","label","wash","border","disabled","focused","inactive","selected","selector","componentVars","userSelect","outline","padding","textDecoration","textAlign","cursor","pointerEvents","opacity","mixin","defaultTransition","animation_duration","position","borderRadius","fontSmoothing","display","fit","zIndex","margin","margin_h","fontSize","lineHeight","minWidth","min_width","outer_padding_v","background","borderWidth","padding_h","border_radius","padding_v","font_size","fontWeight","font_weight","textTransform","text_transform","whiteSpace","borderStyle","style","scopes","tint","normalBorder","activeBorder","disabledBorder","map","s","join","color","backgroundColor","borderColor","noTouchStyle","hoverBorder","fns","layout","baseFns","baseLayout","baseSelector","classes","replace","addStyle","customSelector","customVars","styler","generateStyles","vars","getStyle","createStyleSheets","concat"],"mappings":"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"}