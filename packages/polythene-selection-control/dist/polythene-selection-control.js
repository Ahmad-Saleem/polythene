!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("polythene-core"),require("polythene-mithril"),require("polythene-theme"),require("polythene-core-css")):"function"==typeof define&&define.amd?define(["exports","mithril","polythene-core","polythene-mithril","polythene-theme","polythene-core-css"],e):e(o.polythene=o.polythene||{},o.m,o["polythene-core"],o["polythene-mithril"],o["polythene-theme"],o["polythene-core-css"])}(this,function(o,e,t,n,r,l){"use strict";function i(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function c(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}e="default"in e?e.default:e;var a={component:"pe-control",formLabel:"pe-control__form-label",input:"pe-control__input",label:"pe-control__label",disabled:"pe-control--disabled",inactive:"pe-control--inactive",large:"pe-control--large",medium:"pe-control--medium",off:"pe-control--off",on:"pe-control--on",regular:"pe-control--regular",small:"pe-control--small",box:"pe-control__box",button:"pe-control__button",buttonOff:"pe-control__button--off",buttonOn:"pe-control__button--on"},_=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},u={small:a.small,regular:a.regular,medium:a.medium,large:a.large},s=function(){return u[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular"]},p=function(o){var n=o.attrs,r=o.state;"function"==typeof n.checked&&r.setChecked(n.checked());var l=r.checked(),i=void 0!==n.selectable&&n.selectable(l),c=n.disabled||!i,u=n.element||"div",p=n.name||"",d=_({},t.filterSupportedAttributes(n),{class:[a.component,n.instanceClass,l?a.on:a.off,n.disabled?a.disabled:null,c?a.inactive:null,s(n.size),"dark"===n.tone?"pe-dark-tone":null,"light"===n.tone?"pe-light-tone":null,n.class].join(" ")},n.events?n.events:null),f=[e("input",{class:a.input,name:p,value:r.value(),type:n.type,tabindex:-1,checked:l,oncreate:function(o){return r.setInputEl(o.dom)}}),e("label",{class:a.formLabel},[n.controlView?n.controlView(l,_({},n,{events:{onclick:r.toggle}})):null,n.label?e("."+a.label,c?null:{onclick:r.toggle},n.label):null])];return e(u,d,[n.before,f,n.after])},d={oninit:function(o){var e=o.attrs,t=e.value||"1",n=void 0,r=function(o){n&&(n.checked=o)},l=function(){if("function"==typeof e.checked){var o=e.checked();return void 0!==o&&o}return void 0!==e.checked&&e.checked},i=function(o){n=o,r(l())},c=function(o){r(o),e.getState&&e.getState({checked:n?n.checked:l(),value:t,el:n})},a=function(){return c(!n.checked)};o.state=_(o.state,{setInputEl:i,setChecked:c,checked:function(){return n?n.checked:l()},toggle:a,value:function(){return t}})},view:p},f=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},b=function(o,e){return f({},e[o]?e[o]:{msvg:e.theme[o]},{class:e.class},e.icon,e.size?{type:e.size}:null)},h=function(o,t){return e("div",{class:a.box},e(n.IconButton,f({},{element:"div",class:a.button,content:[e(n.Icon,b("iconOn",f({},t,{class:a.buttonOn}))),e(n.Icon,b("iconOff",f({},t,{class:a.buttonOff})))],ripple:{center:!0},disabled:t.disabled,events:t.events},void 0!==t.selectable?{inactive:!t.selectable(o)}:null,t.iconButton)))},g=r.vars.rgba,v={label_font_size:2*r.vars.grid_unit_component,label_height:3*r.vars.grid_unit_component,label_padding_before:4*r.vars.grid_unit,label_padding_after:0,button_size:6*r.vars.grid_unit_component,icon_size:3*r.vars.grid_unit_component,animation_duration:r.vars.animation_duration,color_light_on:r.vars.rgba(r.vars.color_primary),color_light_off:g(r.vars.color_light_foreground,r.vars.blend_light_text_secondary),color_light_label:g(r.vars.color_light_foreground,r.vars.blend_light_text_secondary),color_light_disabled:g(r.vars.color_light_foreground,r.vars.blend_light_text_disabled),color_light_thumb_off_focus_opacity:.08,color_light_thumb_on_focus_opacity:.11,color_light_focus_on:g(r.vars.color_primary),color_light_focus_on_opacity:.11,color_light_focus_off:g(r.vars.color_light_foreground),color_light_focus_off_opacity:.07,color_dark_on:r.vars.rgba(r.vars.color_primary),color_dark_off:g(r.vars.color_dark_foreground,r.vars.blend_dark_text_secondary),color_dark_label:g(r.vars.color_dark_foreground,r.vars.blend_dark_text_secondary),color_dark_disabled:g(r.vars.color_dark_foreground,r.vars.blend_dark_text_disabled),color_dark_thumb_off_focus_opacity:.08,color_dark_thumb_on_focus_opacity:.11,color_dark_focus_on:g(r.vars.color_primary),color_dark_focus_on_opacity:.14,color_dark_focus_off:g(r.vars.color_dark_foreground),color_dark_focus_off_opacity:.09},m=function(o,e,t,n){return[i({},o.map(function(o){return o+e}).join(","),{color:t["color_"+n+"_on"]," .pe-control__label":{color:t["color_"+n+"_label"]}," .pe-control__box":{" .pe-control__button":{color:"inherit"," .pe-control__button--on":{color:t["color_"+n+"_on_icon"]||"inherit"}," .pe-control__button--off":{color:t["color_"+n+"_off_icon"]||t["color_"+n+"_off"]}}},".pe-control--off":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_off_opacity"],backgroundColor:t["color_"+n+"_focus_off"]}},".pe-control--on":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_on_opacity"],backgroundColor:t["color_"+n+"_focus_on"]}},".pe-control--disabled":{" .pe-control__label":{color:t["color_"+n+"_disabled"]}," .pe-control__box":{" .pe-control__button--on, .pe-control__button--off":{color:t["color_"+n+"_disabled"]}}}})]},y=function(o,e){return[m([".pe-dark-tone",".pe-dark-tone "],o,e,"dark"),m(["",".pe-light-tone",".pe-light-tone "],o,e,"light")]},k=function(o,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.vars.unit_icon_size,n=t+o.label_height,i=(n-t)/2;return{" .pe-control__form-label":{height:e+"px"}," .pe-control__box":{width:t+"px",height:t+"px"}," .pe-button__content":{width:n+"px",height:n+"px"," .pe-icon":[l.mixin.fit(i)]}}},x=function(){return{opacity:1,zIndex:1}},z=function(){return{opacity:0,zIndex:0}},O=function(o,e,t){var n;return[c({},o,(n={display:"inline-block",boxSizing:"border-box",margin:0,padding:0},c(n," input[type="+t+"].pe-control__input",{appearance:"none",lineHeight:e.label_height+"px",position:"absolute",zIndex:"-1",width:0,height:0,margin:0,padding:0,opacity:0,border:"none",pointerEvents:"none"}),c(n," .pe-control__form-label",[l.flex.layoutHorizontal,l.flex.layoutCenter,{position:"relative",cursor:"pointer",fontSize:e.label_font_size+"px",lineHeight:e.label_height+"px",margin:0,color:"inherit",":focus":{outline:0}}]),c(n,".pe-control--inactive",{" .pe-control__form-label":{cursor:"default"}}),c(n," .pe-control__box",{position:"relative",display:"inline-block",boxSizing:"border-box",width:e.label_height+"px",height:e.label_height+"px",color:"inherit",":focus":{outline:0}}),c(n," .pe-button.pe-control__button",[l.mixin.defaultTransition("opacity",e.animation_duration),{position:"absolute",left:-((e.button_size-e.icon_size)/2)+"px",top:-((e.button_size-e.icon_size)/2)+"px",zIndex:1}]),c(n,".pe-control--off",{" .pe-control__button--on":z()," .pe-control__button--off":x()}),c(n,".pe-control--on",{" .pe-control__button--on":x()," .pe-control__button--off":z()}),c(n," .pe-control__label",{paddingLeft:e.label_padding_before+"px",paddingRight:e.label_padding_after+"px"}),c(n,".pe-control--disabled",{" .pe-control__form-label":{cursor:"auto"}," .pe-control__button":{pointerEvents:"none"}}),c(n," .pe-button__content",{" .pe-icon":{position:"absolute"}}),c(n,".pe-control--small",k(e,r.vars.unit_icon_size_small,r.vars.unit_icon_size_small)),c(n,".pe-control--regular",k(e,e.label_height,r.vars.unit_icon_size)),c(n,".pe-control--medium",k(e,r.vars.unit_icon_size_medium,r.vars.unit_icon_size_medium)),c(n,".pe-control--large",k(e,r.vars.unit_icon_size_large,r.vars.unit_icon_size_large)),n))]};o.selectionControl=d,o.classes=a,o.controlView=h,o.vars=v,o.color=y,o.layout=O,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-selection-control.js.map
