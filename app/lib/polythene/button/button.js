define(["polythene/polythene/polythene","mithril","polythene/ripple/ripple","polythene/shadow/shadow","css!./button"],function(n,e,t,o){"use strict";var i,s;return i=function(n,t,o){var i,s,a;i=5,s=t.baseZ(),a=o.increase||1,n.addEventListener("mousedown",function(){if(5!=s){var n=t.z();n+=a,n=Math.min(n,i),t.z(n),e.redraw()}}),n.addEventListener("mouseup",function(){if(5!=s){var n=t.z();n-=a,n=Math.max(n,s),t.z(n),e.redraw()}})},s=function(n){n.removeEventListener("mousedown"),n.removeEventListener("mouseup")},{controller:function(n){return{baseZ:e.prop(n.z||1),z:e.prop(n.z||1)}},view:function(a,l){var r,d,u,p,c,h;return l=l||{},l.ripple=l.ripple||{},l.shadow=l.shadow||{},r=l.tag||(l.url?"a":"div"),c=void 0!==l.ink&&!l.ink,l.disabled&&(r+="[disabled]"),c&&(r+="[noink]"),l.raised&&(r+="[raised]"),p=null,l.disabled||(p=n.assign({config:function(n,e,t){e||(i(n,a,l.shadow),t.onunload=function(){s(n)})}},l.url?l.url:null)),d=n.componentProps({classList:[l.parentClass||"button"],props:p},l,this,a),h=null,l.label&&(h=e("span",l.label)),l.content&&(h=l.content),u=[e("div",{"class":"button-content"},[h,l.disabled||c?null:e.component(t,l.ripple),l.disabled||void 0!==l.wash&&!l.wash?null:e(".wash[fit]"),l.raised&&!l.disabled?e.component(o,{z:a.z(),animated:!0}):null])],e(r,d,n.embellish(u,l))}}});