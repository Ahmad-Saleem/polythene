{"version":3,"file":"polythene-css-selection-control.js","sources":["../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["// Returns a style function to be used by checkbox and radio-button\n\nimport { mixin, flex } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nconst makeSize = (componentVars, height, iconSize = vars.unit_icon_size) => {\n  const labelSize = iconSize + componentVars.label_height;\n  const iconOffset = (labelSize - iconSize) / 2;\n  return {\n    \" .pe-control__form-label\": {\n      height: height + \"px\"\n    },\n    \" .pe-control__box\": {\n      width: iconSize + \"px\",\n      height: iconSize + \"px\"\n    },\n    \" .pe-button__content\": {\n      width: labelSize + \"px\",\n      height: labelSize + \"px\",\n\n      \" .pe-icon\": [\n        mixin.fit(iconOffset)\n      ]\n    }\n  };\n};\n\nconst activeButton = () => ({\n  opacity: 1,\n  zIndex: 1\n});\n\nconst inactiveButton = () => ({\n  opacity: 0,\n  zIndex: 0\n});\n\nexport default (selector, componentVars, type) => [{\n  [selector]: {\n    display: \"inline-block\",\n    boxSizing: \"border-box\",\n    margin: 0,\n    padding: 0,\n\n    [` input[type=${type}]`]: {\n      display: \"none\"\n    },\n\n    \" .pe-control__form-label\": [\n      flex.layoutHorizontal,\n      flex.layoutCenter,\n      {\n        position: \"relative\",\n        cursor: \"pointer\",\n        fontSize: componentVars.label_font_size + \"px\",\n        lineHeight: componentVars.label_height + \"px\",\n        margin: 0,\n        color: \"inherit\",\n\n        \":focus\": {\n          outline: 0\n        },\n      }\n    ],\n\n    \".pe-control--inactive\": {\n      \" .pe-control__form-label\": {\n        cursor: \"default\"\n      }\n    },\n\n    \" .pe-control__box\": {\n      position: \"relative\",\n      display: \"inline-block\",\n      boxSizing: \"border-box\",\n      width: componentVars.label_height + \"px\",\n      height: componentVars.label_height + \"px\",\n      color: \"inherit\",\n\n      \":focus\": {\n        outline: 0,\n      }\n    },\n\n    \" .pe-button.pe-control__button\": [\n      mixin.defaultTransition(\"opacity\", componentVars.animation_duration),\n      {\n        position: \"absolute\",\n        left: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n        top: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n        zIndex: 1\n      }\n    ],\n\n    \".pe-control--off\": {\n      \" .pe-control__button--on\": inactiveButton(),\n      \" .pe-control__button--off\": activeButton()\n    },\n\n    \".pe-control--on\": {\n      \" .pe-control__button--on\": activeButton(),\n      \" .pe-control__button--off\": inactiveButton()\n    },\n\n    \" .pe-control__label\": [\n      mixin.defaultTransition(\"all\", componentVars.animation_duration),\n      {\n        paddingLeft: componentVars.label_padding_before + \"px\",\n        paddingRight: componentVars.label_padding_after + \"px\"\n      }\n    ],\n\n    \".pe-control--disabled\": {\n      \" .pe-control__form-label\": {\n        cursor: \"auto\"\n      },\n      \" .pe-control__button\": {\n        pointerEvents: \"none\"\n      }\n    },\n\n    \" .pe-button__content\": {\n      \" .pe-icon\": {\n        position: \"absolute\"\n      }\n    },\n\n    \".pe-control--small\":   makeSize(componentVars, vars.unit_icon_size_small, vars.unit_icon_size_small),\n    \".pe-control--regular\": makeSize(componentVars, componentVars.label_height, vars.unit_icon_size),\n    \".pe-control--medium\":  makeSize(componentVars, vars.unit_icon_size_medium, vars.unit_icon_size_medium),\n    \".pe-control--large\":   makeSize(componentVars, vars.unit_icon_size_large, vars.unit_icon_size_large)\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint + \"_on\"], // override by specifying \"color\"\n\n    \" .pe-control__label\": {\n      color: componentVars[\"color_\" + tint + \"_label\"]\n    },\n    \" .pe-control__box\": {\n      \" .pe-control__button\": {\n        color: \"inherit\",\n\n        \" .pe-control__button--on\": {\n          color: componentVars[\"color_\" + tint + \"_on_icon\"] ||  \"inherit\"\n        },\n\n        \" .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_off_icon\"] || componentVars[\"color_\" + tint + \"_off\"]\n        }\n      }\n    },\n    \".pe-control--off\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_off_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_off\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_off_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n    \".pe-control--on\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_on_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_on\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_on_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n\n    \".pe-control--disabled\": {\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_disabled\"]\n      },\n      \" .pe-control__box\": {\n        \" .pe-control__button--on, .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_disabled\"]\n        }\n      }\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n\n","export { default as layout } from \"./layout\";\nexport { default as color } from \"./color\";\n\nexport const styles = () => null;\n"],"names":["makeSize","componentVars","height","iconSize","vars","unit_icon_size","labelSize","label_height","iconOffset","mixin","fit","selector","type","flex","layoutHorizontal","layoutCenter","label_font_size","defaultTransition","animation_duration","button_size","icon_size","label_padding_before","label_padding_after","unit_icon_size_small","unit_icon_size_medium","unit_icon_size_large","style","scopes","tint","map","s","join","styles"],"mappings":"6jBAEA,GAGMA,GAAW,SAACC,EAAeC,MAAQC,0DAAWC,OAAKC,eACjDC,EAAYH,EAAWF,EAAcM,aACrCC,GAAcF,EAAYH,GAAY,4CAGhCD,EAAS,iCAGVC,EAAW,YACVA,EAAW,oCAGZG,EAAY,YACXA,EAAY,kBAGlBG,QAAMC,IAAIF,kBAgBFG,EAAUV,EAAeW,qBACtCD,cACU,yBACE,oBACH,UACC,sBAEOC,eACL,aAGX,4BACEC,OAAKC,iBACLD,OAAKE,uBAEO,kBACF,mBACEd,EAAce,gBAAkB,gBAC9Bf,EAAcM,aAAe,YACjC,QACD,4BAGI,UAKf,4DAEY,iBAIZ,8BACY,mBACD,yBACE,mBACJN,EAAcM,aAAe,YAC5BN,EAAcM,aAAe,WAC9B,4BAGI,SAIb,kCACEE,QAAMQ,kBAAkB,UAAWhB,EAAciB,8BAErC,kBACDjB,EAAckB,YAAclB,EAAcmB,WAAa,EAAK,WAC7DnB,EAAckB,YAAclB,EAAcmB,WAAa,EAAK,YAC5D,SAIZ,wDA7DO,SACD,wCANC,SACD,SAsEN,uDAvEO,SACD,wCAIC,SACD,SAsEN,uBACEX,QAAMQ,kBAAkB,MAAOhB,EAAciB,iCAE9BjB,EAAcoB,qBAAuB,kBACpCpB,EAAcqB,oBAAsB,YAItD,4DAEY,8CAGO,cAInB,8CAEc,kBAId,qBAAwBtB,EAASC,EAAeG,OAAKmB,qBAAsBnB,OAAKmB,2BAChF,uBAAwBvB,EAASC,EAAeA,EAAcM,aAAcH,OAAKC,qBACjF,sBAAwBL,EAASC,EAAeG,OAAKoB,sBAAuBpB,OAAKoB,4BACjF,qBAAwBxB,EAASC,EAAeG,OAAKqB,qBAAsBrB,OAAKqB,6BCjI9EC,EAAQ,SAACC,EAAQhB,EAAUV,EAAe2B,eAC7CD,EAAOE,IAAI,kBAAKC,GAAInB,IAAUoB,KAAK,YAC3B9B,EAAc,SAAW2B,EAAO,oCAG9B3B,EAAc,SAAW2B,EAAO,8DAI9B,4CAGE3B,EAAc,SAAW2B,EAAO,aAAgB,8CAIhD3B,EAAc,SAAW2B,EAAO,cAAgB3B,EAAc,SAAW2B,EAAO,+EAMhF3B,EAAc,SAAW2B,EAAO,sCACxB3B,EAAc,SAAW2B,EAAO,4CAG1C3B,EAAc,SAAW2B,EAAO,eAAiB3B,EAAc,SAAW2B,EAAO,+EAK/E3B,EAAc,SAAW2B,EAAO,qCACxB3B,EAAc,SAAW2B,EAAO,2CAG1C3B,EAAc,SAAW2B,EAAO,cAAgB3B,EAAc,SAAW2B,EAAO,kEAMhF3B,EAAc,SAAW2B,EAAO,+FAI9B3B,EAAc,SAAW2B,EAAO,+BAOjCjB,EAAUV,UACxByB,GAAO,gBAAiB,kBAAmBf,EAAUV,EAAe,WAC7D,GAAI,iBAAkB,mBAAoBU,EAAUV,EAAe,WCpD/D+B,EAAS,iBAAM"}