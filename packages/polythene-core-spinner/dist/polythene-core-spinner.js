!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("polythene-core"),require("polythene-core-css"),require("polythene-theme"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-core-css","polythene-theme","polythene-utilities"],r):r(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-core-css"],e["polythene-theme"],e["polythene-utilities"])}(this,function(e,r,n,i,t){"use strict";function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function l(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function c(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var m={component:"pe-spinner",animation:"pe-spinner__animation",placeholder:"pe-spinner__placeholder",animated:"pe-spinner--animated",fab:"pe-spinner--fab",large:"pe-spinner--large",medium:"pe-spinner--medium",permanent:"pe-spinner--permanent",raised:"pe-spinner--raised",regular:"pe-spinner--regular",singleColor:"pe-spinner--single-color",small:"pe-spinner--small",visible:"pe-spinner--visible"},_=i.vars.rgba,f={size_small:3*i.vars.grid_unit_component,size_regular:4*i.vars.grid_unit_component,size_medium:5*i.vars.grid_unit_component,size_large:6*i.vars.grid_unit_component,size_fab:7*i.vars.grid_unit_component,raisedSize:function(e){var r=.25*e;return{padding:r,paddedSize:e+2*r}},color_light_raised_background:_(i.vars.color_light_background),color_dark_raised_background:_(i.vars.color_light_background)},g=function(e){return{width:e+"px",height:e+"px"}},h=function(e,r){var n=r.raisedSize(e),i=n.padding,t=n.paddedSize;return{width:t+"px",height:t+"px",padding:i+"px"}},b=function(e,r){return[o({},e,{transitionTimingFunction:"ease-out",transitionProperty:"opacity",opacity:0,".pe-spinner--visible, &.pe-spinner--permanent":{opacity:1},".pe-spinner--small":g(r.size_small),".pe-spinner--regular":g(r.size_regular),".pe-spinner--medium":g(r.size_medium),".pe-spinner--large":g(r.size_large),".pe-spinner--fab":g(r.size_fab),".pe-spinner--raised":{position:"relative",borderRadius:"50%",".pe-spinner--small":h(r.size_small,r),".pe-spinner--regular":h(r.size_regular,r),".pe-spinner--medium":h(r.size_medium,r),".pe-spinner--large":h(r.size_large,r),".pe-spinner--fab":h(r.size_fab,r)}})]},y=function(e,r,n,i){return[a({},e.map(function(e){return e+r}).join(","),{".pe-spinner--raised":{backgroundColor:n["color_"+i+"_raised_background"]}})]},v=function(e,r){return[y([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),y(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},z=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=[b,v],S="."+m.component,k=function(e,r){return n.styler.generateStyles([e,S],z({},f,r),w)};n.styler.generateStyles([S],f,w);var O=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},j=k,C={small:m.small,regular:m.regular,medium:m.medium,large:m.large,fab:m.fab},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return C[e]},P=function(e,n){return n.onChange&&n.onChange({visible:!1,transitioning:!0}),r.show(O({},n,{el:e.dom(),showClass:m.visible})).then(function(){n.onChange&&n.onChange({visible:!0,transitioning:!1}),n.didShow&&n.didShow(n.id),e.visible(!1)})},N=function(e,n){return n.onChange&&n.onChange({visible:!0,transitioning:!0}),r.hide(O({},n,{el:e.dom(),showClass:m.visible})).then(function(){n.onChange&&n.onChange({visible:!1,transitioning:!1}),n.didHide&&n.didHide(n.id),e.visible(!1)})},R=function(e,r){var n=r(!1);return{dom:r(),visible:n,redrawOnUpdate:r.merge([n])}},F=function(e){if(e.dom){var r=e.state,n=e.attrs;r.dom(e.dom),n.permanent||P(r,n)}},L=function(e,n){var i=n.keys,t=e.attrs;return O({},r.filterSupportedAttributes(t),{className:[m.component,t.instanceClass,x(t.size),t.singleColor?m.singleColor:null,t.raised?m.raised:null,t.animated?m.animated:null,t.permanent?m.permanent:null,t.permanent?m.visible:null,t.className||t[i.class]].join(" ")},t.events)},q=function(e,r){var n=r.renderer,i=r.Shadow,t=e.state,o=e.attrs;return t.hide&&setTimeout(function(){N(t,o)},0),[o.raised&&o.content?n(i,{key:"shadow",z:o.z}):null,o.content]},I=Object.freeze({classes:m,vars:f,theme:j,getInitialState:R,onMount:F,createProps:L,createContent:q}),M={component:"pe-md-spinner",animation:"pe-md-spinner__animation",circle:"pe-md-spinner__circle",circleClipper:"pe-md-spinner__circle-clipper",circleClipperLeft:"pe-md-spinner__circle-clipper-left",circleClipperRight:"pe-md-spinner__circle-clipper-right",gapPatch:"pe-md-spinner__gap-patch",layer:"pe-md-spinner__layer",layerN:"pe-md-spinner__layer-"},D=i.vars.rgba,A={border_width_small:f.size_small/f.size_regular*3,border_width_regular:3,border_width_medium:f.size_medium/f.size_regular*3,border_width_large:f.size_large/f.size_regular*3,border_width_fab:f.size_fab/f.size_regular*3,rotation_duration:479.88/306,arc_size:270,arc_time:1.333,arc_start_degrees:216,color_light_single:D(i.vars.color_primary),color_light_1:"#42a5f5",color_light_2:"#f44336",color_light_3:"#fdd835",color_light_4:"#4caf50",color_dark_single:D(i.vars.color_primary),color_dark_1:"#42a5f5",color_dark_2:"#f44336",color_dark_3:"#fdd835",color_dark_4:"#4caf50"},U="cubic-bezier(0.4, 0.0, 0.2, 1) infinite both",H=function(){return T(1)},B=function(){return T(-1)},T=function(e){return{" from":{transform:"rotate("+130*e+"deg)"}," 50%":{transform:"rotate("+-5*e+"deg)"}," to":{transform:"rotate("+130*e+"deg)"}}},W=function(e){return{" 12.5%":{transform:"rotate("+.5*e.arc_size+"deg)"}," 25%":{transform:"rotate("+1*e.arc_size+"deg)"}," 37.5%":{transform:"rotate("+1.5*e.arc_size+"deg)"}," 50%":{transform:"rotate("+2*e.arc_size+"deg)"}," 62.5%":{transform:"rotate("+2.5*e.arc_size+"deg)"}," 75%":{transform:"rotate("+3*e.arc_size+"deg)"}," 87.5%":{transform:"rotate("+3.5*e.arc_size+"deg)"}," to":{transform:"rotate("+4*e.arc_size+"deg)"}}},Q=function(e,r){return s({},"&.pe-md-spinner__layer-"+r,{animation:"mdSpinnerFillUnfillRotate "+4*e.arc_time+"s "+U+",  mdSpinnerLayer"+r+"FadeInOut "+4*e.arc_time+"s "+U})},E=function(e,r){return[s({},e,{" .pe-md-spinner__animation":{animation:"mdSpinnerRotate "+r.rotation_duration+"s linear infinite",position:"relative",width:"100%",height:"100%",direction:"ltr"}," .pe-md-spinner__gap-patch":{position:"absolute",boxSizing:"border-box",top:0,left:"45%",width:"10%",height:"100%",overflow:"hidden",borderColor:"inherit"}," .pe-md-spinner__gap-patch .pe-md-spinner__circle":{width:"1000%",left:"-450%"}," .pe-md-spinner__circle-clipper":{display:"inline-block",fontSize:0,lineHeight:0,position:"relative",width:"50%",height:"100%",overflow:"hidden",borderColor:"inherit"}," .pe-md-spinner__circle-clipper .pe-md-spinner__circle":{width:"200%"}," .pe-md-spinner__circle":[n.mixin.fit(),{animation:"none",boxSizing:"border-box",height:"100%",borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",borderBottomColor:"transparent !important"}],"&":["small","regular","medium","large","fab"].map(function(e){return s({},"&.pe-spinner--"+e,{" .pe-md-spinner__circle":{borderWidth:r["border_width_"+e]+"px"}})})," .pe-md-spinner__circle-clipper-left .pe-md-spinner__circle":{transform:"rotate(129deg)",animation:"mdSpinnerLeftSpin "+r.arc_time+"s "+U,borderRightColor:"transparent !important"}," .pe-md-spinner__circle-clipper-right .pe-md-spinner__circle":{transform:"rotate(-129deg)",animation:"mdSpinnerRightSpin "+r.arc_time+"s "+U,left:"-100%",borderLeftColor:"transparent !important"}," .pe-md-spinner__layer":[[1,2,3,4].map(function(e){return Q(r,e)}),{animation:"mdSpinnerFillUnfillRotate "+4*r.arc_time+"s "+U,position:"absolute",width:"100%",height:"100%",whiteSpace:"nowrap"}],"@keyframes mdSpinnerRotate":{" to":{transform:"rotate(360deg)"}},"@keyframes mdSpinnerRightSpin":B(),"@keyframes mdSpinnerLeftSpin":H(),"@keyframes mdSpinnerFadeOut":{" from":{opacity:.99}," to":{opacity:0}},"@keyframes mdSpinnerFillUnfillRotate":W(r),"@keyframes mdSpinnerLayer1FadeInOut":{" from":{opacity:.99}," 25%":{opacity:.99}," 26%":{opacity:0}," 89%":{opacity:0}," 90%":{opacity:.99}," 100%":{opacity:.99}},"@keyframes mdSpinnerLayer2FadeInOut":{" from":{opacity:0}," 15%":{opacity:0}," 25%":{opacity:.99}," 50%":{opacity:.99}," 51%":{opacity:0}},"@keyframes mdSpinnerLayer3FadeInOut":{" from":{opacity:0}," 40%":{opacity:0}," 50%":{opacity:.99}," 75%":{opacity:.99}," 76%":{opacity:0}},"@keyframes mdSpinnerLayer4FadeInOut":{" from":{opacity:0}," 65%":{opacity:0}," 75%":{opacity:.99}," 90%":{opacity:.99}," 100%":{opacity:0}}})]},G=function(e,r,n,i){return[l({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i+"_single"]," .pe-md-spinner__layer":{borderColor:"currentcolor"},":not(.pe-spinner--single-color)":{" .pe-md-spinner__layer-1":{borderColor:n["color_"+i+"_1"]}," .pe-md-spinner__layer-2":{borderColor:n["color_"+i+"_2"]}," .pe-md-spinner__layer-3":{borderColor:n["color_"+i+"_3"]}," .pe-md-spinner__layer-4":{borderColor:n["color_"+i+"_4"]}}})]},J=function(e,r){return[G([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),G(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},K=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V=[E,J],X="."+M.component,Y=function(e,r){return n.styler.generateStyles([e,X],K({},A,r),V)};n.styler.generateStyles([X],A,V);var Z=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$=Y,ee=function(e,r){return r("div",{key:e,className:[M.layer,M.layerN+e].join(" ")},[r("div",{key:"clipper-left",className:[M.circleClipper,M.circleClipperLeft].join(" ")},r("div",{key:"circle",className:M.circle})),r("div",{key:"gap-patch",className:M.gapPatch},r("div",{className:M.circle})),r("div",{key:"clipper-right",className:[M.circleClipper,M.circleClipperRight].join(" ")},r("div",{className:M.circle}))])},re=function(e,r){var n=r.renderer,i=e.state,t=e.attrs;return i.content=i.content||n("div",{key:"content",className:M.animation},[1,2,3,4].map(function(e){return ee(e,n)})),Z({},t,{className:[M.component,t.className].join(" "),content:i.content})},ne=Object.freeze({classes:M,vars:A,theme:$,createProps:re}),ie={component:"pe-md-progress-spinner",animation:"pe-md-progress-spinner__animation",circle:"pe-md-progress-spinner__circle",circleRight:"pe-md-progress-spinner__circle-right",circleLeft:"pe-md-progress-spinner__circle-left"},te=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oe=i.vars.rgba,ae=te({},f,{border_width_small:f.size_small/f.size_regular*3,border_width_regular:3,border_width_medium:f.size_medium/f.size_regular*3,border_width_large:f.size_large/f.size_regular*3,border_width_fab:f.size_fab/f.size_regular*3,animation_duration:"1.5s",color_light:oe(i.vars.color_primary),color_dark:oe(i.vars.color_primary)}),se=function(e,r){return[p({},e,{position:"relative"," .pe-md-progress-spinner__animation":{animationDuration:r.animationDuration,position:"absolute",width:"100%",height:"100%"}," .pe-md-progress-spinner__circle":{position:"absolute",boxSizing:"border-box",width:"100%",height:"100%",borderStyle:"solid",borderRadius:"50%"}," .pe-md-progress-spinner__circle-left, .pe-md-progress-spinner__circle-right":{transform:"rotate(0)",clip:"rect(0, 0, 0, 0)"},"&":["small","regular","medium","large","fab"].map(function(e){return p({},"&.pe-spinner--"+e,{" .pe-md-progress-spinner__circle-left, .pe-md-progress-spinner__circle-right":{borderWidth:r["border_width_"+e]+"px"}})})})]},le=function(e,r,n,i){return[c({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i]," .pe-md-progress-spinner__circle":{borderColor:"currentcolor"}})]},pe=function(e,r){return[le([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),le(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},ce=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},de=[se,pe],ue="."+ie.component,me=function(e,r){return n.styler.generateStyles([e,ue],ce({},ae,r),de)};n.styler.generateStyles([ue],ae,de);var _e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fe=me,ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return ae["size_"+e]},he=function(e,r){return e+(r-e)*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)},be=function(e,r,n,i){var t=e.style;t.transform=t["-webkit-transform"]=t["-moz-transform"]=t["-ms-transform"]=t["-o-transform"]="rotate("+he(r,n,i)+"deg)"},ye=function(e,r,n){var i=e.querySelector("."+ie.animation).style;i.clip=n<.5?"rect(0px, "+r+"px, "+r+"px, "+r/2+"px)":"rect(auto, auto, auto, auto)";var t=e.querySelector("."+ie.circleLeft),o=e.querySelector("."+ie.circleRight);t.style.clip=o.style.clip="rect(0px, "+r/2+"px, "+r+"px, 0px)",be(o,0,180,Math.min(1,2*n)),be(t,0,360,n)},ve=function(e,r,n,i){if(r.dom()&&!r.animating()){var o=r.percentage();if(i.animated&&o!==e){var a=1e3*i.updateDuration,s=r.dom(),l=null,p=function i(p){l||(l=p);var c=p-l,d=o+1/a*c*(e-o);ye(s,n,t.easing.easeInOutQuad(d)),l&&c<a?window.requestAnimationFrame(i):(l=null,r.percentage(e),r.animating(!1))};r.animating(!0),window.requestAnimationFrame(p)}else ye(r.dom(),n,e),r.percentage(e)}},ze=function(e,n,i){if(n.percentage){var t=r.unpackAttrs(n.percentage);ve(t,e,i,n)}},we=function(e){var r=ge(e.size),n=ae.raisedSize(r),i=n.padding,t=n.paddedSize;return e.raised?t-2*i:r},Se=function(e,r){var n=r(0);return{dom:r(),percentage:n,animating:r(!1)}},ke=function(e){if(e.dom){var r=e.state,n=e.attrs;r.dom(e.dom);var i=we(n);ze(r,n,i)}},Oe=function(e,r){var n=r.renderer,i=e.state,t=e.attrs,o=we(t);ze(i,t,o);var a=n("div",{key:"content",className:ie.animation,style:{width:o+"px",height:o+"px"}},[n("div",{key:"left",className:[ie.circle,ie.circleLeft].join(" ")}),n("div",{key:"right",className:[ie.circle,ie.circleRight].join(" ")})]);return _e({},t,{className:[ie.component,t.className].join(" "),content:a})},je=Object.freeze({classes:ie,vars:ae,theme:fe,getInitialState:Se,onMount:ke,createProps:Oe}),Ce={component:"pe-ios-spinner",blades:"pe-ios-spinner__blades",blade:"pe-ios-spinner__blade"},xe=i.vars.rgba,Pe={animation_duration:1,color_light:xe(i.vars.color_light_foreground),color_dark:xe(i.vars.color_dark_foreground)},Ne=function(e){return[0,1,2,3,4,5,6,7,8,9,10,11].map(function(r){var n=-1/12*r*e.animation_duration;return d({}," .pe-ios-spinner__blade:nth-of-type("+(r+1)+")",{transform:"rotate("+(360-30*r)+"deg) translate3d(0,-140%,0)",animation:"iosSpinnerFade "+e.animation_duration+"s "+n+"s linear infinite"})})},Re=function(e,r){return[d({},e,{" .pe-ios-spinner__blades":[Ne(r),{transform:"translate3d(0,0,0)",position:"relative",width:"100%",height:"100%"}]," .pe-ios-spinner__blade":{position:"absolute",width:"9%",height:"28%",left:"45.5%",top:"36%",opacity:0,borderRadius:"50px"},"@keyframes iosSpinnerFade":{" 0%":{opacity:.64}," 100%":{opacity:.035}}})]},Fe=function(e,r,n,i){return[u({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i]," .pe-ios-spinner__blade":{background:"currentcolor"}})]},Le=function(e,r){return[Fe([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),Fe(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},qe=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ie=[Re,Le],Me="."+Ce.component,De=function(e,r){return n.styler.generateStyles([e,Me],qe({},Pe,r),Ie)};n.styler.generateStyles([Me],Pe,Ie);var Ae=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ue=De,He=function(e,r){return r("div",{key:"blade-"+e,className:Ce.blade})},Be=function(e,r){var n=r.renderer,i=e.state,t=e.attrs;return i.content=i.content||n("div",{key:"content",className:Ce.blades},[0,1,2,3,4,5,6,7,8,9,10,11].map(function(e){return He(e,n)})),Ae({},t,{className:[Ce.component,t.className].join(" "),content:i.content})},Te=Object.freeze({classes:Ce,vars:Pe,theme:Ue,createProps:Be});e.coreBaseSpinner=I,e.coreMaterialDesignSpinner=ne,e.coreMaterialDesignProgressSpinner=je,e.coreiOSSpinner=Te,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-spinner.js.map
