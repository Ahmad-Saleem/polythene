!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("polythene-core"),require("polythene-icon"),require("polythene-icon-button"),require("polythene-theme"),require("polythene-css")):"function"==typeof define&&define.amd?define(["exports","mithril","polythene-core","polythene-icon","polythene-icon-button","polythene-theme","polythene-css"],e):e(o.polythene=o.polythene||{},o.m,o["polythene-core"],o["polythene-icon"],o["polythene-icon-button"],o["polythene-theme"],o["polythene-css"])}(this,function(o,e,t,n,r,l,i){"use strict";function c(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function a(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}e="default"in e?e.default:e,n="default"in n?n.default:n,r="default"in r?r.default:r;var _={component:"pe-control",formLabel:"pe-control__form-label",input:"pe-control__input",label:"pe-control__label",disabled:"pe-control--disabled",inactive:"pe-control--inactive",large:"pe-control--large",medium:"pe-control--medium",off:"pe-control--off",on:"pe-control--on",regular:"pe-control--regular",small:"pe-control--small",box:"pe-control__box",button:"pe-control__button",buttonOff:"pe-control__button--off",buttonOn:"pe-control__button--on"},u=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},s={small:_.small,regular:_.regular,medium:_.medium,large:_.large},p=function(){return s[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular"]},d=function(o){var n=o.attrs,r=o.state;"function"==typeof n.checked&&r.setChecked(n.checked());var l=r.checked(),i=void 0!==n.selectable&&n.selectable(l),c=n.disabled||!i,a=n.element||"div",s=n.name||"",d=u({},t.filterSupportedAttributes(n),{class:[_.component,n.instanceClass,l?_.on:_.off,n.disabled?_.disabled:null,c?_.inactive:null,p(n.size),"dark"===n.tone?"pe-dark-tone":null,"light"===n.tone?"pe-light-tone":null,n.class].join(" ")},n.events?n.events:null),f=[e("input",{class:_.input,name:s,value:r.value(),type:n.type,tabindex:-1,checked:l,oncreate:function(o){return r.setInputEl(o.dom)}}),e("label",{class:_.formLabel},[n.controlView?n.controlView(l,u({},n,{events:{onclick:r.toggle}})):null,n.label?e("."+_.label,c?null:{onclick:r.toggle},n.label):null])];return e(a,d,[n.before,f,n.after])},f={oninit:function(o){var e=o.attrs,t=e.value||"1",n=void 0,r=function(o){n&&(n.checked=o)},l=function(){if("function"==typeof e.checked){var o=e.checked();return void 0!==o&&o}return void 0!==e.checked&&e.checked},i=function(o){n=o,r(l())},c=function(o){r(o),e.getState&&e.getState({checked:n?n.checked:l(),value:t,el:n})},a=function(){return c(!n.checked)};o.state=u(o.state,{setInputEl:i,setChecked:c,checked:function(){return n?n.checked:l()},toggle:a,value:function(){return t}})},view:d},b=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},h=function(o,e){return b({},e[o]?e[o]:{msvg:e.theme[o]},{class:e.class},e.icon,e.size?{type:e.size}:null)},g=function(o,t){return e("div",{class:_.box},e(r,b({},{element:"div",class:_.button,content:[e(n,h("iconOn",b({},t,{class:_.buttonOn}))),e(n,h("iconOff",b({},t,{class:_.buttonOff})))],ripple:{center:!0},disabled:t.disabled,events:t.events},void 0!==t.selectable?{inactive:!t.selectable(o)}:null,t.iconButton)))},v=l.vars.rgba,m={label_font_size:2*l.vars.grid_unit_component,label_height:3*l.vars.grid_unit_component,label_padding_before:4*l.vars.grid_unit,label_padding_after:0,button_size:6*l.vars.grid_unit_component,icon_size:3*l.vars.grid_unit_component,animation_duration:l.vars.animation_duration,color_light_on:l.vars.rgba(l.vars.color_primary),color_light_off:v(l.vars.color_light_foreground,l.vars.blend_light_text_secondary),color_light_label:v(l.vars.color_light_foreground,l.vars.blend_light_text_secondary),color_light_disabled:v(l.vars.color_light_foreground,l.vars.blend_light_text_disabled),color_light_thumb_off_focus_opacity:.08,color_light_thumb_on_focus_opacity:.11,color_light_focus_on:v(l.vars.color_primary),color_light_focus_on_opacity:.11,color_light_focus_off:v(l.vars.color_light_foreground),color_light_focus_off_opacity:.07,color_dark_on:l.vars.rgba(l.vars.color_primary),color_dark_off:v(l.vars.color_dark_foreground,l.vars.blend_dark_text_secondary),color_dark_label:v(l.vars.color_dark_foreground,l.vars.blend_dark_text_secondary),color_dark_disabled:v(l.vars.color_dark_foreground,l.vars.blend_dark_text_disabled),color_dark_thumb_off_focus_opacity:.08,color_dark_thumb_on_focus_opacity:.11,color_dark_focus_on:v(l.vars.color_primary),color_dark_focus_on_opacity:.14,color_dark_focus_off:v(l.vars.color_dark_foreground),color_dark_focus_off_opacity:.09},y=function(o,e,t,n){return[c({},o.map(function(o){return o+e}).join(","),{color:t["color_"+n+"_on"]," .pe-control__label":{color:t["color_"+n+"_label"]}," .pe-control__box":{" .pe-control__button":{color:"inherit"," .pe-control__button--on":{color:t["color_"+n+"_on_icon"]||"inherit"}," .pe-control__button--off":{color:t["color_"+n+"_off_icon"]||t["color_"+n+"_off"]}}},".pe-control--off":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_off_opacity"],backgroundColor:t["color_"+n+"_focus_off"]}},".pe-control--on":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_on_opacity"],backgroundColor:t["color_"+n+"_focus_on"]}},".pe-control--disabled":{" .pe-control__label":{color:t["color_"+n+"_disabled"]}," .pe-control__box":{" .pe-control__button--on, .pe-control__button--off":{color:t["color_"+n+"_disabled"]}}}})]},k=function(o,e){return[y([".pe-dark-tone",".pe-dark-tone "],o,e,"dark"),y(["",".pe-light-tone",".pe-light-tone "],o,e,"light")]},x=function(o,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.vars.unit_icon_size,n=t+o.label_height,r=(n-t)/2;return{" .pe-control__form-label":{height:e+"px"}," .pe-control__box":{width:t+"px",height:t+"px"}," .pe-button__content":{width:n+"px",height:n+"px"," .pe-icon":[i.mixin.fit(r)]}}},z=function(){return{opacity:1,zIndex:1}},O=function(){return{opacity:0,zIndex:0}},w=function(o,e,t){var n;return[a({},o,(n={display:"inline-block",boxSizing:"border-box",margin:0,padding:0},a(n," input[type="+t+"].pe-control__input",{appearance:"none",lineHeight:e.label_height+"px",position:"absolute",zIndex:"-1",width:0,height:0,margin:0,padding:0,opacity:0,border:"none",pointerEvents:"none"}),a(n," .pe-control__form-label",[i.flex.layoutHorizontal,i.flex.layoutCenter,{position:"relative",cursor:"pointer",fontSize:e.label_font_size+"px",lineHeight:e.label_height+"px",margin:0,color:"inherit",":focus":{outline:0}}]),a(n,".pe-control--inactive",{" .pe-control__form-label":{cursor:"default"}}),a(n," .pe-control__box",{position:"relative",display:"inline-block",boxSizing:"border-box",width:e.label_height+"px",height:e.label_height+"px",color:"inherit",":focus":{outline:0}}),a(n," .pe-button.pe-control__button",[i.mixin.defaultTransition("opacity",e.animation_duration),{position:"absolute",left:-((e.button_size-e.icon_size)/2)+"px",top:-((e.button_size-e.icon_size)/2)+"px",zIndex:1}]),a(n,".pe-control--off",{" .pe-control__button--on":O()," .pe-control__button--off":z()}),a(n,".pe-control--on",{" .pe-control__button--on":z()," .pe-control__button--off":O()}),a(n," .pe-control__label",{paddingLeft:e.label_padding_before+"px",paddingRight:e.label_padding_after+"px"}),a(n,".pe-control--disabled",{" .pe-control__form-label":{cursor:"auto"}," .pe-control__button":{pointerEvents:"none"}}),a(n," .pe-button__content",{" .pe-icon":{position:"absolute"}}),a(n,".pe-control--small",x(e,l.vars.unit_icon_size_small,l.vars.unit_icon_size_small)),a(n,".pe-control--regular",x(e,e.label_height,l.vars.unit_icon_size)),a(n,".pe-control--medium",x(e,l.vars.unit_icon_size_medium,l.vars.unit_icon_size_medium)),a(n,".pe-control--large",x(e,l.vars.unit_icon_size_large,l.vars.unit_icon_size_large)),n))]};o.selectionControl=f,o.classes=_,o.controlView=g,o.vars=m,o.color=k,o.layout=w,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-selection-control.js.map
