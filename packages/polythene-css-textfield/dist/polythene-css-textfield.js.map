{"version":3,"file":"polythene-css-textfield.js","sources":["../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\nimport { mixin } from \"polythene-core-css\";\n\nexport default (selector, componentVars) => [{\n  [selector]: [\n    mixin.clearfix(),\n    {\n      position: \"relative\",\n      lineHeight: vars.line_height,\n      display: \"inline-block\",\n      boxSizing: \"border-box\",\n      margin: 0,\n      overflow: \"visible\", // Firefox needs this\n      paddingBottom: componentVars.vertical_spacing_bottom + \"px\",\n      width: \"100%\",\n      maxWidth: \"100%\",\n\n      \" .pe-textfield__input-area\": {\n        position: \"relative\",\n        paddingTop: componentVars.vertical_spacing_top + \"px\",\n\n        \"&:after\": [\n          mixin.defaultTransition(\"opacity\", componentVars.input_focus_border_animation_duration), {\n            position: \"absolute\",\n            content: \"\\\"\\\"\",\n            bottom: 0,\n            left: 0,\n            height: componentVars.input_focus_border_width + \"px\",\n            width: \"100%\",\n            opacity: 0\n          }\n        ]\n      },\n      \".pe-textfield--focused .pe-textfield__input-area:after\": {\n        opacity: 1\n      },\n\n      \" .pe-textfield__input\": {\n        display: \"block\",\n        fontSize: componentVars.font_size_input + \"px\",\n        lineHeight: componentVars.line_height_input + \"px\",\n        width: \"100%\",\n        background: \"none\",\n        textAlign: \"left\",\n        color: \"inherit\",\n        borderWidth: componentVars.input_border_width + \"px\",\n        borderStyle: \"none none solid none\",\n        borderRadius: 0,\n        margin: 0,\n        padding: componentVars.input_padding_v + \"px \" + componentVars.input_padding_h + \"px\",\n\n        // disable glow on textfield--invalid fields\n        \"&:textfield--invalid\": {\n          boxShadow: \"none\"\n        },\n        \":invalid\": {\n          boxShadow: \"none\"\n        }\n      },\n      \" textarea.pe-textfield__input\": {\n        margin: componentVars.input_padding_v + \"px \" + componentVars.input_padding_h + \"px\",\n        padding: 0,\n        display: \"block\"\n      },\n\n      // focus border\n      \" textfield__input:focus, &.pe-textfield--focused .pe-textfield__input\": {\n        \"border-width\": componentVars.input_border_width + \"px\",\n        outline: \"none\"\n      },\n\n      \" .pe-textfield__label\": {\n        position: \"absolute\",\n        display: \"block\",\n        top: (componentVars.vertical_spacing_top + componentVars.input_padding_v) + \"px\",\n        bottom: 0,\n        left: componentVars.input_padding_h + \"px\",\n        right: componentVars.input_padding_h + \"px\",\n        fontSize: componentVars.font_size_input + \"px\",\n        lineHeight: componentVars.line_height_input + \"px\",\n        pointerEvents: \"none\",\n        whiteSpace: \"nowrap\",\n        textAlign: \"left\",\n        cursor: \"text\"\n      },\n      \".pe-textfield--dirty .pe-textfield__label\": {\n        visibility: \"hidden\"\n      },\n\n      \"&:not(.pe-textfield--no-char)\": {\n        \" .pe-textfield__required-indicator, .pe-textfield__optional-indicator\": {\n          padding: \"0 0 0 .25em\"\n        }\n      },\n\n      \".pe-textfield--floating-label\": {\n        paddingBottom: componentVars.floating_label_vertical_spacing_bottom + \"px\",\n\n        \" .pe-textfield__input-area\": {\n          paddingTop: componentVars.floating_label_vertical_spacing_top + \"px\"\n        },\n\n        \" .pe-textfield__label\": [\n          mixin.defaultTransition(\"all\", componentVars.floating_label_animation_duration), {\n            top: (componentVars.floating_label_vertical_spacing_top + componentVars.input_padding_v) + \"px\"\n          }\n        ],\n\n        \".pe-textfield--focused, &.pe-textfield--dirty\": {\n          \" .pe-textfield__label\": {\n            fontSize: componentVars.font_size_floating_label + \"px\",\n            top: componentVars.floating_label_top + \"px\",\n            visibility: \"visible\"\n          }\n        },\n\n        \".pe-textfield--dense\": {\n          fontSize: componentVars.dense_font_size_input + \"px\",\n          paddingBottom: componentVars.dense_floating_label_vertical_spacing_bottom + \"px\",\n\n          \" .pe-textfield__input-area\": {\n            paddingTop: componentVars.dense_floating_label_vertical_spacing_top + \"px\"\n          },\n\n          \" .pe-textfield__input\": {\n            fontSize: componentVars.dense_font_size_input + \"px\",\n          },\n          \" .pe-textfield__label\": {\n            fontSize: componentVars.dense_font_size_input + \"px\",\n            top: (componentVars.dense_floating_label_vertical_spacing_top + componentVars.input_padding_v) + \"px\"\n          },\n\n          \".pe-textfield--focused, &.pe-textfield--dirty\": {\n            \" .pe-textfield__label\": {\n              fontSize: componentVars.dense_font_size_floating_label + \"px\",\n              top: componentVars.dense_floating_label_top + \"px\"\n            }\n          }\n        }\n      },\n\n      \".pe-textfield--disabled, &.pe-textfield--readonly\": {\n        \" .pe-textfield__label\": {\n          cursor: \"auto\"\n        },\n        \" .pe-textfield__input\": {\n          \"border-bottom\": \"none\"\n        },\n        \" .pe-textfield__input-area:after\": {\n          opacity: 1,\n          height: \"1px\",\n          bottom: \"-1px\",\n          backgroundPosition: \"top\",\n          backgroundSize: \"4px 1px\",\n          backgroundRepeat: \"repeat-x\"\n        }\n      },\n\n      \" .pe-textfield__error, .pe-textfield__error-placeholder, .pe-textfield__help, .pe-textfield__counter\": {\n        marginTop: componentVars.margin_top_error_message + \"px\",\n        fontSize: componentVars.font_size_error + \"px\",\n        lineHeight: vars.line_height,\n        minHeight: componentVars.font_size_error * vars.line_height + \"px\"\n      },\n\n      \" .pe-textfield__counter\": {\n        textAlign: \"right\",\n        float: \"right\",\n        padding: \"0 0 0 16px\"\n      },\n\n      \" .pe-textfield__help-focus\": [\n        mixin.defaultTransition(\"opacity\"), {\n          opacity: 0\n        }\n      ],\n      \".pe-textfield--focused .pe-textfield__help-focus, &.pe-textfield--dirty .pe-textfield__help-focus\": {\n        opacity: 1\n      },\n\n\n      \".pe-textfield--hide-clear\": {\n        \" .pe-textfield__input::-ms-clear\": {\n          display: \"none\"\n        }\n      },\n      \".pe-textfield--hide-spinner\": {\n        \" input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button\": {\n          \"-webkit-appearance\": \"none\",\n          margin: 0\n        },\n        \" input[type=number]\": {\n          \"-moz-appearance\": \"textfield\"\n        }\n      }\n    }, {\n      \".pe-textfield--full-width\": {\n        width: \"100%\",\n        padding: 0,\n\n        \" .pe-textfield__input-area\": {\n          padding: 0\n        },\n\n        \" .pe-textfield__input\": {\n          padding: componentVars.full_width_input_padding_v + \"px \" + componentVars.full_width_input_padding_h + \"px\"\n        },\n\n        \" .pe-textfield__error, .pe-textfield__help, .pe-textfield__counter\": {\n          paddingLeft: componentVars.full_width_input_padding_h + \"px\",\n          paddingRight: componentVars.full_width_input_padding_h + \"px\"\n        },\n\n        \" .pe-textfield__label\": {\n          top: componentVars.full_width_input_padding_v + \"px\",\n          left: componentVars.full_width_input_padding_h + \"px\",\n          right: componentVars.full_width_input_padding_h + \"px\"\n        },\n\n        \".pe-textfield--dense\": {\n          \" .pe-textfield__input\": {\n            fontSize: componentVars.dense_full_width_font_size_input + \"px\",\n            padding: componentVars.dense_full_width_input_padding_v + \"px \" + componentVars.dense_full_width_input_padding_h + \"px\"\n          },\n          \" .pe-textfield__label\": {\n            fontSize: componentVars.dense_full_width_font_size_input + \"px\",\n            top: componentVars.dense_full_width_input_padding_v + \"px\",\n            left: componentVars.dense_full_width_input_padding_h + \"px\",\n            right: componentVars.dense_full_width_input_padding_h + \"px\"\n          }\n        }\n      }\n    }\n  ]\n}];\n","const style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    // border color\n    color: componentVars[\"color_\" + tint + \"_focus_border\"], // override by specifying \"color\"\n\n    \" .pe-textfield__input-area\": {\n      color: \"inherit\",\n      backgroundColor: componentVars[\"color_\" + tint + \"_input_background\"],\n\n      \"&:after\": {\n        backgroundColor: \"currentcolor\"\n      }\n    },\n    \"&.pe-textfield--counter \": {\n      \" .pe-textfield__input-area:after\": {\n        backgroundColor: componentVars[\"color_\" + tint + \"_counter_ok_border\"]\n      }\n    },\n\n    \" .pe-textfield__input\": {\n      color: componentVars[\"color_\" + tint + \"_input_text\"],\n      borderColor: componentVars[\"color_\" + tint + \"_input_bottom_border\"]\n    },\n\n    \" .pe-textfield__label\": {\n      color: componentVars[\"color_\" + tint + \"_label_text\"]\n    },\n\n    \"&.pe-textfield--disabled, &.pe-textfield--readonly\": {\n      \" .pe-textfield__input-area:after\": {\n        backgroundColor: \"transparent\",\n        backgroundImage: \"linear-gradient(to right, \" + componentVars[\"color_\" + tint + \"_disabled_label_text\"] + \" 20%, rgba(255, 255, 255, 0) 0%)\",\n      }\n    },\n\n    \"&.pe-textfield--disabled\": {\n      \" .pe-textfield__input, .pe-textfield__label\": {\n        color: componentVars[\"color_\" + tint + \"_disabled_label_text\"]\n      }\n    },\n\n    \"&.pe-textfield--readonly\": {\n      \" .pe-textfield__input, .pe-textfield__label\": {\n        color: componentVars[\"color_\" + tint + \"_readonly_label_text\"]\n      }\n    },\n\n    \"&.pe-textfield--focused\": {\n      // note: not when textfield--dirty and not textfield--focused\n      \"&.pe-textfield--floating-label .pe-textfield__label\": {\n        color: componentVars[\"color_\" + tint + \"_highlight_text\"]\n      },\n\n      \"&.pe-textfield--required.pe-textfield--floating-label\": {\n        \" .pe-textfield__required-indicator\": {\n          color: componentVars[\"color_\" + tint + \"_required_symbol\"]\n        }\n      }\n    },\n\n    \" .pe-textfield__help, .pe-textfield__counter\": {\n      color: componentVars[\"color_\" + tint + \"_help_text\"]\n    },\n\n    \"&.pe-textfield--invalid:not(.pe-textfield--hide-validation)\": {\n      \" .pe-textfield__input\": {\n        borderColor: componentVars[\"color_\" + tint + \"_input_error_border\"],\n        boxShadow: \"none\"\n      },\n      \" .pe-textfield__label\": {\n        color: componentVars[\"color_\" + tint + \"_input_error_text\"]\n      },\n      \" .pe-textfield__error, .pe-textfield__counter, .pe-textfield__help\": {\n        color: componentVars[\"color_\" + tint + \"_input_error_text\"]\n      },\n      \"&.pe-textfield--required .pe-textfield__label\": {\n        color: componentVars[\"color_\" + tint + \"_input_error_text\"]\n      },\n      \"&, &.pe-textfield--counter\": {\n        \" .pe-textfield__input-area:after\": {\n          backgroundColor: componentVars[\"color_\" + tint + \"_input_error_border\"]\n        }\n      }\n    },\n\n    \" .pe-textfield__input:-webkit-autofill\": {\n      \"-webkit-box-shadow\": \"0 0 0px 1000px \" + componentVars[\"color_\" + tint + \"_input_background\"] + \" inset\",\n      color: componentVars[\"color_\" + tint + \"_input_text\"] + \" !important\"\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n\n","import { styler } from \"polythene-core-css\";\nimport { classes, vars } from \"polythene-core-textfield\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nexport const styles = () => \n  styler.createStyleSheets([selector], vars, fns);\n\nexport const themeStyles = (customSelector, customVars) => \n  styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n"],"names":["selector","componentVars","mixin","clearfix","vars","line_height","vertical_spacing_bottom","vertical_spacing_top","defaultTransition","input_focus_border_animation_duration","input_focus_border_width","font_size_input","line_height_input","input_border_width","input_padding_v","input_padding_h","floating_label_vertical_spacing_bottom","floating_label_vertical_spacing_top","floating_label_animation_duration","font_size_floating_label","floating_label_top","dense_font_size_input","dense_floating_label_vertical_spacing_bottom","dense_floating_label_vertical_spacing_top","dense_font_size_floating_label","dense_floating_label_top","margin_top_error_message","font_size_error","full_width_input_padding_v","full_width_input_padding_h","dense_full_width_font_size_input","dense_full_width_input_padding_v","dense_full_width_input_padding_h","style","scopes","tint","map","s","join","fns","layout","color","classes","component","addStyle","customSelector","customVars","styler","generateStyles","styles","createStyleSheets","themeStyles"],"mappings":"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"}