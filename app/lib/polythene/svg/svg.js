define(["mithril","polythene/polythene/polythene"],function(e,r){"use strict";var n,t,i;return t={},n=function(e){var n=["polythene/svg"];return n.push(e.iconset||r.iconSet),e.group&&n.push(e.group),e.name&&n.push(e.name),n.join("/")+".svg"},i=function(n,t){var i,o,s;return t=t||{},i=t.tag||"div",o={"class":["svg",t["class"]].join(" "),config:t.config},s=e.trust(n.svg()),e(i,o,r.insertContent(s,t))},{controller:function(r){var i,o,s,u;return i=this,o=e.prop(),s=r.src?r.src:n(r),u=require.toUrl(s),{view:o,svg:!r.refresh&&t[u]?e.prop(t[u]):e.request({method:"GET",url:u,background:!0,deserialize:function(n){return r.refresh||(t[u]=n),e.redraw(),o(null),n},initialValue:""})}},view:function(e,r){r=r||{};var n=e.view();return(!n||r.refresh)&&(n=i(e,r),e.view(n)),n}}});