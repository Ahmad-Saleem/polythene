{"version":3,"file":"polythene-css-card.js","sources":["../src/layout.js","../src/color.js","../src/color-content.js","../src/color-overlay.js","../src/index.js"],"sourcesContent":["import { mixin, flex } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nexport default (selector, componentVars) => [{\n  [selector]: {\n    display: \"block\",\n    position: \"relative\",\n    borderRadius: componentVars.border_radius + \"px\",\n\n    \"&, a:link, a:visited\": {\n      textDecoration: \"none\"\n    },\n\n    \" .pe-card__content\": {\n      position: \"relative\",\n      borderRadius: \"inherit\",\n      overflow: \"hidden\",\n      width: \"inherit\",\n      height: \"inherit\"\n    },\n\n    \" .pe-card__media\": {\n      position: \"relative\",\n      overflow: \"hidden\",\n      borderTopLeftRadius: \"inherit\",\n      borderTopRightRadius: \"inherit\",\n      zIndex: 1, // makes rounded corners on absolute images work (without this, no rounded image)\n\n      \"&.pe-card__media--landscape\": {\n        paddingBottom: (100 / 16 * 9) + \"%\"\n      },\n      \"&.pe-card__media--square\": {\n        paddingBottom: \"100%\"\n      },\n      \"&:last-child\": {\n        \"&, img\": {\n          borderBottomLeftRadius: componentVars.border_radius + \"px\",\n          borderBottomRightRadius: componentVars.border_radius + \"px\"\n        }\n      },\n      \" img\": [\n        mixin.fit(),\n        {\n          display: \"none\",\n          width: \"100%\",\n          maxWidth: \"none\",\n\n          \"&.pe-card__media--crop-x\": {\n            width: \"100%\",\n            height: \"auto\",\n            display: \"block\"\n          },\n          \"&.pe-card__media--crop-y\": {\n            height: \"100%\",\n            width: \"auto\",\n            display: \"block\"\n          }\n        }\n      ]\n    },\n\n    \" .pe-card__header + .pe-card__media\": {\n      borderTopLeftRadius: 0,\n      borderTopRightRadius: 0\n    },\n\n    \" .pe-card__primary-media\": {\n      margin: \"16px 16px 0 16px\",\n\n      \" .pe-card__media--small\": {\n        width: componentVars.image_size_small + \"px\"\n      },\n      \" .pe-card__media--regular\": {\n        width: componentVars.image_size_regular + \"px\"\n      },\n      \" .pe-card__media--medium\": {\n        width: componentVars.image_size_medium + \"px\"\n      },\n      \" .pe-card__media--large\": {\n        width: componentVars.image_size_large + \"px\",\n        marginBottom: \"16px\"\n      },\n      \" .pe-card__media\": {\n        \"&, img\": {\n          borderRadius: 0\n        }\n      },\n\n      \" .pe-shadow + &\": {\n        // first child\n        \"&, img\": {\n          borderTopLeftRadius: componentVars.border_radius + \"px\",\n          borderTopRightRadius: componentVars.border_radius + \"px\"\n        }\n      },\n    },\n\n    \" .pe-card__overlay\": mixin.fit(),\n\n    \" .pe-card__media__dimmer\": [\n      mixin.fit(), {\n        zIndex: 1\n      }\n    ],\n\n    \" .pe-card__overlay__content\": {\n      position: \"absolute\",\n      bottom: 0,\n      top: \"auto\",\n      right: 0,\n      left: 0,\n      zIndex: 2\n    },\n\n    \" .pe-card__header\": {\n      height: componentVars.one_line_height_with_icon + \"px\",\n\n      \" .pe-list-tile__title\": {\n        fontSize: \"14px\",\n        fontWeight: vars.font_weight_normal,\n        lineHeight: \"20px\",\n        marginTop: \"2px\"\n      },\n      \" .pe-list-tile__subtitle\": {\n        marginTop: \"-1px\"\n      }\n    },\n\n    \" .pe-card__primary\": [\n      flex.layoutHorizontal, {\n        position: \"relative\",\n\n        \"&.pe-card__primary--media:not(:last-child)\": {\n          paddingBottom: \"16px\"\n        },\n        \"&.pe-card__primary--media + .pe-card__actions\": {\n          marginTop: \"-16px\"\n        },\n        \"& + .pe-card__text\": {\n          marginTop: \"-16px\"\n        },\n        \"&.pe-card__primary--tight\": {\n          \" .pe-card__title\": {\n            paddingBottom: (componentVars.tight_title_padding_bottom - componentVars.subtitle_line_height_padding_bottom) + \"px\"\n          }\n        }\n      }\n    ],\n    \" .pe-card__title\": [\n      flex.flex(), {\n        padding: [componentVars.title_padding_v, componentVars.title_padding_h, (componentVars.title_padding_v - componentVars.subtitle_line_height_padding_bottom), componentVars.title_padding_h].map((v) => (v + \"px\")).join(\" \"),\n        fontSize: \"24px\",\n        lineHeight: \"29px\"\n      }\n    ],\n    \" .pe-card__subtitle\": {\n      fontSize: \"14px\",\n      lineHeight: \"24px\"\n    },\n\n    \" .pe-card__actions\": [{\n      minHeight: 36 + 2 * 8 + \"px\",\n      padding: componentVars.actions_padding_v + \"px\" + \" \" + componentVars.padding_actions_h + \"px\",\n\n      \"&.pe-card__actions--tight\": {\n        minHeight: 0,\n        padding: 0\n      },\n      \"&.pe-card__actions--horizontal:not(.pe-card__actions--justified)\": [\n        flex.layoutHorizontal,\n        flex.layoutCenter, {\n          \" :first-child\": {\n            marginLeft: 0\n          },\n          \" .pe-button\": {\n            minWidth: 0\n          },\n          \" .pe-button--icon\": {\n            marginRight: \"8px\"\n          }\n        }\n      ],\n\n      \"&.pe-card__actions--justified\": [\n        flex.layoutJustified\n      ],\n\n      \"&.pe-card__actions--vertical\": [\n        flex.layoutVertical,\n        {\n          \":not(.pe-card__actions--tight)\": {\n            // vertical flex layout\n            paddingTop: componentVars.actions_vertical_padding_v + \"px\",\n            paddingBottom: componentVars.actions_vertical_padding_v + \"px\",\n          },\n\n          // nested\n          \" .pe-card__actions\": [{\n            marginLeft: -componentVars.padding_actions_h + \"px\",\n            marginRight: -componentVars.padding_actions_h + \"px\",\n            minHeight: 0,\n\n            \"&:first-child\": {\n              marginTop: -componentVars.actions_vertical_padding_v + \"px\"\n            },\n            \"&:last-child\": {\n              marginBottom: -componentVars.actions_vertical_padding_v + \"px\"\n            }\n          }],\n\n          \" .pe-button\": {\n            height: \"36px\",\n            padding: 0,\n            marginTop: componentVars.actions_button_margin_v + \"px\",\n            marginBottom: componentVars.actions_button_margin_v + \"px\"\n          },\n          \" .pe-list\": {\n            padding: 0\n          }\n        }\n      ]\n    }],\n\n    \" .pe-card__text\": {\n      paddingTop: componentVars.text_padding_v - componentVars.text_line_height_padding_top + \"px\",\n      paddingRight: componentVars.text_padding_h + \"px\",\n      paddingLeft: componentVars.text_padding_h + \"px\",\n      paddingBottom: componentVars.tight_text_padding_bottom - componentVars.text_line_height_padding_bottom + \"px\",\n      fontSize: \"14px\",\n      lineHeight: \"24px\",\n\n      \"&:last-child\": {\n        paddingBottom: componentVars.text_padding_bottom - componentVars.text_line_height_padding_bottom + \"px\"\n      },\n      \"&.pe-card__text--tight, &.pe-card__text--tight:last-child\": {\n        paddingBottom: componentVars.tight_text_padding_bottom - componentVars.text_line_height_padding_bottom + \"px\"\n      },\n      \" .pe-card__actions + &\": {\n        marginTop: \"8px\"\n      }\n    },\n\n    \" .pe-card__text, .pe-card__primary\": {\n      \"& + .pe-card__actions:not(:last-child)\": {\n        marginTop: -(componentVars.offset_small_padding_v + 1) + \"px\",\n        marginBottom: -(componentVars.offset_small_padding_v - 1) + \"px\"\n      }\n    }\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    backgroundColor: componentVars[\"color_\" + tint + \"_main_background\"]\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-card__title\": {\n      color: componentVars[\"color_\" + tint + \"_title_text\"]\n    },\n    \" .pe-card__subtitle\": {\n      color: componentVars[\"color_\" + tint + \"_subtitle_text\"]\n    },\n    \" .pe-card__text\": {\n      color: componentVars[\"color_\" + tint + \"_text\"]\n    },\n    \" .pe-card__actions--borders\": {\n      borderTop: \"1px solid \" + componentVars[\"color_\" + tint + \"_actions_border\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-card__overlay__content\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_overlay_background\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { classes, vars } from \"polythene-core-card\";\nimport layout from \"./layout\";\nimport color from \"./color\";\nimport contentColor from \"./color-content\";\nimport overlayColor from \"./color-overlay\";\n\nconst selector = `.${classes.component}`;\nconst contentSelector = `.${classes.content}`;\nconst overlaySheetSelector = `.${classes.overlaySheet}`;\nconst overlayContentSelector = `.${classes.overlayContent}`;\n\nexport const addStyle = (customSelector, customVars) => {\n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, [layout, color]),\n  styler.generateStyles([customSelector, \" \" + overlaySheetSelector], {...vars, ...customVars}, [overlayColor]),\n  styler.generateStyles([customSelector, \" \" + contentSelector], {...vars, ...customVars}, [contentColor]),\n  styler.generateStyles([customSelector, \" \" + overlayContentSelector], {...vars, ...customVars}, [contentColor]);\n};\n\nexport const getStyle = (customSelector, customVars) =>\n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, [layout, color])\n      .concat(styler.createStyleSheets([customSelector, \" \" + overlaySheetSelector], {...vars, ...customVars}, [overlayColor]))\n      .concat(styler.createStyleSheets([customSelector, \" \" + contentSelector], {...vars, ...customVars}, [contentColor]))\n      .concat(styler.createStyleSheets([customSelector, \" \" + overlayContentSelector], {...vars, ...customVars}, [contentColor]))\n    : styler.createStyleSheets([selector], vars, [layout, color])\n      .concat(styler.createStyleSheets([overlaySheetSelector], vars, [overlayColor]))\n      .concat(styler.createStyleSheets([contentSelector], vars, [contentColor]))\n      .concat(styler.createStyleSheets([overlayContentSelector], vars, [contentColor]));\n\nstyler.generateStyles([selector], vars, [layout, color]);\nstyler.generateStyles([overlaySheetSelector], vars, [overlayColor]);\nstyler.generateStyles([contentSelector], vars, [contentColor]);\nstyler.generateStyles([overlayContentSelector], vars, [contentColor]);\n"],"names":["selector","componentVars","border_radius","mixin","fit","image_size_small","image_size_regular","image_size_medium","image_size_large","one_line_height_with_icon","vars","font_weight_normal","flex","layoutHorizontal","tight_title_padding_bottom","subtitle_line_height_padding_bottom","title_padding_v","title_padding_h","map","v","join","actions_padding_v","padding_actions_h","layoutCenter","layoutJustified","layoutVertical","actions_vertical_padding_v","actions_button_margin_v","text_padding_v","text_line_height_padding_top","text_padding_h","tight_text_padding_bottom","text_line_height_padding_bottom","text_padding_bottom","offset_small_padding_v","style","scopes","tint","s","classes","component","contentSelector","content","overlaySheetSelector","overlaySheet","overlayContentSelector","overlayContent","addStyle","customSelector","customVars","generateStyles","layout","color","styler","overlayColor","contentColor","getStyle","createStyleSheets","concat"],"mappings":"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"}