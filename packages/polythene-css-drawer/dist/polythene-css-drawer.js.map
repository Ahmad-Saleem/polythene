{"version":3,"file":"polythene-css-drawer.js","sources":["../../polythene-css-classes/drawer.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-dialog pe-drawer\",\n\n  // states\n  cover:           \"pe-drawer--cover\",\n  push:            \"pe-drawer--push\",\n  mini:            \"pe-drawer--mini\",\n  permanent:       \"pe-drawer--permanent\",\n  border:          \"pe-drawer--border\",\n  floating:        \"pe-drawer--floating\",\n  fixed:           \"pe-drawer--fixed\",\n  anchorEnd:       \"pe-drawer--anchor-end\",\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin } from \"polythene-core-css\";\n\nconst SHADOW_WIDTH = 15;\n\nconst alignLeft = componentVars => ({\n  // Bordered\n  \".pe-drawer--border .pe-dialog__content\": {\n    borderStyle: \"none solid none none\"\n  },\n\n  // Fixed\n  \".pe-drawer--fixed\": {\n    left: 0,\n    right: \"auto\",\n  },\n\n  // Cover\n  \".pe-drawer--cover .pe-dialog__content\": {\n    left: `${-componentVars.content_max_width - SHADOW_WIDTH}px`,\n    right: \"auto\",\n  },\n  \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n    left: 0,\n    right: \"auto\"\n  },\n\n  // Push\n  \".pe-drawer--push .pe-dialog__content\": {\n    marginLeft: `${-componentVars.permanent_content_width - SHADOW_WIDTH}px`, // reverse for RTL - see below\n    marginRight: \"auto\",\n  },\n  \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: \"auto\"\n  },\n\n  // Mini\n  \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: 0,\n  },\n\n});\n\nconst alignRight = componentVars => ({\n  // Bordered\n  \".pe-drawer--border .pe-dialog__content\": {\n    borderStyle: \"none none none solid\"\n  },\n\n  // Fixed\n  \".pe-drawer--fixed\": {\n    left: \"auto\",\n    right: 0,\n  },\n\n  // Cover\n  \".pe-drawer--cover .pe-dialog__content\": {\n    right: `${-componentVars.content_max_width - SHADOW_WIDTH}px`, // reverse for RTL - see below\n    left: \"auto\",\n  },\n  \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n    right: 0,\n    left: \"auto\"\n  },\n\n  // Push\n  \".pe-drawer--push .pe-dialog__content\": {\n    marginRight: `${-componentVars.permanent_content_width - SHADOW_WIDTH}px`,\n    marginLeft: \"auto\",\n  },\n  \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n    marginRight: 0,\n    marginLeft: \"auto\"\n  },\n\n  // Mini\n  \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: 0,\n  },\n});\n\nexport default (selector, componentVars) => [\n  {\n    [selector]: {\n      justifyContent: \"flex-start\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 1,\n      height: \"100%\",\n      padding: 0,\n      opacity: 1,\n\n      \" .pe-dialog__content\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          position: \"relative\",\n          borderRadius: 0,\n          height: \"100%\",\n          overflow: \"visible\"\n        }\n      ],\n\n      \" .pe-dialog-pane__content\": {\n        height: \"100%\",\n        overflowY: \"auto\", \n        overflowX: \"hidden\", \n      },\n      \n      \" .pe-dialog-pane\": {\n        height: \"100%\",\n        minWidth: 0 // IE 11 does not accept \"none\" or \"inital\" here\n      },\n\n      \" .pe-dialog-pane__body\": {\n        overflow: \"visible\"\n      },\n\n      // Fixed\n      \".pe-drawer--fixed\": {\n        position: \"fixed\",\n        top: 0,\n        width: \"100%\",\n        zIndex: vars.z_app_bar,\n      },\n\n      // Permanent\n      \".pe-drawer--permanent:not(.pe-drawer--mini)\": {\n        position: \"static\",\n        display: \"block\",\n        padding: 0,\n        overflow: \"initial\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n          overflow: \"visible\",\n          maxHeight: \"initial\",\n        }\n      },\n\n      // Floating\n      \".pe-drawer--floating\": {\n        height: \"auto\"\n      },\n\n      // Bordered\n      \".pe-drawer--border\": {\n        \" .pe-dialog__content\": {\n          borderWidth: \"1px\",\n        },\n      },\n\n      // Cover (default)\n      \".pe-drawer--cover\": {\n        \" .pe-dialog__content\": {\n          position: \"absolute\",\n          width: `calc(100% - ${componentVars.content_side_offset}px)`,\n          maxWidth: `${componentVars.content_max_width}px`,\n          top: 0,\n        }\n      },\n\n      // Push\n      \".pe-drawer--push\": {\n        position: \"static\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n        }\n      },\n      \n      // Mini\n      \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n        width: `${componentVars.content_width_mini_collapsed}px`,\n      },\n\n      // Backdrop\n      \" .pe-dialog__backdrop, .pe-dialog__touch\": {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      },\n      \" .pe-dialog__backdrop\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          opacity: 0 \n        }\n      ],\n      \".pe-dialog--visible .pe-dialog__backdrop\": {\n        opacity: 1\n      }\n    },\n\n    [`*[dir=rtl] ${selector}.pe-drawer--anchor-end, .pe-rtl ${selector}.pe-drawer--anchor-end, ${selector}:not(.pe-drawer--anchor-end)`]: alignLeft(componentVars),\n\n    // RTL\n\n    [`*[dir=rtl] ${selector}, .pe-rtl ${selector}, ${selector}.pe-drawer--anchor-end`]: [\n      alignRight(componentVars)\n    ],\n\n    // Media queries\n\n    [\"@media (min-width: \" + vars.breakpoint_for_tablet_portrait_up + \"px)\"]: {\n      [selector]: {\n        \".pe-drawer--push\": {\n          \" .pe-dialog__content\": {\n            maxWidth: `${componentVars.content_max_width_large}px`,\n          }\n        },\n        \" .pe-dialog__content\": {\n          width: `calc(100% - ${componentVars.content_side_offset_large}px)`,\n          maxWidth: `${componentVars.content_max_width_large}px`,\n        },\n      }\n    }\n  },\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-dialog__content\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n      borderColor: componentVars[\"color_\" + tint + \"_border\"]\n    },\n    \" .pe-dialog__backdrop\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-drawer\";\nimport classes from \"polythene-css-classes/drawer\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);  \n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n"],"names":["SHADOW_WIDTH","alignLeft","componentVars","content_max_width","permanent_content_width","alignRight","selector","mixin","defaultTransition","vars","z_app_bar","content_side_offset","content_width_mini_collapsed","breakpoint_for_tablet_portrait_up","content_max_width_large","content_side_offset_large","style","scopes","tint","map","s","join","fns","layout","color","classes","component","replace","addStyle","customSelector","customVars","styler","generateStyles","getStyle","createStyleSheets"],"mappings":"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"}