!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("polythene-core"),require("polythene-icon"),require("polythene-icon-button"),require("polythene-theme"),require("polythene-css")):"function"==typeof define&&define.amd?define(["exports","mithril","polythene-core","polythene-icon","polythene-icon-button","polythene-theme","polythene-css"],e):e(o.polythene=o.polythene||{},o.m,o["polythene-core"],o["polythene-icon"],o["polythene-icon-button"],o["polythene-theme"],o["polythene-css"])}(this,function(o,e,t,n,r,l,i){"use strict";e="default"in e?e.default:e;var c=function(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o},_=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},a={component:"pe-control",formLabel:"pe-control__form-label",label:"pe-control__label",input:"pe-control__input",on:"pe-control--on",off:"pe-control--off",disabled:"pe-control--disabled",inactive:"pe-control--inactive",small:"pe-control--small",regular:"pe-control--regular",medium:"pe-control--medium",large:"pe-control--large"},u={small:a.small,regular:a.regular,medium:a.medium,large:a.large},s=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return u[o]},p=function(o){var n=o.attrs,r=o.state;"function"==typeof n.checked&&r.setChecked(n.checked());var l=r.checked(),i=void 0!==n.selectable&&n.selectable(l),c=n.disabled||!i,u=n.element||"div",p=n.name||"",d=_({},t.filterSupportedAttributes(n),{class:[a.component,n.defaultClass,l?a.on:a.off,n.disabled?a.disabled:null,c?a.inactive:null,s(n.size),n.class].join(" ")},n.events?n.events:null),f=[e("input",{class:a.input,name:p,value:r.value(),type:n.type,tabindex:-1,checked:l,oncreate:function(o){return r.setInputEl(o.dom)}}),e("label",{class:a.formLabel},[n.controlView?n.controlView(l,_({},n,{events:{onclick:r.toggle}})):null,n.label?e("."+a.label,c?null:{onclick:r.toggle},n.label):null])];return e(u,d,[n.before,f,n.after])},d={oninit:function(o){var e=o.attrs,t=!1,n=e.value||"1",r=void 0,l=function(o){r&&(r.checked=o)},i=function(){if("function"==typeof e.checked){var o=e.checked();return void 0!==o?o:t}return void 0!==e.checked?e.checked:t},c=function(o){r=o,l(i())},_=function(o){l(o),e.getState&&e.getState({checked:r?r.checked:i(),value:n,el:r})},a=function(){return _(!r.checked)};o.state={setInputEl:c,setChecked:_,checked:function(){return r?r.checked:i()},toggle:a,value:function(){return n}}},view:p},f={box:"pe-control__box",button:"pe-control__button",on:"pe-control__button--on",off:"pe-control__button--off"},b=function(o,e){return _({},e[o]?e[o]:{msvg:e.theme[o]},{class:e.class},e.icon,e.size?{type:e.size}:null)},h=function(o,t){return e("div",{class:f.box},e(r.iconButton,_({},{element:"div",class:f.button,content:[e(n.icon,b("iconOn",_({},t,{class:f.on}))),e(n.icon,b("iconOff",_({},t,{class:f.off})))],ripple:{center:!0},disabled:t.disabled,events:t.events},void 0!==t.selectable?{inactive:!t.selectable(o)}:null,t.iconButton)))},g=l.vars.rgba,v=l.vars.color_primary,m=(l.vars.grid_unit_icon_button-l.vars.unit_icon_size)/2,y={label_font_size:2*l.vars.grid_unit_component,label_height:3*l.vars.grid_unit_component,padding:Math.floor(1.7*l.vars.grid_unit_component),label_padding:m,button_size:6*l.vars.grid_unit_component,icon_size:3*l.vars.grid_unit_component,animation_duration:l.vars.animation_duration,color_light_on:l.vars.rgba(v),color_light_off:g(l.vars.color_light_foreground,l.vars.blend_light_text_secondary),color_light_label:g(l.vars.color_light_foreground,l.vars.blend_light_text_secondary),color_light_disabled:g(l.vars.color_light_foreground,l.vars.blend_light_text_disabled),color_light_thumb_off_focus_opacity:.08,color_light_thumb_on_focus_opacity:.11,color_light_focus_on:g(l.vars.color_primary),color_light_focus_on_opacity:.11,color_light_focus_off:g(l.vars.color_light_foreground),color_light_focus_off_opacity:.07,color_dark_on:l.vars.rgba(v),color_dark_off:g(l.vars.color_dark_foreground,l.vars.blend_dark_text_secondary),color_dark_label:g(l.vars.color_dark_foreground,l.vars.blend_dark_text_secondary),color_dark_disabled:g(l.vars.color_dark_foreground,l.vars.blend_dark_text_disabled),color_dark_thumb_off_focus_opacity:.08,color_dark_thumb_on_focus_opacity:.11,color_dark_focus_on:g(l.vars.color_primary),color_dark_focus_on_opacity:.14,color_dark_focus_off:g(l.vars.color_dark_foreground),color_dark_focus_off_opacity:.09},x=function(o,e,t,n){return[c({},o+e,{color:t["color_"+n+"_on"]," .pe-control__label":{color:t["color_"+n+"_label"]}," .pe-control__box":{" .pe-control__button":{color:"inherit"," .pe-control__button--on":{color:t["color_"+n+"_on_icon"]||"inherit"}," .pe-control__button--off":{color:t["color_"+n+"_off_icon"]||t["color_"+n+"_off"]}}},".pe-control--off":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_off_opacity"],backgroundColor:t["color_"+n+"_focus_off"]}},".pe-control--on":{" .pe-button--focus .pe-button__focus":{opacity:t["color_"+n+"_focus_on_opacity"],backgroundColor:t["color_"+n+"_focus_on"]}},".pe-control--disabled":{" .pe-control__label":{color:t["color_"+n+"_disabled"]}," .pe-control__box":{" .pe-control__button--on, .pe-control__button--off":{color:t["color_"+n+"_disabled"]}}}})]},k=function(o,e){return[x("",o,e,"light"),x(".pe-dark-theme ",o,e,"dark")]},z=function(o,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.vars.unit_icon_size,n=t+2*o.label_padding,r=(n-t)/2;return{" .pe-control__form-label":{height:e+"px"}," .pe-control__box":{width:t+"px",height:t+"px"}," .pe-button__content":{width:n+"px",height:n+"px"," .pe-icon":[i.mixin.fit(r)]}}},w=function(){return{opacity:1,zIndex:1}},C=function(){return{opacity:0,zIndex:0}},O=function(o,e,t){var n;return[c({},o,(n={display:"inline-block",boxSizing:"border-box",margin:0,padding:0," .pe-control__form-label":[i.flex.layoutHorizontal,i.flex.layoutCenter,{position:"relative",cursor:"pointer",fontSize:e.label_font_size+"px",lineHeight:e.label_height+"px",margin:0,color:"inherit",":focus":{outline:0}}],".pe-control--inactive":{" .pe-control__form-label":{cursor:"default"}}},c(n," input[type="+t+"].pe-control__input",[i.mixin.vendorize({appearance:"none"},l.vars.prefixes_appearance),{lineHeight:e.label_height+"px",position:"absolute",zIndex:"-1",width:0,height:0,margin:0,padding:0,opacity:0,border:"none",pointerEvents:"none"}]),c(n," .pe-control__box",{position:"relative",display:"inline-block",boxSizing:"border-box",width:e.label_height+"px",height:e.label_height+"px",color:"inherit",":focus":{outline:0}}),c(n," .pe-button.pe-control__button",[i.mixin.defaultTransition("opacity",e.animation_duration),{position:"absolute",left:-((e.button_size-e.icon_size)/2)+"px",top:-((e.button_size-e.icon_size)/2)+"px",zIndex:1}]),c(n,".pe-control--off",{" .pe-control__button--on":C()," .pe-control__button--off":w()}),c(n,".pe-control--on",{" .pe-control__button--on":w()," .pe-control__button--off":C()}),c(n," .pe-control__label",{marginBottom:"-1px",paddingLeft:e.padding+"px",paddingRight:e.padding+"px"}),c(n,".pe-control--disabled",{" .pe-control__form-label":{cursor:"auto"}," .pe-control__button":{pointerEvents:"none"}}),c(n," .pe-button__content",{" .pe-icon":{position:"absolute"}}),c(n,".pe-control--small",z(e,l.vars.unit_icon_size_small,l.vars.unit_icon_size_small)),c(n,".pe-control--regular",z(e,e.label_height,l.vars.unit_icon_size)),c(n,".pe-control--medium",z(e,l.vars.unit_icon_size_medium,l.vars.unit_icon_size_medium)),c(n,".pe-control--large",z(e,l.vars.unit_icon_size_large,l.vars.unit_icon_size_large)),n))]};o.selectionControl=d,o.classes=a,o.controlView=h,o.vars=y,o.color=k,o.layout=O,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-selection-control.js.map
