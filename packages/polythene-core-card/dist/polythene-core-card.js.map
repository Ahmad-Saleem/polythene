{"version":3,"file":"polythene-core-card.js","sources":["../../polythene-css-classes/card.js","../src/card.js","../../polythene-css-classes/button.js","../src/card-actions.js","../src/card-media.js","../src/card-primary.js","../src/vars.js"],"sourcesContent":["\nexport default {\n  component:           \"pe-card\",\n  \n  // elements\n  actions:             \"pe-card__actions\",\n  any:                 \"pe-card__any\",\n  content:             \"pe-card__content\",\n  header:              \"pe-card__header\",\n  headerTitle:         \"pe-card__header-title\",\n  media:               \"pe-card__media\",\n  mediaDimmer:         \"pe-card__media__dimmer\",\n  overlay:             \"pe-card__overlay\",\n  overlayContent:      \"pe-card__overlay__content\",\n  primary:             \"pe-card__primary\",\n  primaryMedia:        \"pe-card__primary-media\",\n  subtitle:            \"pe-card__subtitle\",\n  text:                \"pe-card__text\",\n  title:               \"pe-card__title\",\n\n  // states\n  actionsBordered:     \"pe-card__actions--borders\",\n  actionsHorizontal:   \"pe-card__actions--horizontal\",\n  actionsJustified:    \"pe-card__actions--justified\",\n  actionsTight:        \"pe-card__actions--tight\",\n  actionsVertical:     \"pe-card__actions--vertical\",\n  mediaCropX:          \"pe-card__media--crop-x\",\n  mediaCropY:          \"pe-card__media--crop-y\",\n  mediaLarge:          \"pe-card__media--large\",\n  mediaMedium:         \"pe-card__media--medium\",\n  mediaRatioLandscape: \"pe-card__media--landscape\",\n  mediaRatioSquare:    \"pe-card__media--square\",\n  mediaRegular:        \"pe-card__media--regular\",\n  mediaSmall:          \"pe-card__media--small\",\n  overlaySheet:        \"pe-card__overlay--sheet\",\n  primaryHasMedia:     \"pe-card__primary--media\",\n  primaryTight:        \"pe-card__primary--tight\",\n  textTight:           \"pe-card__text--tight\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nconst createOverlay = ({ dispatcher, attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  const content = attrs.content.map(dispatcher);\n  return h(\"div\",\n    {\n      key: attrs.key || \"card-overlay\",\n      style: attrs.style,\n      className: [\n        classes.overlay,\n        attrs.sheet ? classes.overlaySheet : null,\n        attrs.tone === \"light\" ? null : \"pe-dark-tone\", // default dark tone\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n      ].join(\" \")\n    },\n    [\n      h(element, {\n        key: \"content\",\n        className: [\n          classes.overlayContent,\n          attrs.className || attrs[k.class]\n        ].join(\" \")\n      }, content),\n      h(\"div\",\n        {\n          key: \"dimmer\",\n          className: classes.mediaDimmer\n        }\n      )\n    ]\n  );\n};\n\nconst createAny = ({ attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  return h(element, Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: attrs.key || \"card-any\",\n      className: [\n        classes.any,\n        attrs.tight ? classes.textTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  ), attrs.content);\n};\n\nconst createText = ({ attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  return h(element, Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: attrs.key || \"card-text\",\n      className: [\n        classes.text,\n        attrs.tight ? classes.textTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  ), attrs.content);\n};\n\nconst createHeader = ({ attrs, h, k, Icon, ListTile }) => {\n  return h(ListTile, Object.assign(\n    {},\n    attrs,\n    {\n      key: attrs.key || \"card-header\",\n      className: [\n        classes.header,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    },\n    attrs.icon\n      ? { front: h(Icon, attrs.icon) }\n      : null\n  ));\n};\n\nexport const getElement = vnode =>\n  vnode.attrs.element || vnode.attrs.url\n    ? \"a\"\n    : \"div\";\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    },\n    attrs.url,\n    attrs.events\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, keys: k, CardActions, CardMedia, CardPrimary, Icon, Shadow, ListTile }) => {\n\n  const dispatcher = block => {\n    const key = Object.keys(block)[0];\n    const attrs = Object.assign(\n      {},\n      block[key],\n      {\n        dispatcher,\n        key\n      }\n    );\n    switch (key) {\n    case \"actions\": \n      return h(CardActions, attrs);\n    case \"header\": \n      return createHeader({ attrs, h, k, Icon, ListTile });\n    case \"media\": \n      return h(CardMedia, attrs);\n    case \"overlay\": \n      return createOverlay({ dispatcher, attrs, h, k });\n    case \"primary\": \n      return h(CardPrimary, attrs);\n    case \"text\": \n      return createText({ attrs, h, k });\n    case \"any\": \n      return createAny({ attrs, h, k });\n    default:\n      throw(`Content type \"${key}\" does not exist`);\n    }\n  };\n\n  const attrs = vnode.attrs;\n  const contents = Array.isArray(attrs.content)\n    ? attrs.content.map(dispatcher)\n    : attrs.content;\n\n  return [\n    h(Shadow, {\n      z: attrs.z !== undefined ? attrs.z : 1,\n      animated: true,\n      key: \"shadow\"\n    }),\n    h(\"div\",\n      {\n        className: classes.content,\n        key: \"content\"\n      },\n      contents\n    )\n  ];\n};\n","\nexport default {\n  base:       \"pe-button\",\n  component:  \"pe-button pe-text-button\",\n  row:        \"pe-button-row\",\n\n  // elements\n  content:    \"pe-button__content\",\n  focus:      \"pe-button__focus\",\n  label:      \"pe-button__label\",\n  wash:       \"pe-button__wash\",\n\n  // states\n  borders:    \"pe-button--borders\",\n  disabled:   \"pe-button--disabled\",\n  focused:    \"pe-button--focus\",\n  inactive:   \"pe-button--inactive\",\n  selected:   \"pe-button--selected\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\nimport buttonClasses from \"polythene-css-classes/button\";\n\nconst actionLayoutClasses = {\n  horizontal: classes.actionsHorizontal,\n  vertical:   classes.actionsVertical,\n  justified:  classes.actionsJustified\n};\n\nconst actionClassForLayout = (layout = \"horizontal\") => actionLayoutClasses[layout];\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-actions\",\n      className: [\n        classes.actions,\n        attrs.layout !== \"vertical\" ? buttonClasses.row : null,\n        actionClassForLayout(attrs.layout),\n        attrs.bordered ? classes.actionsBordered : null,\n        attrs.tight ? classes.actionsTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = vnode =>\n  vnode.attrs.content;\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nconst imageRatios = {\n  landscape: 16 / 9,\n  square: 1\n};\n\nconst mediaSizeClasses = {\n  small:   classes.mediaSmall,\n  regular: classes.mediaRegular,\n  medium:  classes.mediaMedium,\n  large:   classes.mediaLarge\n};\n\nconst mediaSizeClass = (size = \"regular\") => mediaSizeClasses[size];\n\nconst initImage = ({ dom, img, ratio, origin }) => {\n  img.onload = function() {\n    const naturalRatio = this.naturalWidth / this.naturalHeight;\n    // crop-x: crop over x axis\n    // crop-y: crop over y axis\n    const cropClass = (naturalRatio < imageRatios[ratio]) ? classes.mediaCropX : classes.mediaCropY;\n    img.className = cropClass;\n\n    const containerWidth = dom.clientWidth;\n    const containerHeight = dom.clientHeight;\n\n    if (naturalRatio < imageRatios[ratio]) {\n      // orient on y axis\n      if (origin === \"center\") {\n        const imageHeight = containerWidth / naturalRatio;\n        const diff = containerHeight - imageHeight;\n        const offset = diff / 2;\n        this.style.marginTop = offset + \"px\";\n      } else if (origin === \"start\") {\n        this.style.top = 0;\n        this.style.bottom = \"auto\";\n      } else {\n        // end\n        this.style.top = \"auto\";\n        this.style.bottom = 0;\n      }\n    } else {\n      // orient on x axis\n      if (origin === \"center\") {\n        const imageWidth = containerHeight * naturalRatio;\n        const diff = containerWidth - imageWidth;\n        const offset = diff / 2;\n        this.style.marginLeft = offset + \"px\";\n      } else if (origin === \"start\") {\n        this.style.left = 0;\n        this.style.right = \"auto\";\n      } else {\n        // end\n        this.style.left = \"auto\";\n        this.style.right = 0;\n      }\n    }\n  };\n};\n\nexport const onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n  const attrs = vnode.attrs;\n  const ratio = attrs.ratio || \"landscape\";\n  const origin = attrs.origin || \"center\";\n  const dom = vnode.dom;\n  const img = dom.querySelector(\"img\");\n  initImage({ dom, img, ratio, origin });\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  const ratio = attrs.ratio || \"landscape\";\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-media\",\n      className: [\n        classes.media,\n        mediaSizeClass(attrs.size),\n        ratio === \"landscape\" ? classes.mediaRatioLandscape : classes.mediaRatioSquare,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h }) => {\n  const attrs = vnode.attrs;\n  const dispatcher = attrs.dispatcher;\n  return [\n    Object.assign({}, attrs.content, { key: \"content\" }),\n    attrs.overlay\n      ? dispatcher({ overlay: attrs.overlay, key: \"overlay\" })\n      : h(\"div\",\n        {\n          className: classes.mediaDimmer,\n          key: \"dimmer\"\n        }\n      )\n  ];\n};\n\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  const primaryHasMedia = Array.isArray(attrs.content)\n    ? attrs.content.reduce((total, current) =>\n      Object.keys(current)[0] === \"media\"\n        ? true\n        : total, false)\n    : attrs.media || false;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-primary\",\n      className: [\n        classes.primary,\n        attrs.tight ? classes.primaryTight : null,\n        primaryHasMedia ? classes.primaryHasMedia : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h })  => {\n  const attrs = vnode.attrs;\n  const dispatcher = attrs.dispatcher;\n  const primaryDispatch = {\n    title: pAttrs => (\n      pAttrs.attrs || pAttrs.props\n        ? pAttrs || pAttrs.props\n        : h(\"div\",\n          {\n            className: classes.title,\n            key: \"title\"\n          },\n          [\n            pAttrs.title,\n            pAttrs.subtitle\n              ? h(\"div\",\n                { \n                  className: classes.subtitle,\n                  key: \"subtitle\"\n                },\n                pAttrs.subtitle\n              )\n              : null\n          ]\n        )\n    ),\n    media: pAttrs => {\n      return h(\"div\",\n        {\n          className: classes.primaryMedia,\n          key: \"media\"\n        },\n        dispatcher({ media: pAttrs })\n      );\n    },\n    actions: pAttrs => dispatcher({ actions: pAttrs })\n  };\n\n  return Array.isArray(attrs.content)\n    ? attrs.content.map(block => {\n      const key = Object.keys(block)[0];\n      const pAttrs = block[key];\n      return primaryDispatch[key]\n        ? primaryDispatch[key](pAttrs)\n        : block;\n    })\n    : [\n      attrs.title\n        ? primaryDispatch.title({\n          title: attrs.title,\n          subtitle: attrs.subtitle,\n          key: \"title\"\n        })\n        : null,\n      attrs.media ? primaryDispatch.media(attrs.media) : null,\n      attrs.actions ? primaryDispatch.actions(attrs.actions) : null,\n      attrs.content\n    ];\n};\n","import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\nconst padding_v = 24;\nconst padding_actions_v = 8;\nconst actions_button_margin_v = 2;\n\nexport default {\n  image_size_small:                    1 * 80,\n  image_size_regular:                  1.4 * 80,\n  image_size_medium:                   2 * 80,\n  image_size_large:                    3 * 80,\n  border_radius:                       vars.unit_block_border_radius,\n  padding_h:                           16,\n  offset_small_padding_v:              padding_v - 16,\n  padding_actions_h:                   8,\n  title_padding_h:                     16,\n  title_padding_v:                     24,\n  tight_title_padding_bottom:          16,\n  text_padding_h:                      16,\n  text_padding_v:                      16,\n  text_padding_bottom:                 24,\n  tight_text_padding_bottom:           16,\n  subtitle_line_height_padding_bottom: 7,\n  text_line_height_padding_top:        6,\n  text_line_height_padding_bottom:     7,\n  one_line_height_with_icon:           72,\n  icon_element_width:                  72 - 4,\n  one_line_padding_v:                  8,\n  actions_padding_v:                   0,\n  actions_button_margin_v,    \n  actions_vertical_padding_v:          padding_actions_v - actions_button_margin_v,\n\n  color_light_main_background:         rgba(vars.color_light_background),\n  color_light_title_text:              rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_subtitle_text:           rgba(vars.color_light_foreground, vars.blend_light_text_secondary),\n  color_light_text:                    rgba(vars.color_light_foreground, vars.blend_light_text_regular),\n  color_light_actions_border:          rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_light_overlay_background:      rgba(vars.color_light_background, vars.blend_light_overlay_background),\n     \n  color_dark_main_background:          rgba(vars.color_dark_background),\n  color_dark_title_text:               rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_subtitle_text:            rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_text:                     rgba(vars.color_dark_foreground, vars.blend_dark_text_regular),\n  color_dark_actions_border:           rgba(vars.color_dark_foreground, vars.blend_dark_border_light),\n  color_dark_overlay_background:       rgba(vars.color_dark_background, vars.blend_dark_overlay_background)\n};\n"],"names":["createOverlay","dispatcher","attrs","h","k","element","content","map","key","style","classes","overlay","sheet","overlaySheet","tone","join","overlayContent","className","class","mediaDimmer","createAny","filterSupportedAttributes","any","tight","textTight","createText","text","createHeader","Icon","ListTile","header","icon","front","getElement","vnode","url","createProps","keys","component","events","createContent","renderer","CardActions","CardMedia","CardPrimary","Shadow","Object","block","contents","Array","isArray","z","undefined","actionLayoutClasses","actionsHorizontal","actionsVertical","actionsJustified","actionClassForLayout","layout","_extends","actions","buttonClasses","row","bordered","actionsBordered","actionsTight","imageRatios","mediaSizeClasses","mediaSmall","mediaRegular","mediaMedium","mediaLarge","mediaSizeClass","size","initImage","dom","img","ratio","origin","onload","naturalRatio","naturalWidth","naturalHeight","cropClass","mediaCropX","mediaCropY","containerWidth","clientWidth","containerHeight","clientHeight","imageHeight","diff","offset","marginTop","top","bottom","imageWidth","marginLeft","left","right","onMount","querySelector","media","mediaRatioLandscape","mediaRatioSquare","primaryHasMedia","reduce","total","current","primary","primaryTight","primaryDispatch","pAttrs","props","title","subtitle","primaryMedia","rgba","colorStr","opacity","padding_v","padding_actions_v","actions_button_margin_v","vars","unit_block_border_radius","color_light_background","color_light_foreground","blend_light_text_primary","blend_light_text_secondary","blend_light_text_regular","blend_light_border_light","blend_light_overlay_background","color_dark_background","color_dark_foreground","blend_dark_text_primary","blend_dark_text_secondary","blend_dark_text_regular","blend_dark_border_light","blend_dark_overlay_background"],"mappings":"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"}