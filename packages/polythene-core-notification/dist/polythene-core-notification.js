!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-utilities"),require("polythene-css-classes"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-utilities","polythene-css-classes","polythene-theme"],t):t(e.polythene={},e["polythene-core"],e["polythene-utilities"],e["polythene-css-classes"],e["polythene-theme"])}(this,function(e,t,n,i,o){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(e){return e.attrs.element||"div"},l=function(e){e.paused(!0),e.timer&&e.timer.pause()},c=function(e){e.paused(!1),e.timer&&e.timer.resume()},u=function(e){e.timer&&e.timer.stop()},d=function(e,n){!e.containerEl&&t.isClient&&(e.containerEl=document.querySelector(n.containerSelector||n.holderSelector)),!e.containerEl&&t.isClient&&console.error("No container element found"),n.containerSelector&&e.containerEl&&e.containerEl.classList.add(i.notificationClasses.hasContainer)},h=function(e,n){if(e.transitioning())return Promise.resolve();e.transitioning(!0),u(e),d(e,n);var i=n.instanceId,o=n.transitions;return t.show(a({},n,o.show(a({},n,{containerEl:e.containerEl,el:e.el})))).then(function(){n.multipleDidShow&&n.multipleDidShow(i);var t=n.timeout;if(0===t);else{var o=void 0!==t?t:3;e.timer.start(function(){p(e,n)},o)}e.visible(!0),e.transitioning(!1)})},p=function(e,n){if(e.transitioning())return Promise.resolve();e.transitioning(!0),u(e);var i=n.instanceId,o=n.transitions;return t.hide(a({},n,o.hide(a({},n,{containerEl:e.containerEl,el:e.el})))).then(function(){n.multipleDidHide&&n.multipleDidHide(i),e.visible(!1),e.transitioning(!1)})},f=function(e){t.isServer||e.getBoundingClientRect().height>parseInt(window.getComputedStyle(e).lineHeight,10)+parseInt(window.getComputedStyle(e).paddingTop,10)+parseInt(window.getComputedStyle(e).paddingBottom,10)&&e.classList.add(i.notificationClasses.multilineTitle)},v=function(e,t){var i=t(!1),o=t(!1),r=t(!1),a=t(!1);return{cleanUp:void 0,containerEl:void 0,dismissEl:void 0,el:void 0,timer:new n.Timer,paused:o,transitioning:i,visible:a,mounted:r,redrawOnUpdate:t.merge([a])}},g=function(e){var t=e.dom;if(t){var n=e.state,o=e.attrs;n.el=t;var r=n.el.querySelector("."+i.notificationClasses.title);r&&f(r),o.showInstance&&!n.visible()&&h(n,o),n.mounted(!0)}},m=function(e){return e.state.mounted(!1)},y=function(e,n){var o=n.keys,s=e.attrs;return a({},t.filterSupportedAttributes(s),r({className:[i.notificationClasses.component,"light"===s.tone?null:"pe-dark-tone","light"===s.tone?"pe-light-tone":null,s.containerSelector?i.notificationClasses.hasContainer:null,"vertical"===s.layout?i.notificationClasses.vertical:i.notificationClasses.horizontal,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[o.class]].join(" ")},o.onclick,function(e){return e.preventDefault()}))},_=function(e,t){var n=t.renderer,o=e.state,r=e.attrs;return o.mounted()&&!o.transitioning()&&(r.hideInstance&&o.visible()?p(o,r):r.showInstance&&!o.visible()&&h(o,r)),r.pauseInstance&&!o.paused()?l(o):r.unpauseInstance&&o.paused()&&c(o),n("div",{className:i.notificationClasses.content,style:r.style},r.content||[r.title?n("div",{className:i.notificationClasses.title},r.title):null,r.action?n("div",{className:i.notificationClasses.action},r.action):null])},b=Object.freeze({getElement:s,getInitialState:v,onMount:g,onUnMount:m,createProps:y,createContent:_}),w=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},C={width:274,min_height:80,border_radius:o.vars.unit_block_border_radius,title_padding_h:8,title_single_padding_v:14,title_multi_padding_v:20,side_padding:16,font_size:14,line_height:20,color_light_background:w(o.vars.color_light_background),color_light_text:w(o.vars.color_light_foreground,o.vars.blend_light_dark_primary),color_dark_background:w(o.vars.color_dark_background),color_dark_text:w(o.vars.color_dark_foreground,o.vars.blend_light_text_primary)},k={show:function(e){var t=e.el,n=e.showDuration,i=e.showDelay;return{el:t,showDuration:n||.5,showDelay:i||0,beforeShow:function(){return t.style.opacity=0},show:function(){return t.style.opacity=1}}},hide:function(e){var t=e.el,n=e.hideDuration,i=e.hideDelay;return{el:t,hideDuration:n||.5,hideDelay:i||0,hide:function(){return t.style.opacity=0}}}};e.coreNotificationInstance=b,e.classes=i.notificationClasses,e.vars=C,e.transitions=k,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-notification.js.map
