!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css","polythene-theme"],t):t(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-css"],e["polythene-theme"])}(this,function(e,t,o,n){"use strict";function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={base:"pe-button",component:"pe-button pe-text-button",content:"pe-button__content",focus:"pe-button__focus",label:"pe-button__label",wash:"pe-button__wash",borders:"pe-button--borders",disabled:"pe-button--disabled",focused:"pe-button--focus",inactive:"pe-button--inactive",selected:"pe-button--selected"},b=n.vars.rgba,_=n.vars.unit_touch_height,h={margin_h:n.vars.grid_unit,border_radius:n.vars.unit_item_border_radius,font_size:14,font_weight:500,outer_padding_v:(_-36)/2,padding_h:2*n.vars.grid_unit,padding_v:11,min_width:8*n.vars.grid_unit_component,text_transform:"uppercase",border_width:0,color_light_background:"transparent",color_light_text:b(n.vars.color_light_foreground,n.vars.blend_light_text_primary),color_light_hover_background:b(n.vars.color_light_foreground,n.vars.blend_light_background_hover),color_light_focus_background:b(n.vars.color_light_foreground,n.vars.blend_light_background_hover),color_light_active_background:b(n.vars.color_light_foreground,n.vars.blend_light_background_active),color_light_disabled_background:"transparent",color_light_disabled_text:b(n.vars.color_light_foreground,n.vars.blend_light_text_disabled),color_dark_background:"transparent",color_dark_text:b(n.vars.color_dark_foreground,n.vars.blend_dark_text_primary),color_dark_hover_background:b(n.vars.color_dark_foreground,n.vars.blend_dark_background_hover),color_dark_focus_background:b(n.vars.color_dark_foreground,n.vars.blend_dark_background_hover),color_dark_active_background:b(n.vars.color_dark_foreground,n.vars.blend_dark_background_active),color_dark_disabled_background:"transparent",color_dark_disabled_text:b(n.vars.color_dark_foreground,n.vars.blend_dark_text_disabled)},f=function(e){return[r({},e,{userSelect:"none",outline:"none",padding:0,textDecoration:"none",textAlign:"center",cursor:"pointer",".pe-button--selected, &.pe-button--disabled, &.pe-button--inactive":{cursor:"default",pointerEvents:"none"},".pe-button--focus":{" .pe-button__focus":{opacity:1}}," .pe-button__content":{position:"relative",borderRadius:"inherit"}," .pe-button__label":[o.mixin.fontSmoothing(),{position:"relative",display:"block",borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__wash, .pe-button__focus":[o.mixin.defaultTransition("background-color"),o.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__focus":{opacity:0}," .pe-button__wash":{zIndex:0}})]},v=function(e,t){return[a({},e,[{display:"inline-block",minWidth:t.min_width+"px",margin:"0 "+t.margin_h+"px",padding:t.outer_padding_v+"px 0",background:"transparent",border:"none"," .pe-button__content":{position:"relative",borderWidth:0,padding:"0 "+t.padding_h+"px",borderRadius:t.border_radius+"px"}," .pe-button__label":{padding:t.padding_v+"px 0",fontSize:t.font_size+"px",lineHeight:t.font_size+"px",fontWeight:t.font_weight,textTransform:t.text_transform,whiteSpace:"pre"},".pe-button--borders":{" .pe-button__wash, pe-button__focus, .pe-ripple":o.mixin.fit(-1)," .pe-button__content":{borderStyle:"solid",borderWidth:"1px"}," .pe-button__label":{padding:t.padding_v-1+"px 0"}}}])]},g=function(e,t,o,n){var r=o["color_"+n+"_border"]||"transparent",a=o["color_"+n+"_active_border"]||r,l=o["color_"+n+"_disabled_border"]||r;return[i({},e.map(function(e){return e+t}).join(","),{"&, &:link, &:visited":{color:o["color_"+n+"_text"]}," .pe-button__content":{backgroundColor:o["color_"+n+"_background"],borderColor:r},".pe-button--disabled":{color:o["color_"+n+"_disabled_text"]," .pe-button__content":{backgroundColor:o["color_"+n+"_disabled_background"],borderColor:l}},".pe-button--selected":{" .pe-button__content":{backgroundColor:o["color_"+n+"_active_background"],borderColor:a}," .pe-button__focus":{opacity:1,backgroundColor:o["color_"+n+"_focus_background"]}},".pe-button--focus":{" .pe-button__focus":{opacity:1,backgroundColor:o["color_"+n+"_focus_background"]}}})]},m=function(e,t,o,n){var r=o["color_"+n+"_border"]||"transparent",a=o["color_"+n+"_border"]||r;return[i({},e.map(function(e){return e+t+":hover"}).join(","),{":not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash":{backgroundColor:o["color_"+n+"_hover_background"],borderColor:a}})]},y=function(e,t){return[g([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),g(["",".pe-light-tone",".pe-light-tone "],e,t,"light"),m(["html.pe-no-touch .pe-dark-tone "],e,t,"dark"),m(["html.pe-no-touch ","html.pe-no-touch .pe-light-tone "],e,t,"light")]},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},k=[v,y],x="."+p.base,j="."+p.component.replace(/ /g,"."),O=function(e,t){return o.styler.generateStyles([e,j],w({},h,t),k)};o.styler.generateStyles([x],h,[f]),o.styler.generateStyles([j],h,k);var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},C=O,E=function(e,o){var n,r=o.updateState,a=o.keys,i=e.state,s=e.attrs,c=s.disabled,d=s.inactive||i.inactive,u=s.events&&s.events.onclick,b=function(){return r("inactive",!0),setTimeout(function(){return r("inactive",!1)},1e3*s.inactivate)};return z({},t.filterSupportedAttributes(s,{add:[a.formaction,"type"]}),{className:[s.parentClass||p.component,s.selected?p.selected:null,c?p.disabled:null,d?p.inactive:null,s.borders?p.borders:null,i.focus?p.focused:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[a.class]].join(" ")},d?null:(n={},l(n,a.tabindex,c||d?-1:s[a.tabindex]||0),l(n,a.onclick,function(e){return void 0!==s.inactivate&&b(),u&&u(e),!0}),l(n,a.onfocus,function(){return r("focus",!i.mouseover)}),l(n,a.onblur,function(){return r("focus",!1)}),l(n,a.onmouseover,function(){return r("mouseover",!0)}),l(n,a.onmouseout,function(){return r("mouseover",!1)}),l(n,a.onkeydown,function(e){13===e.which&&i.focus&&(r("focus",!1),u&&u(e))}),n),s.style?{style:{}}:null,s.events,s.url,c?{disabled:!0}:null)},P=function(e,t){var o,n=t.renderer,r=t.keys,a=t.ripple,i=e.attrs,s=void 0!==i.ink&&i.ink===!1,c=i.disabled,d=i.children||e.children,u=i.content?i.content:i.label?"object"===S(i.label)?i.label:n("div",{key:"label",className:p.label},i.label):d?d:null,b=c||void 0!==i.wash&&!i.wash;return u?n("div",(o={},l(o,r.class,p.content),l(o,"key","button"),l(o,"style",i.style||{}),o),[!c&&i.shadowComponent?i.shadowComponent:null,c||s?null:a&&n(a,z({},i.ripple,{key:"ripple"})),b?null:n("div",{key:"wash",className:p.wash}),c?null:n("div",{key:"focus",className:p.focus}),u]):null},N={createProps:E,createContent:P,theme:C,element:"a",classes:p,vars:h},R={component:"pe-ripple",mask:"pe-ripple__mask",waves:"pe-ripple__waves",constrained:"pe-ripple--constrained",wavesAnimating:"pe-ripple__waves--animating"},L={color:"inherit"},T=function(e){return[s({},e,[o.mixin.fit(),{color:"inherit",borderRadius:"inherit",pointerEvents:"none",".pe-ripple--constrained":{borderRadius:"inherit"," .pe-ripple__mask":{overflow:"hidden",borderRadius:"inherit"}}," .pe-ripple__mask":[o.mixin.fit(),{transform:"translate3d(0,0,0)"}]," .pe-ripple__waves":{outline:"1px solid transparent",position:"absolute",borderRadius:"50%",pointerEvents:"none",display:"none"}," .pe-ripple__waves--animating":{display:"block"}}])]},A=function(e,t,o,n){return[c({},e.map(function(e){return e+t}).join(","),{color:o["color_"+n]||o.color||"inherit"})]},q=function(e,t){return[A([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),A(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},D=[T,q],M="."+R.component,F=function(e,t){return o.styler.generateStyles([e,M],W({},L,t),D)};o.styler.generateStyles([M],L,D);var H=t.animationEndEvent(),V=function(e,r,a,i,l,s){var c=r.getBoundingClientRect(),u=t.isTouch&&e.touches?e.touches[0].pageX:e.clientX,p=t.isTouch&&e.touches?e.touches[0].pageY:e.clientY,b=r.offsetWidth,_=r.offsetHeight,h=Math.sqrt(b*b+_*_),f=i.center?c.left+c.width/2:u,v=i.center?c.top+c.height/2:p,g=f-c.left-h/2,m=v-c.top-h/2,y=void 0!==i.startOpacity?i.startOpacity:.2,w=void 0!==i.opacityDecayVelocity?i.opacityDecayVelocity:.35,k=i.endOpacity||0,x=i.startScale||.1,j=i.endScale||2,O=i.duration?i.duration:1/w*.2,S=window.getComputedStyle(r).color,z="ripple_animation_"+(new Date).getTime(),C=a.style;C.width=C.height=h+"px",C.top=m+"px",C.left=g+"px",C["animation-duration"]=C["-webkit-animation-duration"]=C["-moz-animation-duration"]=C["-o-animation-duration"]=O+"s",C.backgroundColor=S,C.opacity=y,C.animationName=z,C.animationTimingFunction=i.animationTimingFunction||n.vars.animation_curve_default;var E=[d({},"@keyframes "+z,{" 0%":{transform:"scale("+x+")",opacity:y}," 100%":{transform:"scale("+j+")",opacity:k}})];o.styler.add(z,E);var P=function e(t){i.persistent?(C.opacity=k,C.transform="scale("+j+")"):(s(),a.classList.remove(l.wavesAnimating)),a.removeEventListener(H,e,!1),o.styler.remove(z),i.end&&i.end(t)};a.addEventListener(H,P,!1),i.start&&i.start(e),a.classList.add(l.wavesAnimating)},X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Y=F,B=function(e,o){var n=o.keys,r=e.attrs;return X({},t.filterSupportedAttributes(r),{className:[R.component,r.constrained!==!1?R.constrained:null,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[n.class]].join(" ")})},I=function(e){var o=e.state,n=e.attrs;if(e.dom){var r=e.dom,a=e.dom.querySelector("."+R.waves),i=function(e){o.animating||n.disabled||(V(e,r,a,n,R,function(){return o.animating=!1}),o.animating=!0)},l=n.target?n.target():e.dom.parentElement;l.addEventListener(t.touchEndEvent,i,!1),o.removeEventListeners=function(){return l.removeEventListener(t.touchEndEvent,i,!1)}}},U=function(e){e.state.removeEventListeners()},G=function(e,t){var o=t.renderer;return e.attrs.disabled?null:o("div",{className:R.mask},o("div",{className:R.waves}))},J={createProps:B,createContent:G,onMount:I,onUnmount:U,theme:Y,element:"div",classes:R,vars:L},K={component:"pe-shadow",bottomShadow:"pe-shadow__bottom",topShadow:"pe-shadow__top",animated:"pe-shadow--animated",depth_n:"pe-shadow--z-"},Q={transition:"box-shadow "+n.vars.animation_duration+" ease-out","shadow-top-z-1":"initial","shadow-bottom-z-1":"0 1px 4px 0 rgba(0, 0, 0, 0.37)","shadow-top-z-2":"0 2px 2px 0 rgba(0, 0, 0, 0.2)","shadow-bottom-z-2":"0 6px 10px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-3":"0 11px 7px 0 rgba(0, 0, 0, 0.19)","shadow-bottom-z-3":"0 13px 25px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-4":"0 14px 12px 0 rgba(0, 0, 0, 0.17)","shadow-bottom-z-4":"0 20px 40px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-5":"0 17px 17px 0 rgba(0, 0, 0, 0.15)","shadow-bottom-z-5":"0 27px 55px 0 rgba(0, 0, 0, 0.3)","shadow-down-z-1":"inset 0px 1px 2px -1px rgba(0, 0, 0, 0.15)","shadow-down-z-2":"inset 0px 4px 6px -3px rgba(0, 0, 0, 0.25)"},Z=function(e){return{boxShadow:e}},$=function(e,t){return[u({},e,[o.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"," .pe-shadow__bottom, .pe-shadow__top":[o.mixin.fit(),{borderRadius:"inherit"}],".pe-shadow--animated":{" .pe-shadow__bottom, .pe-shadow__top":{transition:t.transition}}},[1,2,3,4,5].map(function(e){var o;return o={},u(o," .pe-shadow__top.pe-shadow--z-"+e,Z(t["shadow-top-z-"+e])),u(o," .pe-shadow__bottom.pe-shadow--z-"+e,Z(t["shadow-bottom-z-"+e])),o})])]},ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},te=[$],oe="."+K.component,ne=function(e,t){return o.styler.generateStyles([e,oe],ee({},Q,t),te)};o.styler.generateStyles([oe],Q,te);var re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ae=ne,ie=function(e,o){var n=o.keys,r=e.attrs;return re({},t.filterSupportedAttributes(r),{className:[K.component,r.animated&&K.animated,r.className||r[n.class]].join(" ")})},le=function(e,t){var o=t.renderer,n=e.attrs,r=n.content?n.content:n.children||e.children,a=""+K.depth_n+Math.min(5,void 0!==n.z?n.z:1);return[r,o("div",{key:"bottom",className:[K.bottomShadow,a].join(" ")}),o("div",{key:"top",className:[K.topShadow,a].join(" ")})]},se={createProps:ie,createContent:le,theme:ae,element:"div",classes:K,vars:Q};e.button=N,e.ripple=J,e.shadow=se,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-new-core.js.map
