{"version":3,"file":"polythene-dialog.js","sources":["../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/dialog-instance.js","../src/dialog.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\nconst rgba = vars.rgba;\n\nexport default {\n  border_radius: vars.unit_block_border_radius,\n  padding:       3 * vars.grid_unit_component,\n  header_bottom: 20,\n  header_height: 60,\n  footer_height: 52,\n\n  color_light_content_background:  rgba(vars.color_light_background),\n  color_light_title_text:          rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_body_text:           rgba(vars.color_light_foreground, vars.blend_light_text_regular),\n  color_light_body_border:         rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_light_backdrop_background: \"rgba(0, 0, 0, .4)\",\n\n  color_dark_content_background:   rgba(vars.color_dark_background),\n  color_dark_title_text:           rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_body_text:            rgba(vars.color_dark_foreground, vars.blend_dark_text_regular),\n  color_dark_body_border:          rgba(vars.color_dark_foreground, vars.blend_dark_border_light),\n  color_dark_backdrop_background:  \"rgba(0, 0, 0, .5)\"\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin, flex } from \"polythene-css\";\n\nconst lineHeightTitle = 24;\n\nexport default (selector, componentVars) => [{\n  [selector]: [\n    flex.layoutCenterCenter,\n    {\n      transitionTimingFunction: \"ease-out\",\n      transitionProperty: \"opacity\",\n      // transition-duration set in js\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      \"z-index\": vars.z_dialog,\n      height: \"100%\", // 100vh would make the dialog go beneath Mobile Safari toolbar\n      padding: componentVars.padding + \"px 40px\",\n      opacity: 0,\n\n      \"&.pe-dialog--visible\": {\n        opacity: 1\n      },\n\n      \"&.pe-dialog--fullscreen\": {\n        padding: 0,\n\n        \" .pe-dialog__content\": {\n          \"border-radius\": 0,\n          \"max-width\": \"none\",\n          height: \"100%\",\n          width: \"100%\",\n\n          \" .pe-dialog__header, .pe-dialog__footer\": {\n            display: \"none\"\n          },\n\n          \" .pe-dialog__body\": {\n            padding: 0,\n            height: \"100%\",\n            \"max-height\": \"calc(100%)\",\n            border: \"none\"\n          }\n        }\n      },\n\n      \" .pe-dialog__header, pe-dialog__body, pe-dialog__header\": {\n        \"z-index\": 1\n      },\n\n      \" .pe-dialog__content\": [\n        flex.layoutVertical, {\n          position: \"relative\",\n          \"max-height\": \"100%\",\n          \"min-width\": 56 * 5 + \"px\",\n          \"max-width\": 7 * vars.grid_unit_menu + \"px\",\n          \"border-radius\": componentVars.border_radius + \"px\",\n\n          \" > .pe-shadow\": {\n            \"z-index\": -1 // For IE10 to get click events on content\n          },\n\n          \"&.pe-menu__content\": {\n            \" .pe-dialog__body\": {\n              padding: 0,\n              border: \"none\"\n            }\n          }\n        }\n      ],\n\n      \" .pe-dialog__title\": {\n        \"font-size\": vars.font_size_title + \"px\",\n        \"line-height\": lineHeightTitle + \"px\",\n        \"font-weight\": vars.font_weight_medium,\n\n        \"& + div\": {\n          \"margin-top\": \"16px\"\n        },\n      },\n\n      \" .pe-dialog__header\": {\n        padding: [(componentVars.padding - 4), componentVars.padding, (componentVars.header_bottom - 4), componentVars.padding].map((v) => (v + \"px\")).join(\" \"),\n        \"min-height\": componentVars.header_height + \"px\",\n\n        \" .pe-dialog__title\": [\n          mixin.ellipsis(1), {\n            width: \"100%\"\n          }\n        ]\n      },\n\n      \" .pe-dialog__body\": [\n        flex.selfStretch,\n        mixin.hairline(\"border-top\"), {\n          \"border-top-style\": \"solid\"\n        },\n        mixin.hairline(\"border-top\"), {\n          \"border-bottom-style\": \"solid\"\n        }, {\n          padding: [componentVars.padding, componentVars.padding, (componentVars.padding - 5), componentVars.padding].map((v) => (v + \"px\")).join(\" \"),\n          \"overflow-y\": \"auto\",\n          \"-webkit-overflow-scrolling\": \"touch\",\n          \"border-width\": \"1px\",\n          \"border-style\": \"solid none\",\n          \"border-color\": \"transparent\",\n          // initially set max-height; will be overridden by dialog core with actual heights\n          \"max-height\": \"calc(100vh - \" + (2 * componentVars.padding) + \"px - \" + (componentVars.header_height + componentVars.footer_height) + \"px)\"\n        }\n      ],\n      \" .pe-dialog__header + .pe-dialog__body\": {\n        \"padding-top\": 0\n      },\n\n      \" .pe-dialog__footer\": {\n        padding: \"2px 8px\",\n        \"min-height\": componentVars.footer_height + \"px\",\n        \"font-size\": 0, // remove inline block spacing\n\n        \"&.pe-dialog__footer--high\": {\n          // when buttons are stacked vertically\n          \"padding-bottom\": \"8px\"\n        }\n      },\n\n      \" .pe-dialog__actions\": [\n        flex.layoutHorizontal,\n        flex.layoutEndJustified,\n        flex.layoutWrap, {\n          margin: \"0 -4px\",\n\n          \" .pe-button\": {\n            height: \"36px\",\n            \"margin-top\": \"6px\",\n            \"margin-bottom\": \"6px\",\n            padding: 0\n          }\n        }\n      ]\n    }\n  ],\n  \" body.pe-dialog--open\": {\n    overflow: \"hidden\",\n    left: 0,\n    \"-webkit-overflow-scrolling\": \"touch\",\n    top: 0,\n    width: \"100%\"\n  }\n}];\n","\nconst style = (scope, selector, componentVars, tint) => [{\n  [scope + selector]: {\n    \"&.pe-dialog--backdrop\": {\n      \"background-color\": componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    },\n    \" .pe-dialog__content\": {\n      \"background-color\": componentVars[\"color_\" + tint + \"_content_background\"]\n    },\n    \" .pe-dialog__header .pe-dialog__title\": {\n      \"color\": componentVars[\"color_\" + tint + \"_title_text\"]\n    },\n    \" .pe-dialog__body\": {\n      \"color\": componentVars[\"color_\" + tint + \"_body_text\"]\n    },\n    \"&.pe-dialog--overflow-top .pe-dialog__body\": {\n      \"border-top-color\": componentVars[\"color_\" + tint + \"_body_border\"]\n    },\n    \"&.pe-dialog--overflow-bottom .pe-dialog__body\": {\n      \"border-bottom-color\": componentVars[\"color_\" + tint + \"_body_border\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style(\"\",                selector, componentVars, \"light\"),\n  style(\".pe-dark-theme\",  selector, componentVars, \"dark\" ), // has dark theme\n  style(\".pe-dark-theme \", selector, componentVars, \"dark\" ), // inside dark theme\n];\n","import { styler } from \"polythene-css\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = \".pe-dialog\";\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","import m from \"mithril\";\nimport { filterSupportedAttributes, subscribe, unsubscribe, show, hide } from \"polythene-core\";\nimport { dialog } from \"./dialog\";\nimport { shadow } from \"polythene-shadow\";\nimport { customTheme } from \"./theme\";\n\nexport const classes = {\n  component:         \"pe-dialog\",\n  visible:           \"pe-dialog--visible\",\n  body:              \"pe-dialog__body\",\n  fullscreen:        \"pe-dialog--fullscreen\",\n  content:           \"pe-dialog__content\",\n  header:            \"pe-dialog__header\",\n  footer:            \"pe-dialog__footer\",\n  footerHigh:        \"pe-dialog__footer--high\",\n  title:             \"pe-dialog__title\",\n  actions:           \"pe-dialog__actions\",\n  hasBackdrop:       \"pe-dialog--backdrop\",\n  hasTopOverflow:    \"pe-dialog--overflow-top\",\n  hasBottomOverflow: \"pe-dialog--overflow-bottom\",\n  /* lookup: */\n  menuContent:       \"pe-menu__content\"\n};\n\nconst SCROLL_WATCH_TIMER = 150;\n\nconst updateScrollState = state => {\n  const scroller = state.scrollEl;\n  if (!scroller) {\n    return;\n  }\n  state.topOverflow = (scroller.scrollTop > 0);\n  state.bottomOverflow = (scroller.scrollHeight - (scroller.scrollTop + scroller.getBoundingClientRect().height) > 0);\n};\n\nconst updateFooterState = state => {\n  const footerEl = state.footerEl;\n  if (footerEl) {\n    const style = window.getComputedStyle(footerEl);\n    const height = footerEl.getBoundingClientRect().height;\n    const minHeight = parseInt(style.minHeight, 10);\n    if (height > minHeight) {\n      footerEl.classList.add(classes.footerHigh);\n    } else {\n      footerEl.classList.remove(classes.footerHigh);\n    }\n  }\n};\n\nconst showDialog = (state, opts) => {\n  const id = state.id;\n  state.isTransitioning = true;\n  return show(Object.assign({}, opts, {\n    el: state.el,\n    showClass: classes.visible\n  })).then(() => {\n    state.isTransitioning = false;\n    state.visible = true;\n    if (state.didShow) {\n      // notify multiple\n      state.didShow(id);\n      // this will call opts.didShow\n    }\n  });\n};\n\nconst hideDialog = (state, opts) => {\n  const id = state.id;\n  state.isTransitioning = true;\n  return hide(Object.assign({}, opts, {\n    el: state.el,\n    showClass: classes.visible\n  })).then(() => {\n    dialog.remove(id);\n    state.isTransitioning = false;\n    state.visible = false;\n    if (state.didHide) {\n      // notify multiple\n      state.didHide(id);\n      // this will call opts.didHide\n    }\n    setTimeout(m.redraw, 0); // removes remainder of dialog component\n  });\n};\n\nconst createViewContent = (state, opts) => {\n  // if flex \"self-stretch\" is not supported, calculate the maximum height\n  const bodyOpts = opts.body || opts.menu;\n  const updateContentOnScroll = opts.updateContentOnScroll || false;\n  const ignoreContent = !updateContentOnScroll && state.isScrolling;\n  return m(\"div\", {\n    class: classes.body,\n    oncreate: ({dom}) => state.scrollEl = dom,\n    onbeforeupdate: !ignoreContent,\n    onscroll: () => {\n      state.isScrolling = true;\n      updateScrollState(state);\n\n      clearTimeout(state.scrollWatchId);\n      state.scrollWatchId = setTimeout(() => {\n        state.isScrolling = false;\n      }, SCROLL_WATCH_TIMER);\n    }\n  }, bodyOpts);\n};\n\nconst createView = (state, opts) => {\n  const update = () => {\n    updateScrollState(state);\n    updateFooterState(state);\n    m.redraw();\n  };\n  const handleEscape = e => {\n    if (opts.fullscreen || opts.modal) return;\n    if (e.which === 27 && !state.isTransitioning) {\n      cleanup();\n      hideDialog(state, Object.assign({}, opts, {\n        hideDelay: 0\n      }));\n    }\n  };\n  const cleanup = () => {\n    unsubscribe(\"resize\", update);\n    unsubscribe(\"keydown\", handleEscape);\n  };\n  \n  const element = opts.element || \"form\";\n  const props = Object.assign(\n    {},\n    filterSupportedAttributes(opts),\n    {\n      style: null, // set in content\n      class: [\n        classes.component,\n        opts.fullscreen ? classes.fullscreen : null,\n        opts.backdrop ? classes.hasBackdrop : null,\n        state.topOverflow || opts.borders ? classes.hasTopOverflow : null,\n        state.bottomOverflow || opts.borders ? classes.hasBottomOverflow : null,\n        state.visible ? classes.visible : null,\n        opts.class\n      ].join(\" \"),\n      oncreate: ({dom}) => {\n        state.el = dom;\n        // resize: update scroll state (\"overflow\" borders)\n        subscribe(\"resize\", update);\n        subscribe(\"keydown\", handleEscape);\n\n        updateScrollState(state);\n\n        showDialog(state, opts).then(() => {\n          updateScrollState(state);\n          updateFooterState(state);\n          if (state.topOverflow || state.bottomOverflow) {\n            setTimeout(m.redraw, 0);\n          }\n        });\n      },\n      onremove: cleanup,\n      // click backdrop: close dialog\n      onclick: e => {\n        if (e.target !== state.el) {\n          return;\n        }\n        if (opts.modal) {\n          // not allowed\n          return;\n        }\n        if (!state.isTransitioning) {\n          hideDialog(state, opts);\n        }\n      }\n    },\n    opts.formOptions ? opts.formOptions : null\n  );\n  \n  const body = createViewContent(state, opts);\n  const content = m(\"div\",\n    {\n      class: [\n        classes.content,\n        opts.menu ? classes.menuContent : null\n      ].join(\" \"),\n      style: opts.style\n    },\n    [\n      opts.fullscreen\n        ? null\n        : m(shadow, {\n          z: state.z,\n          animated: true\n        }),\n      opts.fullscreen\n        ? null\n        : opts.title\n          ? m(\"div\",\n            {\n              class: classes.header,\n              oncreate: ({dom}) => {\n                state.headerHeight = dom.scrollHeight;\n              }\n            },\n            m(\"div\", {\n              class: classes.title\n            }, opts.title))\n          : null,\n      body,\n      opts.fullscreen ? null : opts.footer ? m(\"div\", {\n        class: classes.footer,\n        oncreate: ({dom}) => {\n          state.footerHeight = dom.scrollHeight;\n          state.footerEl = dom;\n          updateFooterState(state);\n        },\n        onupdate: ({dom}) => (\n          state.footerHeight = dom.scrollHeight,\n          updateFooterState(state)\n        )\n      }, [\n        m(\"div\", {\n          class: classes.actions\n        }, opts.footer)\n      ]) : null\n    ]\n  );\n\n  return m(element, props, [opts.before, content, opts.after]);\n};\n\nexport default {\n  theme: customTheme, // accepts (selector, vars)\n  oninit: vnode => {\n    const attrs = vnode.attrs;\n    const opts = attrs.opts;\n    const z = opts.z !== undefined ? opts.z : 3; // shadow depth\n    vnode.state = Object.assign(\n      vnode.state,\n      attrs,\n      {\n        id: attrs.instanceId,\n        z,\n        scrollEl: undefined,\n        footerEl: undefined,\n        topOverflow: false,\n        bottomOverflow: false,\n        scrollWatchId: 0,\n        isScrolling: false,\n        headerHeight: 0,\n        footerHeight: 0,\n        el: undefined,\n        visible: false,\n        isTransitioning: false\n      }\n    );\n  },\n  view: ({state, attrs}) => {\n    // attrs contains {id, opts}\n    const opts = (typeof attrs.opts === \"function\")\n      ? attrs.opts()\n      : attrs.opts;\n    if (attrs.hide && !state.isTransitioning) {\n      hideDialog(state, opts);\n    }\n    return createView(state, opts);\n  }\n};\n","import { multiple } from \"polythene-core\";\nimport instance from \"./dialog-instance\";\n\nexport const dialog = multiple({\n  instance,\n  defaultId:     \"default_dialog\",\n  element:       \".pe-dialog__holder\",\n  placeholder:   \"span.pe-dialog__placeholder\",\n  bodyShowClass: \"pe-dialog--open\"\n});\n"],"names":["rgba","vars","unit_block_border_radius","grid_unit_component","color_light_background","color_light_foreground","blend_light_text_primary","blend_light_text_regular","blend_light_border_light","color_dark_background","color_dark_foreground","blend_dark_text_primary","blend_dark_text_regular","blend_dark_border_light","lineHeightTitle","selector","componentVars","flex","layoutCenterCenter","z_dialog","padding","layoutVertical","grid_unit_menu","border_radius","font_size_title","font_weight_medium","header_bottom","map","v","join","header_height","mixin","ellipsis","selfStretch","hairline","footer_height","layoutHorizontal","layoutEndJustified","layoutWrap","style","scope","tint","fns","layout","color","customTheme","customSelector","customVars","styler","generateStyles","classes","SCROLL_WATCH_TIMER","updateScrollState","scroller","state","scrollEl","topOverflow","scrollTop","bottomOverflow","scrollHeight","getBoundingClientRect","height","updateFooterState","footerEl","window","getComputedStyle","minHeight","parseInt","classList","add","footerHigh","remove","showDialog","opts","id","isTransitioning","show","babelHelpers.extends","el","visible","then","didShow","hideDialog","hide","didHide","m","redraw","createViewContent","bodyOpts","body","menu","updateContentOnScroll","ignoreContent","isScrolling","dom","scrollWatchId","setTimeout","createView","update","handleEscape","fullscreen","modal","e","which","cleanup","element","props","filterSupportedAttributes","component","backdrop","hasBackdrop","borders","hasTopOverflow","hasBottomOverflow","class","target","formOptions","content","menuContent","shadow","z","title","header","headerHeight","footer","footerHeight","actions","before","after","attrs","vnode","undefined","instanceId","dialog","multiple"],"mappings":"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"}