!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css","polythene-theme"],t):t(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-css"],e["polythene-theme"])}(this,function(e,t,n,o){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={base:"pe-button",component:"pe-button pe-text-button",content:"pe-button__content",focus:"pe-button__focus",label:"pe-button__label",wash:"pe-button__wash",borders:"pe-button--borders",disabled:"pe-button--disabled",focused:"pe-button--focus",inactive:"pe-button--inactive",selected:"pe-button--selected"},h=o.vars.rgba,f=o.vars.unit_touch_height,v={margin_h:o.vars.grid_unit,border_radius:o.vars.unit_item_border_radius,font_size:14,font_weight:500,outer_padding_v:(f-36)/2,padding_h:2*o.vars.grid_unit,padding_v:11,min_width:8*o.vars.grid_unit_component,text_transform:"uppercase",border_width:0,color_light_background:"transparent",color_light_text:h(o.vars.color_light_foreground,o.vars.blend_light_text_primary),color_light_hover_background:h(o.vars.color_light_foreground,o.vars.blend_light_background_hover),color_light_focus_background:h(o.vars.color_light_foreground,o.vars.blend_light_background_hover),color_light_active_background:h(o.vars.color_light_foreground,o.vars.blend_light_background_active),color_light_disabled_background:"transparent",color_light_disabled_text:h(o.vars.color_light_foreground,o.vars.blend_light_text_disabled),color_dark_background:"transparent",color_dark_text:h(o.vars.color_dark_foreground,o.vars.blend_dark_text_primary),color_dark_hover_background:h(o.vars.color_dark_foreground,o.vars.blend_dark_background_hover),color_dark_focus_background:h(o.vars.color_dark_foreground,o.vars.blend_dark_background_hover),color_dark_active_background:h(o.vars.color_dark_foreground,o.vars.blend_dark_background_active),color_dark_disabled_background:"transparent",color_dark_disabled_text:h(o.vars.color_dark_foreground,o.vars.blend_dark_text_disabled)},g=function(e){return[r({},e,{userSelect:"none",outline:"none",padding:0,textDecoration:"none",textAlign:"center",cursor:"pointer",".pe-button--selected, &.pe-button--disabled, &.pe-button--inactive":{cursor:"default",pointerEvents:"none"},".pe-button--focus":{" .pe-button__focus":{opacity:1}}," .pe-button__content":{position:"relative",borderRadius:"inherit"}," .pe-button__label":[n.mixin.fontSmoothing(),{position:"relative",display:"block",borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__wash, .pe-button__focus":[n.mixin.defaultTransition("background-color"),n.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__focus":{opacity:0}," .pe-button__wash":{zIndex:0}})]},m=function(e,t){return[a({},e,[{display:"inline-block",minWidth:t.min_width+"px",margin:"0 "+t.margin_h+"px",padding:t.outer_padding_v+"px 0",background:"transparent",border:"none"," .pe-button__content":{position:"relative",borderWidth:0,padding:"0 "+t.padding_h+"px",borderRadius:t.border_radius+"px"}," .pe-button__label":{padding:t.padding_v+"px 0",fontSize:t.font_size+"px",lineHeight:t.font_size+"px",fontWeight:t.font_weight,textTransform:t.text_transform,whiteSpace:"pre"},".pe-button--borders":{" .pe-button__wash, pe-button__focus, .pe-ripple":n.mixin.fit(-1)," .pe-button__content":{borderStyle:"solid",borderWidth:"1px"}," .pe-button__label":{padding:t.padding_v-1+"px 0"}}}])]},y=function(e,t,n,o){var r=n["color_"+o+"_border"]||"transparent",a=n["color_"+o+"_active_border"]||r,l=n["color_"+o+"_disabled_border"]||r;return[i({},e.map(function(e){return e+t}).join(","),{"&, &:link, &:visited":{color:n["color_"+o+"_text"]}," .pe-button__content":{backgroundColor:n["color_"+o+"_background"],borderColor:r},".pe-button--disabled":{color:n["color_"+o+"_disabled_text"]," .pe-button__content":{backgroundColor:n["color_"+o+"_disabled_background"],borderColor:l}},".pe-button--selected":{" .pe-button__content":{backgroundColor:n["color_"+o+"_active_background"],borderColor:a}," .pe-button__focus":{opacity:1,backgroundColor:n["color_"+o+"_focus_background"]}},".pe-button--focus":{" .pe-button__focus":{opacity:1,backgroundColor:n["color_"+o+"_focus_background"]}}})]},k=function(e,t,n,o){var r=n["color_"+o+"_border"]||"transparent",a=n["color_"+o+"_border"]||r;return[i({},e.map(function(e){return e+t+":hover"}).join(","),{":not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash":{backgroundColor:n["color_"+o+"_hover_background"],borderColor:a}})]},w=function(e,t){return[y([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),y(["",".pe-light-tone",".pe-light-tone "],e,t,"light"),k(["html.pe-no-touch .pe-dark-tone "],e,t,"dark"),k(["html.pe-no-touch ","html.pe-no-touch .pe-light-tone "],e,t,"light")]},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j=[m,w],O="."+_.base,S="."+_.component.replace(/ /g,"."),z=function(e,t){return n.styler.generateStyles([e,S],x({},v,t),j)};n.styler.generateStyles([O],v,[g]),n.styler.generateStyles([S],v,j);var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},E=z,N=function(e,n){var o,r=n.updateState,a=n.keys,i=e.state,s=e.attrs,c=s.disabled,u=s.inactive||i.inactive,d=s.events&&s.events.onclick,p=function(){return r("inactive",!0),setTimeout(function(){return r("inactive",!1)},1e3*s.inactivate)};return C({},t.filterSupportedAttributes(s,{add:[a.formaction,"type"]}),{className:[s.parentClass||_.component,s.selected?_.selected:null,c?_.disabled:null,u?_.inactive:null,s.borders?_.borders:null,i.focus?_.focused:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[a.class]].join(" ")},u?null:(o={},l(o,a.tabindex,c||u?-1:s[a.tabindex]||0),l(o,a.onclick,function(e){return void 0!==s.inactivate&&p(),d&&d(e),!0}),l(o,a.onfocus,function(){return r("focus",!i.mouseover)}),l(o,a.onblur,function(){return r("focus",!1)}),l(o,a.onmouseover,function(){return r("mouseover",!0)}),l(o,a.onmouseout,function(){return r("mouseover",!1)}),l(o,a.onkeydown,function(e){13===e.which&&i.focus&&(r("focus",!1),d&&d(e))}),o),s.style?{style:{}}:null,s.events,s.url,c?{disabled:!0}:null)},R=function(e,t){var n,o=t.renderer,r=t.keys,a=t.ripple,i=e.attrs,s=void 0!==i.ink&&i.ink===!1,c=i.disabled,u=i.children||e.children,d=i.content?i.content:i.label?"object"===P(i.label)?i.label:o("div",{key:"label",className:_.label},i.label):u?u:null,p=c||void 0!==i.wash&&!i.wash;return d?o("div",(n={},l(n,r.class,_.content),l(n,"key","button"),l(n,"style",i.style||{}),n),[!c&&i.shadowComponent?i.shadowComponent:null,c||s?null:a&&o(a,C({},i.ripple,{key:"ripple"})),p?null:o("div",{key:"wash",className:_.wash}),c?null:o("div",{key:"focus",className:_.focus}),d]):null},A={createProps:N,createContent:R,theme:E,element:"a",classes:_,vars:v},L={component:"pe-ripple",mask:"pe-ripple__mask",waves:"pe-ripple__waves",constrained:"pe-ripple--constrained",wavesAnimating:"pe-ripple__waves--animating"},T={color:"inherit"},q=function(e){return[s({},e,[n.mixin.fit(),{color:"inherit",borderRadius:"inherit",pointerEvents:"none",".pe-ripple--constrained":{borderRadius:"inherit"," .pe-ripple__mask":{overflow:"hidden",borderRadius:"inherit"}}," .pe-ripple__mask":[n.mixin.fit(),{transform:"translate3d(0,0,0)"}]," .pe-ripple__waves":{outline:"1px solid transparent",position:"absolute",borderRadius:"50%",pointerEvents:"none",display:"none"}," .pe-ripple__waves--animating":{display:"block"}}])]},W=function(e,t,n,o){return[c({},e.map(function(e){return e+t}).join(","),{color:n["color_"+o]||n.color||"inherit"})]},D=function(e,t){return[W([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),W(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},H=[q,D],F="."+L.component,V=function(e,t){return n.styler.generateStyles([e,F],M({},T,t),H)};n.styler.generateStyles([F],T,H);var X=t.animationEndEvent(),Y=function(e,r,a,i,l,s){var c=r.getBoundingClientRect(),d=t.isTouch&&e.touches?e.touches[0].pageX:e.clientX,p=t.isTouch&&e.touches?e.touches[0].pageY:e.clientY,b=r.offsetWidth,_=r.offsetHeight,h=Math.sqrt(b*b+_*_),f=i.center?c.left+c.width/2:d,v=i.center?c.top+c.height/2:p,g=f-c.left-h/2,m=v-c.top-h/2,y=void 0!==i.startOpacity?i.startOpacity:.2,k=void 0!==i.opacityDecayVelocity?i.opacityDecayVelocity:.35,w=i.endOpacity||0,x=i.startScale||.1,j=i.endScale||2,O=i.duration?i.duration:1/k*.2,S=window.getComputedStyle(r).color,z="ripple_animation_"+(new Date).getTime(),P=a.style;P.width=P.height=h+"px",P.top=m+"px",P.left=g+"px",P["animation-duration"]=P["-webkit-animation-duration"]=P["-moz-animation-duration"]=P["-o-animation-duration"]=O+"s",P.backgroundColor=S,P.opacity=y,P.animationName=z,P.animationTimingFunction=i.animationTimingFunction||o.vars.animation_curve_default;var C=[u({},"@keyframes "+z,{" 0%":{transform:"scale("+x+")",opacity:y}," 100%":{transform:"scale("+j+")",opacity:w}})];n.styler.add(z,C);var E=function e(t){i.persistent?(P.opacity=w,P.transform="scale("+j+")"):(s(),a.classList.remove(l.wavesAnimating)),a.removeEventListener(X,e,!1),n.styler.remove(z),i.end&&i.end(t)};a.addEventListener(X,E,!1),i.start&&i.start(e),a.classList.add(l.wavesAnimating)},B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I=V,U=function(e,n){var o=n.keys,r=e.attrs;return B({},t.filterSupportedAttributes(r),{className:[L.component,r.constrained!==!1?L.constrained:null,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[o.class]].join(" ")})},G=function(e){var n=e.state,o=e.attrs;if(e.dom){var r=e.dom,a=e.dom.querySelector("."+L.waves),i=function(e){n.animating||o.disabled||(Y(e,r,a,o,L,function(){return n.animating=!1}),n.animating=!0)},l=o.target?o.target():e.dom.parentElement;l.addEventListener(t.touchEndEvent,i,!1),n.removeEventListeners=function(){return l.removeEventListener(t.touchEndEvent,i,!1)}}},J=function(e){e.state.removeEventListeners()},K=function(e,t){var n=t.renderer;return e.attrs.disabled?null:n("div",{className:L.mask},n("div",{className:L.waves}))},Q={createProps:U,createContent:K,onMount:G,onUnmount:J,theme:I,element:"div",classes:L,vars:T},Z={component:"pe-shadow",bottomShadow:"pe-shadow__bottom",topShadow:"pe-shadow__top",animated:"pe-shadow--animated",depth_n:"pe-shadow--z-"},$={transition:"box-shadow "+o.vars.animation_duration+" ease-out","shadow-top-z-1":"initial","shadow-bottom-z-1":"0 1px 4px 0 rgba(0, 0, 0, 0.37)","shadow-top-z-2":"0 2px 2px 0 rgba(0, 0, 0, 0.2)","shadow-bottom-z-2":"0 6px 10px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-3":"0 11px 7px 0 rgba(0, 0, 0, 0.19)","shadow-bottom-z-3":"0 13px 25px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-4":"0 14px 12px 0 rgba(0, 0, 0, 0.17)","shadow-bottom-z-4":"0 20px 40px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-5":"0 17px 17px 0 rgba(0, 0, 0, 0.15)","shadow-bottom-z-5":"0 27px 55px 0 rgba(0, 0, 0, 0.3)","shadow-down-z-1":"inset 0px 1px 2px -1px rgba(0, 0, 0, 0.15)","shadow-down-z-2":"inset 0px 4px 6px -3px rgba(0, 0, 0, 0.25)"},ee=function(e){return{boxShadow:e}},te=function(e,t){return[d({},e,[n.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"," .pe-shadow__bottom, .pe-shadow__top":[n.mixin.fit(),{borderRadius:"inherit"}],".pe-shadow--animated":{" .pe-shadow__bottom, .pe-shadow__top":{transition:t.transition}}},[1,2,3,4,5].map(function(e){var n;return n={},d(n," .pe-shadow__top.pe-shadow--z-"+e,ee(t["shadow-top-z-"+e])),d(n," .pe-shadow__bottom.pe-shadow--z-"+e,ee(t["shadow-bottom-z-"+e])),n})])]},ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},oe=[te],re="."+Z.component,ae=function(e,t){return n.styler.generateStyles([e,re],ne({},$,t),oe)};n.styler.generateStyles([re],$,oe);var ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},le=ae,se=function(e,n){var o=n.keys,r=e.attrs;return ie({},t.filterSupportedAttributes(r),{className:[Z.component,r.animated&&Z.animated,r.className||r[o.class]].join(" ")})},ce=function(e,t){var n=t.renderer,o=e.attrs,r=o.content?o.content:o.children||e.children,a=""+Z.depth_n+Math.min(5,void 0!==o.z?o.z:1);return[r,n("div",{key:"bottom",className:[Z.bottomShadow,a].join(" ")}),n("div",{key:"top",className:[Z.topShadow,a].join(" ")})]},ue={createProps:se,createContent:ce,theme:le,element:"div",classes:Z,vars:$},de={component:"pe-svg"},pe={color_light:"currentcolor",color_dark:"currentcolor"},be=function(e){return[p({},e,{lineHeight:1," svg":{width:"inherit",height:"inherit"}})]},_e=function(e,t,n,o){return[b({},e.map(function(e){return e+t}).join(","),{color:"inherit"," svg":{color:"inherit"," path, rect, circle, polygon":{"&:not([fill=none])":{fill:n["color_"+o]||"currentcolor"}}}})]},he=function(e,t){return[_e([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),_e(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ve=[be,he],ge="."+de.component,me=function(e,t){return n.styler.generateStyles([e,ge],fe({},pe,t),ve)};n.styler.generateStyles([ge],pe,ve);var ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ke=me,we=function(e,n){var o=n.keys,r=e.attrs;return ye({},t.filterSupportedAttributes(r),{className:[de.component,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[o.class]].join(" ")})},xe=function(e){var t=e.attrs;return t.content?t.content:t.children||e.children},je={createProps:we,createContent:xe,theme:ke,element:"div",classes:de,vars:pe};e.button=A,e.ripple=Q,e.shadow=ue,e.svg=je,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-new-core.js.map
