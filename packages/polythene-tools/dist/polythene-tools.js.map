{"version":3,"file":"polythene-tools.js","sources":["../src/easing.js","../src/scroll-to.js","../src/timer.js"],"sourcesContent":["\n/*\nhttps://gist.github.com/gre/1650294\nEasing Functions - inspired from http://gizma.com/easing/\nOnly considering the t value for the range [0, 1] => [0, 1]\n*/\n\nexport const easing = {\n  // no easing, no acceleration\n  linear: (t) => (t),\n  // accelerating from zero velocity\n  easeInQuad: (t) => (t * t),\n  // decelerating to zero velocity\n  easeOutQuad: (t) => (t * (2 - t)),\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: (t) => (t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  // accelerating from zero velocity\n  easeInCubic: (t) => (t * t * t),\n  // decelerating to zero velocity\n  easeOutCubic: (t) => ((--t) * t * t + 1),\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: (t) => (t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1),\n  // accelerating from zero velocity\n  easeInQuart: (t) => (t * t * t * t),\n  // decelerating to zero velocity\n  easeOutQuart: (t) => (1 - (--t) * t * t * t),\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: (t) => (t < .5 ? 8 * t * t * t * t : 1 - 8* (--t) * t * t * t),\n  // accelerating from zero velocity\n  easeInQuint: (t) => (t * t * t * t * t),\n  // decelerating to zero velocity\n  easeOutQuint: (t) => (1 + (--t) * t * t * t * t),\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: (t) => (t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t)\n};\n","/*\n Animated scroll to a position.\n Derived from https://github.com/madebysource/animated-scrollto\n Adapted to Mithril and rewritten to es6.\n\n @param element: (HTML Element) Scrolling element\n @param to: (px) position\n @param duration: (seconds) scroll animation duration\n @param direction: \"vertical\" or \"horizontal\"\n\n Usage:\n\n import { scrollTo } from \"polythene-tools\";\n\n scrollTo({\n   element: scrollingElement,\n   to: 0,\n   duration: .5,\n   direction: \"horizontal\"\n }).then(() => {\n   console.log(\"Done\")\n });\n*/\n\nimport { easing } from \"./easing\";\n\nexport const scrollTo = opts => {\n  const element = opts.element;\n  const which = (opts.direction === \"horizontal\") ? \"scrollLeft\" : \"scrollTop\";\n  const to = opts.to;\n  const duration = opts.duration * 1000;\n  const start = element[which];\n  const change = to - start;\n  const animationStart = new Date().getTime();\n  let animating = true;\n  return new Promise(resolve => {\n    const animateScroll = function() {\n      if (!animating) {\n        return;\n      }\n      requestAnimFrame(animateScroll);\n      const now = new Date().getTime();\n      const percentage = ((now - animationStart) / duration);\n      const val = start + change * easing.easeInOutCubic(percentage);\n      element[which] = val;\n      if (percentage >= 1) {\n        element[which] = to;\n        animating = false;\n        resolve();\n      }\n    };\n    requestAnimFrame(animateScroll);\n  });\n};\n\nconst requestAnimFrame = (() =>\n  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || (callback =>\n    window.setTimeout(callback, 1000 / 60)\n  )\n)();\n","/**\n Simple start/stop/pause/resume timer.\n \n Usage:\n\n const timer = new Timer(() => {\n   hide();\n }, timeoutSeconds);\n // This start the timer\n\n timer.pause();\n timer.resume();\n timer.stop();\n*/\n\nexport const Timer = function(callback, delaySeconds) {\n  let timerId, start, remaining = delaySeconds * 1000;\n\n  this.stop = function() {\n    window.clearTimeout(timerId);\n  };\n\n  this.pause = function() {\n    window.clearTimeout(timerId);\n    remaining -= new Date() - start;\n  };\n\n  this.resume = function() {\n    start = new Date();\n    window.clearTimeout(timerId);\n    timerId = window.setTimeout(callback, remaining);\n  };\n\n  this.resume();\n};\n"],"names":["easing","t","scrollTo","element","opts","which","direction","to","duration","start","change","animationStart","Date","getTime","animating","Promise","animateScroll","now","percentage","val","easeInOutCubic","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","callback","Timer","delaySeconds","timerId","remaining","stop","clearTimeout","pause","resume"],"mappings":"wMAOA,IAAaA,WAEH,SAACC,SAAOA,eAEJ,SAACA,SAAOA,GAAIA,eAEX,SAACA,SAAOA,IAAK,EAAIA,kBAEf,SAACA,SAAOA,GAAI,GAAK,EAAIA,EAAIA,GAAI,GAAM,EAAI,EAAIA,GAAKA,eAElD,SAACA,SAAOA,GAAIA,EAAIA,gBAEf,SAACA,WAAUA,EAAKA,EAAIA,EAAI,kBAEtB,SAACA,SAAOA,GAAI,GAAK,EAAIA,EAAIA,EAAIA,GAAKA,EAAI,IAAM,EAAIA,EAAI,IAAM,EAAIA,EAAI,GAAK,eAE1E,SAACA,SAAOA,GAAIA,EAAIA,EAAIA,gBAEnB,SAACA,SAAO,MAAOA,EAAKA,EAAIA,EAAIA,kBAE1B,SAACA,SAAOA,GAAI,GAAK,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,IAAMA,EAAKA,EAAIA,EAAIA,eAE/D,SAACA,SAAOA,GAAIA,EAAIA,EAAIA,EAAIA,gBAEvB,SAACA,SAAO,KAAOA,EAAKA,EAAIA,EAAIA,EAAIA,kBAE9B,SAACA,SAAOA,GAAI,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,KAAQA,EAAKA,EAAIA,EAAIA,EAAIA,ICP5EC,EAAW,eAChBC,GAAUC,EAAKD,QACfE,EAA4B,eAAnBD,EAAKE,UAA8B,aAAe,YAC3DC,EAAKH,EAAKG,GACVC,EAA2B,IAAhBJ,EAAKI,SAChBC,EAAQN,EAAQE,GAChBK,EAASH,EAAKE,EACdE,GAAiB,GAAIC,OAAOC,UAC9BC,GAAY,QACT,IAAIC,SAAQ,eACXC,GAAgB,QAAhBA,QACCF,KAGYE,MACXC,IAAM,GAAIL,OAAOC,UACjBK,GAAeD,EAAMN,GAAkBH,EACvCW,EAAMV,EAAQC,EAASV,EAAOoB,eAAeF,KAC3Cb,GAASc,EACbD,GAAc,MACRb,GAASE,KACL,WAICS,MAIfK,EAAoB,iBACxBC,QAAOC,uBAAyBD,OAAOE,6BAA+BF,OAAOG,0BAA6B,kBACxGH,QAAOI,WAAWC,EAAU,IAAO,QC1C1BC,EAAQ,SAASD,EAAUE,MAClCC,UAASrB,SAAOsB,EAA2B,IAAfF,OAE3BG,KAAO,kBACHC,aAAaH,SAGjBI,MAAQ,kBACJD,aAAaH,MACP,GAAIlB,MAASH,QAGvB0B,OAAS,aACJ,GAAIvB,aACLqB,aAAaH,KACVR,OAAOI,WAAWC,EAAUI,SAGnCI"}