{"version":3,"file":null,"sources":["../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/button.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\n\nconst rgba = vars.rgba;\nconst touch_height = vars.unit_touch_height;\nconst height = 36;\n\nexport default {\n  margin_h:        vars.grid_unit,\n  border_radius:   vars.unit_item_border_radius,\n  font_size:       14,\n  font_weight:     500,\n  outer_padding_v: (touch_height - height) / 2,\n  padding_h:       2 * vars.grid_unit,\n  padding_v:       11,\n  min_width:       8 * vars.grid_unit_component,\n  text_transform:  \"uppercase\",\n  border_width:    0, // no border in MD, but used to correctly set the height when a theme does set a border\n\n  color_light_background:          \"transparent\",\n  color_light_text:                rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_hover_background:    rgba(vars.color_light_foreground, vars.blend_light_background_hover),\n  color_light_focus_background:    rgba(vars.color_light_foreground, vars.blend_light_background_hover),\n  color_light_active_background:   rgba(vars.color_light_foreground, vars.blend_light_background_active),\n  color_light_disabled_background: \"transparent\",\n  color_light_disabled_text:       rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n\n  // border colors may be set in theme; disabled by default\n  // color_light_border:              \"transparent\", // only specify this variable to get all 4 states\n  // color_light_hover_border:        \"transparent\",\n  // color_light_active_border:       \"transparent\",\n  // color_light_disabled_border:     \"transparent\",\n\n  color_dark_background:           \"transparent\",\n  color_dark_text:                 rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_hover_background:     rgba(vars.color_dark_foreground, vars.blend_dark_background_hover),\n  color_dark_focus_background:     rgba(vars.color_dark_foreground, vars.blend_dark_background_hover),\n  color_dark_active_background:    rgba(vars.color_dark_foreground, vars.blend_dark_background_active),\n  color_dark_disabled_background:  \"transparent\",\n  color_dark_disabled_text:        rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n\n  // border colors may be set in theme; disabled by default\n  // color_dark_border:               \"transparent\", // only specify this variable to get all 4 states\n  // color_dark_hover_border:         \"transparent\",\n  // color_dark_active_border:        \"transparent\",\n  // color_dark_disabled_border:      \"transparent\"\n};","import { mixin } from \"polythene-css\";\nimport { vars } from \"polythene-theme\";\n\nconst createStyles = componentVars => [{\n  \".pe-button\": [\n    mixin.vendorize({\n      \"user-select\": \"none\"\n    }, vars.prefixes_user_select), {\n      outline: \"none\",\n      padding: 0,\n      \"text-decoration\": \"none\",\n      \"text-align\": \"center\",\n      cursor: \"pointer\",\n\n      \"&.pe-button--selected, &.pe-button--disabled, &.pe-button--inactive\": {\n        cursor: \"default\",\n        \"pointer-events\": \"none\"\n      },\n\n      \" .pe-button__content\": {\n        position: \"relative\",\n        \"border-radius\": \"inherit\"\n      },\n\n      \" .pe-button__label\": [\n        mixin.fontSmoothing(), {\n          position: \"relative\",\n          display: \"block\",\n          \"border-radius\": \"inherit\",\n          \"pointer-events\": \"none\"\n        }\n      ],\n\n      \" .pe-button__wash, .pe-button__focus\": [\n        mixin.defaultTransition(\"background-color\"),\n        mixin.fit(), {\n          \"border-radius\": \"inherit\",\n          \"pointer-events\": \"none\"\n        }\n      ],\n\n      \" .pe-button__focus\": {\n        opacity: 0\n      },\n\n      \"&.pe-button--focus\": {\n        \" .pe-button__focus\": {\n          opacity: 1\n        }\n      },\n\n      \" .pe-button__wash\": {\n        \"z-index\": 0\n      }\n    }\n  ],\n  \".pe-button--text\": {\n    display: \"inline-block\",\n    \"min-width\": componentVars.min_width + \"px\",\n    margin: \"0 \" + componentVars.margin_h + \"px\",\n    padding: componentVars.outer_padding_v + \"px 0\",\n    background: \"transparent\",\n    border: \"none\",\n\n    \" .pe-button__content\": {\n      position: \"relative\",\n      \"border-width\": 0,\n      padding: \"0 \" + componentVars.padding_h + \"px\",\n      \"border-radius\": componentVars.border_radius + \"px\"\n    },\n\n    \" .pe-button__label\": {\n      padding: componentVars.padding_v + \"px 0\",\n      \"font-size\": componentVars.font_size + \"px\",\n      \"line-height\": componentVars.font_size + \"px\",\n      \"font-weight\": componentVars.font_weight,\n      \"text-transform\": componentVars.text_transform,\n      \"white-space\": \"pre\"\n    },\n\n    \"&.pe-button--borders\": {\n      \" .pe-button__wash, pe-button__focus, .pe-ripple\": mixin.fit(-1),\n\n      \" .pe-button__content\": {\n        \"border-style\": \"solid\",\n        \"border-width\": \"1px\"\n      },\n      \" .pe-button__label\": {\n        padding: (componentVars.padding_v - 1) + \"px 0\",\n      }\n    }\n  }\n}];\n\nexport default componentVars => mixin.createStyles(componentVars, createStyles);\n\n","import { mixin } from \"polythene-css\";\n\nconst style = (componentVars, tint, scope = \"\") => {\n  const normalBorder = componentVars[\"color_\" + tint + \"_border\"] || \"transparent\";\n  const activeBorder = componentVars[\"color_\" + tint + \"_active_border\"] || normalBorder;\n  const disabledBorder = componentVars[\"color_\" + tint + \"_disabled_border\"] || normalBorder;\n  return [{\n    [scope + \".pe-button\"]: {\n      \"&, &:link, &:visited\": {\n        color: componentVars[\"color_\" + tint + \"_text\"]\n      },\n\n      \" .pe-button__content\": {\n        \"background-color\": componentVars[\"color_\" + tint + \"_background\"],\n        \"border-color\": normalBorder\n      },\n\n      \"&.pe-button--disabled\": {\n        color: componentVars[\"color_\" + tint + \"_disabled_text\"],\n\n        \" .pe-button__content\": {\n          \"background-color\": componentVars[\"color_\" + tint + \"_disabled_background\"],\n          \"border-color\": disabledBorder\n        }\n      },\n\n      \"&.pe-button--selected\": {\n        \" .pe-button__content\": {\n          \"background-color\": componentVars[\"color_\" + tint + \"_active_background\"],\n          \"border-color\": activeBorder\n        },\n        \" .pe-button__focus\": {\n          opacity: 1,\n          \"background-color\": componentVars[\"color_\" + tint + \"_focus_background\"]\n        }\n      },\n\n      \"&.pe-button--focus\": {\n        \" .pe-button__focus\": {\n          opacity: 1,\n          \"background-color\": componentVars[\"color_\" + tint + \"_focus_background\"]\n        }\n      }\n    }\n  }];\n};\n\nconst noTouch = (componentVars, tint, type, scope = \"\") => {\n  const normalBorder = componentVars[\"color_\" + tint + \"_border\"];\n  const hoverBorder = componentVars[\"color_\" + tint + \"_border\"] || normalBorder;\n  return [{\n    [scope + \".pe-button:hover\"]: {\n      \"&:not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash\": {\n        \"background-color\": componentVars[\"color_\" + tint + \"_hover_background\"],\n        \"border-color\": hoverBorder\n      }\n    }\n  }];\n};\n\nconst createStyles = componentVars => [\n  style(componentVars, \"light\"),\n  {\n    \".pe-dark-theme\": [\n      // inside dark theme\n      style(componentVars, \"dark\", \" \"),\n      // has dark theme\n      style(componentVars, \"dark\", \"&\")\n    ]\n  }, {\n    \"html.pe-no-touch .pe-dark-theme\": [\n      noTouch(componentVars, \"dark\", \" \"),\n      noTouch(componentVars, \"dark\", \"&\")\n    ]\n  }\n];\n\nexport default componentVars => mixin.createStyles(componentVars, createStyles);\n\n","import { styler } from \"polythene-css\";\nimport { styles } from \"polythene-theme\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst key = \"button\";\nconst className = \"pe-button\";\n\nconst styleComponent = (className, styles) =>\n  styler.styleComponent(className, styles, key, vars, layout, color);\n\nexport const customTheme = (className, vars) =>\n  // Inject additional styles as use className as key\n  styleComponent(className, styler.addComponentStyle(\n    className, styles, key, vars\n  ));\n\nstyleComponent(className, styles);","import m from \"mithril\";\nimport { ripple } from \"polythene-ripple\";\nimport { filterSupportedAttributes } from \"polythene-core\";\nimport { customTheme } from \"./theme\";\n\nconst classes = {\n  component: \"pe-button pe-button--text\",\n  content: \"pe-button__content\",\n  label: \"pe-button__label\",\n  wash: \"pe-button__wash\",\n  focus: \"pe-button__focus\",\n  selected: \"pe-button--selected\",\n  disabled: \"pe-button--disabled\",\n  borders: \"pe-button--borders\",\n  inactive: \"pe-button--inactive\",\n  focusState: \"pe-button--focus\"\n};\n\nconst EL_ATTRS = [\n  \"formaction\",\n  \"type\"\n];\n\nconst view = vnode => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  const noink = (attrs.ink !== undefined && attrs.ink === false);\n  const disabled = attrs.disabled;\n  const element = attrs.element || \"a\";\n  const tabIndex = disabled || state.inactive\n    ? -1\n    : attrs.tabindex || 0;\n  const onClickHandler = attrs.events && attrs.events.onclick;\n  const props = Object.assign(\n    {}, \n    filterSupportedAttributes(attrs, EL_ATTRS),\n    {\n      class: [\n        (attrs.parentClass || classes.component),\n        (attrs.selected ? classes.selected : null),\n        (disabled ? classes.disabled : null),\n        (state.inactive ? classes.inactive : null),\n        (attrs.borders ? classes.borders : null),\n        (state.focus ? classes.focusState : null),\n        attrs.class\n      ].join(\" \"),\n      tabIndex,\n      // handle focus events\n      onfocus: () => state.focus = !state.mouseover,\n      onblur: () => state.focus = false,\n      // don\"t show focus on click (detected by not being in mouse over state)\n      onmouseover: () => state.mouseover = true,\n      onmouseout: () => state.mouseover = false,\n      // if focus, dispatch click event on ENTER\n      onkeydown: (e) => {\n        if (e.which === 13 && state.focus) {\n          state.focus = false;\n          if (onClickHandler) {\n            onClickHandler(e);\n          }\n        }\n      }\n    },\n    attrs.events ? {...attrs.events} : null,\n    attrs.url ? {...attrs.url} : null,\n    disabled ? {disabled: true} : null\n  );\n  const children = vnode.children.length && vnode.children || attrs.children;\n  const label = attrs.content\n    ? attrs.content\n    : attrs.label\n      ? typeof attrs.label === \"object\"\n        ? attrs.label\n        : m(\"div\", {class: classes.label}, attrs.label)\n      : children && children[0]\n        ? children\n        : null;\n  const noWash = disabled || (attrs.wash !== undefined && !attrs.wash);\n  const content = label\n    ? m(\"div\", {class: classes.content}, [\n      !disabled && attrs.shadowComponent\n        ? attrs.shadowComponent\n        : null,\n      // ripple\n      disabled || noink\n        ? null\n        : m(ripple, attrs.ripple),\n      // hover\n      noWash ? null : m(\"div\", {class: classes.wash}),\n      // focus\n      disabled ? null : m(\"div\", {class: classes.focus}),\n      label\n    ])\n    : null;\n  return m(element, props, [attrs.before, content, attrs.after]);\n};\n\nexport const button = {\n  theme: customTheme, // accepts (className, vars)\n  oninit: vnode => {\n    vnode.state = {\n      el: undefined,\n      inactive: !!vnode.attrs.inactive,\n      focus: false,\n      mouseover: false\n    };\n  },\n  view\n};\n"],"names":["rgba","vars","touch_height","unit_touch_height","height","grid_unit","unit_item_border_radius","grid_unit_component","color_light_foreground","blend_light_text_primary","blend_light_background_hover","blend_light_background_active","blend_light_text_disabled","color_dark_foreground","blend_dark_text_primary","blend_dark_background_hover","blend_dark_background_active","blend_dark_text_disabled","createStyles","mixin","vendorize","prefixes_user_select","fontSmoothing","defaultTransition","fit","componentVars","min_width","margin_h","outer_padding_v","padding_h","border_radius","padding_v","font_size","font_weight","text_transform","style","tint","scope","normalBorder","activeBorder","disabledBorder","noTouch","type","hoverBorder","key","className","styleComponent","styles","styler","layout","color","customTheme","addComponentStyle","classes","EL_ATTRS","view","state","vnode","attrs","noink","undefined","ink","disabled","element","tabIndex","inactive","tabindex","onClickHandler","events","onclick","props","babelHelpers.extends","filterSupportedAttributes","parentClass","component","selected","borders","focus","focusState","class","join","mouseover","e","which","url","children","length","label","content","babelHelpers.typeof","m","noWash","wash","shadowComponent","ripple","before","after","button"],"mappings":"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"}