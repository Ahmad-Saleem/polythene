"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var SHOW_DURATION=200;var HIDE_DURATION=180;var SHOW_DELAY=10;var HIDE_DELAY=50;var TRANSITION="both";var show=function show(opts){return transition(opts,"show")};var hide=function hide(opts){return transition(opts,"hide")};var getDuration=function getDuration(opts,state){var transition=opts.transition||TRANSITION;if(transition==="none"){return 0}else if(transition==="show"&&state==="hide"){return 0}else if(transition==="hide"&&state==="show"){return 0}else{return state==="show"?opts.showDuration!==undefined?opts.showDuration:SHOW_DURATION:opts.hideDuration!==undefined?opts.hideDuration:HIDE_DURATION}return 0};var getDelay=function getDelay(opts,state){var transition=opts.transition||TRANSITION;if(transition==="none"){return 0}else if(transition==="show"&&state==="hide"){return 0}else if(transition==="hide"&&state==="show"){return 0}else{return state==="show"?opts.showDelay!==undefined?opts.showDelay:SHOW_DELAY:opts.hideDelay!==undefined?opts.hideDelay:HIDE_DELAY}return 0};var transition=function transition(opts,state){var cssAction=state==="show"?"add":"remove";var el=opts.el;var duration=getDuration(opts,state);var delay=getDelay(opts,state);var setTransitionCss=function setTransitionCss(){el.style.transitionDuration=duration+"ms";el.style.transitionDelay=delay+"ms";el.classList[cssAction](opts.showClass)};var deferred=_mithril2["default"].deferred();if(duration===0){setTransitionCss();setTimeout(function(){deferred.resolve()},duration)}else{setTimeout(function(){setTransitionCss();setTimeout(function(){deferred.resolve()},duration+delay)},0)}return deferred.promise};exports["default"]={show:show,hide:hide};module.exports=exports["default"];