define(["polythene/polythene/polythene","mithril","polythene/icon/icon","css!./list-tile","css!polythene/content/content"],function(n,t,e){"use strict";var o,i,l;return o=function(e,o){var c,r,a,s,u;return o=o||{},c=o.tag||"div[horizontal][layout][center]",s="content-single-line",o.info?s="content-two-line":o.info_high&&(s="content-three-line"),u=o.icon||o.indent?"content-has-icon":null,r={"class":["content","list-tile",s,u,o["class"]].join(" "),config:o.config},a=[i(o),o.secondary?l(o):null],t(c,r,n.insertContent(a,o))},i=function(n){var o,i;return o=n.tag?n.tag:n.url?"a[flex]":"div[flex]",i=null,n.icon?i=t(".content-wrapper-icon",t.component(e,n.icon)):n.indent&&(i=t(".content-wrapper-icon")),t(o,Object.assign({"class":"list-tile-primary"},n.url),t("[layout][horizontal][center]",[i,t("[flex]",{"class":"content-wrapper"},[t(".content-title",[n.title,n.info?t(".content-info",n.info):null,n.info_high?t(".content-info.content-double-info",n.info_high):null])])]))},l=function(n){var o,i,l;return o=n.secondary||{},i=n.info_high?"[vertical][layout][start]":"[horizontal][layout][center]",l=o.tag?o.tag:o.url?"a"+i:"div"+i,t(".list-tile-secondary",t(l,Object.assign({"class":"content-wrapper"},o.url),[o.icon?t.component(e,o.icon):null,o.content?o.content:null]))},{controller:function(){return{view:t.prop()}},view:function(n,t){t=t||{};var e=n.view();return(!e||t.refresh)&&(e=o(n,t),n.view(e)),e}}});