{"version":3,"file":"polythene-css-selection-control.js","sources":["../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["// Returns a style function to be used by checkbox and radio-button\n\nimport { mixin, flex } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nconst makeSize = (componentVars, height, iconSize = vars.unit_icon_size) => {\n  const labelSize = iconSize + componentVars.label_height;\n  const iconOffset = (labelSize - iconSize) / 2;\n  return {\n    \" .pe-control__form-label\": {\n      height: height + \"px\"\n    },\n    \" .pe-control__box\": {\n      width: iconSize + \"px\",\n      height: iconSize + \"px\"\n    },\n    \" .pe-button__content\": {\n      width: labelSize + \"px\",\n      height: labelSize + \"px\",\n\n      \" .pe-icon\": [\n        mixin.fit(iconOffset)\n      ]\n    }\n  };\n};\n\nconst activeButton = () => ({\n  opacity: 1,\n  zIndex: 1\n});\n\nconst inactiveButton = () => ({\n  opacity: 0,\n  zIndex: 0\n});\n\nexport default (selector, componentVars, type) => [{\n  [selector]: {\n    display: \"inline-block\",\n    boxSizing: \"border-box\",\n    margin: 0,\n    padding: 0,\n\n    [` input[type=${type}]`]: {\n      display: \"none\"\n    },\n\n    \" .pe-control__form-label\": [\n      flex.layoutHorizontal,\n      flex.layoutCenter,\n      {\n        position: \"relative\",\n        cursor: \"pointer\",\n        fontSize: componentVars.label_font_size + \"px\",\n        margin: 0,\n        color: \"inherit\",\n\n        \":focus\": {\n          outline: 0\n        },\n      }\n    ],\n\n    \".pe-control--inactive\": {\n      \" .pe-control__form-label\": {\n        cursor: \"default\"\n      }\n    },\n\n    \" .pe-control__box\": {\n      position: \"relative\",\n      display: \"inline-block\",\n      boxSizing: \"border-box\",\n      width: componentVars.label_height + \"px\",\n      height: componentVars.label_height + \"px\",\n      color: \"inherit\",\n      flexShrink: 0,\n\n      \":focus\": {\n        outline: 0,\n      }\n    },\n\n    \" .pe-button.pe-control__button\": [\n      mixin.defaultTransition(\"opacity\", componentVars.animation_duration),\n      {\n        position: \"absolute\",\n        left: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n        top: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n        zIndex: 1\n      }\n    ],\n\n    \".pe-control--off\": {\n      \" .pe-control__button--on\": inactiveButton(),\n      \" .pe-control__button--off\": activeButton()\n    },\n\n    \".pe-control--on\": {\n      \" .pe-control__button--on\": activeButton(),\n      \" .pe-control__button--off\": inactiveButton()\n    },\n\n    \" .pe-control__label\": [\n      mixin.defaultTransition(\"all\", componentVars.animation_duration),\n      {\n        paddingLeft: componentVars.label_padding_before + \"px\",\n        paddingRight: componentVars.label_padding_after + \"px\",\n        alignSelf: \"center\"\n      }\n    ],\n\n    \".pe-control--disabled\": {\n      \" .pe-control__form-label\": {\n        cursor: \"auto\"\n      },\n      \" .pe-control__button\": {\n        pointerEvents: \"none\"\n      }\n    },\n\n    \" .pe-button__content\": {\n      \" .pe-icon\": {\n        position: \"absolute\"\n      }\n    },\n\n    \".pe-control--small\":   makeSize(componentVars, vars.unit_icon_size_small, vars.unit_icon_size_small),\n    \".pe-control--regular\": makeSize(componentVars, componentVars.label_height, vars.unit_icon_size),\n    \".pe-control--medium\":  makeSize(componentVars, vars.unit_icon_size_medium, vars.unit_icon_size_medium),\n    \".pe-control--large\":   makeSize(componentVars, vars.unit_icon_size_large, vars.unit_icon_size_large)\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint + \"_on\"], // override by specifying \"color\"\n\n    \" .pe-control__label\": {\n      color: componentVars[\"color_\" + tint + \"_label\"]\n    },\n    \" .pe-control__box\": {\n      \" .pe-control__button\": {\n        color: \"inherit\",\n\n        \" .pe-control__button--on\": {\n          color: componentVars[\"color_\" + tint + \"_on_icon\"] ||  \"inherit\"\n        },\n\n        \" .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_off_icon\"] || componentVars[\"color_\" + tint + \"_off\"]\n        }\n      }\n    },\n    \".pe-control--off\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_off_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_off\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_off_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n    \".pe-control--on\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_on_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_on\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_on_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n\n    \".pe-control--disabled\": {\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_disabled\"]\n      },\n      \" .pe-control__box\": {\n        \" .pe-control__button--on, .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_disabled\"]\n        }\n      }\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n\n","export { default as layout } from \"./layout\";\nexport { default as color } from \"./color\";\n\nexport const getStyle = () => null;\n"],"names":["makeSize","componentVars","height","iconSize","vars","unit_icon_size","labelSize","label_height","iconOffset","width","mixin","fit","activeButton","opacity","zIndex","inactiveButton","selector","type","display","boxSizing","margin","padding","flex","layoutHorizontal","layoutCenter","position","cursor","fontSize","label_font_size","color","outline","flexShrink","defaultTransition","animation_duration","left","button_size","icon_size","top","paddingLeft","label_padding_before","paddingRight","label_padding_after","alignSelf","pointerEvents","unit_icon_size_small","unit_icon_size_medium","unit_icon_size_large","style","scopes","tint","map","s","join","backgroundColor","getStyle"],"mappings":"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"}