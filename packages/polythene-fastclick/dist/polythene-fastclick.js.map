{"version":3,"file":"polythene-fastclick.js","sources":["../src/fastclick.js"],"sourcesContent":["import FastClick from \"fastclick\";\nimport { isTouch, subscribe, isClient } from \"polythene-core\";\n\nconst THROTTLE_DELAY = 100;\nconst REINIT_DELAY = THROTTLE_DELAY + 50;\nconst layer = isClient\n  ? document.body\n  : { body: {} };\n\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst add = () => {\n  if (!enabled) {\n    fastClick = new FastClick(layer);\n    enabled = true;\n  }\n};\n\nconst remove = () => {\n  if (enabled) {\n    fastClick.destroy();\n    enabled = false;\n  }\n};\n\nconst handleScroll = () => {\n  remove();\n  if (timeoutId) {\n    clearTimeout(timeoutId);\n  }\n  timeoutId = setTimeout(add, REINIT_DELAY);\n};\n\nexport const addFastClick = () => {\n  if (isTouch && isClient) {\n    subscribe(\"scroll\", handleScroll, THROTTLE_DELAY);\n    add();\n  }\n};\n"],"names":["layer","isClient","document","body","fastClick","timeoutId","enabled","add","FastClick","remove","destroy","handleScroll","setTimeout","THROTTLE_DELAY","addFastClick","isTouch"],"mappings":"wVAGA,IAEMA,GAAQC,WACVC,SAASC,MACPA,SAEFC,SACAC,SACAC,SAEEC,EAAM,WACLD,MACS,GAAIE,GAAUR,MAChB,IAIRS,EAAS,WACTH,MACQI,aACA,IAIRC,EAAe,eAEfN,gBACWA,KAEHO,WAAWL,EA5BJM,MA+BRC,EAAe,WACtBC,WAAWd,yBACH,SAAUU,EAlCD"}