{"version":3,"file":"polythene-icon-button.js","sources":["../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/icon-button.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\n\nconst rgba = vars.rgba;\nconst padding = (vars.grid_unit_icon_button - vars.unit_icon_size) / 2; // 12\nconst padding_compact = (vars.grid_unit_icon_button - vars.unit_icon_size) / 3; // 8\n\nexport default {\n  padding,\n  padding_compact,\n\n  color_background:          \"transparent\", // only specify this variable to get all 2 states\n  // theme specific background colors may be set in theme; disabled by default\n  // color_light_background:    \"none\",\n  // color_dark_background:     \"none\",\n\n  color_light:               vars.rgba(vars.color_light_foreground, vars.blend_light_text_secondary),\n  color_light_disabled:      rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_wash_opacity:  vars.blend_light_background_hover_medium,\n  color_light_focus_opacity: vars.blend_light_background_hover_medium,\n\n  color_dark:                vars.rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_disabled:       rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_wash_opacity:   vars.blend_dark_background_hover_medium,\n  color_dark_focus_opacity:  vars.blend_dark_background_hover_medium,\n  \n};\n","\nexport default (selector, componentVars) => [{\n  [selector]: {\n    // don\"t set button size to facilitate different icon sizes\n    display: \"inline-block\",\n    \"vertical-align\": \"middle\",\n    cursor: \"pointer\",\n    position: \"relative\",\n    \"font-size\": \"1rem\",\n    \"border-radius\": \"50%\",\n    border: \"none\",\n\n    \" .pe-icon-button__content\": {\n      \"line-height\": 1,\n      padding: componentVars.padding + \"px\"\n    },\n\n    \"&.pe-icon-button--compact\": {\n      \" .pe-icon-button__content\": {\n        padding: componentVars.padding_compact + \"px\"\n      }\n    }\n  }\n}];\n","\nconst style = (scope, selector, componentVars, tint) => {\n  return [{\n    [scope + selector]: {\n      color: componentVars[\"color_\" + tint],\n      backgroundColor: componentVars[\"color_\" + tint + \"_background\"] || componentVars[\"color_background\"],\n      \" .pe-button__wash\": {\n        opacity: componentVars[\"color_\" + tint + \"_wash_opacity\"]\n      },\n\n      \"&.pe-button--focus, &.pe-button--selected\": {\n        \" .pe-button__focus\": {\n          opacity: componentVars[\"color_\" + tint + \"_focus_opacity\"],\n          backgroundColor: \"currentcolor\"\n        }\n      },\n\n      \"&.pe-button--disabled\": {\n        color: componentVars[\"color_\" + tint + \"_disabled\"]\n      }\n    }\n  }];\n};\n\nconst noTouchStyle = (scope, selector, componentVars, tint) => {\n  const backgroundColor = tint === \"light\"\n    ? \"currentcolor\"\n    : componentVars[\"color_\" + tint];\n  return [{\n    [scope + selector + \":hover\"]: {\n      \" .pe-button__wash\": {\n        backgroundColor: backgroundColor\n      }\n    }\n  }];\n};\n\nexport default (selector, componentVars) => [\n  style(       \"\",                                 selector, componentVars, \"light\"),\n  style(       \".pe-dark-theme \",                  selector, componentVars, \"dark\" ), // inside dark theme\n  noTouchStyle(\"html.pe-no-touch \",                selector, componentVars, \"light\"),\n  noTouchStyle(\"html.pe-no-touch .pe-dark-theme \", selector, componentVars, \"dark\" ), // inside dark theme\n];\n","import { styler } from \"polythene-css\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = \".pe-button.pe-icon-button\";\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","import m from \"mithril\";\nimport { icon } from \"polythene-icon\";\nimport { button } from \"polythene-button\";\nimport { customTheme } from \"./theme\";\n\nexport const classes = {\n  component: \"pe-button pe-icon-button\",\n  content:   \"pe-icon-button__content\",\n  compact:   \"pe-icon-button--compact\"\n};\n\nconst view = vnode => {\n  const attrs = vnode.attrs;\n  const content = attrs.content\n    ? attrs.content\n    : attrs.icon\n      ? m(icon, attrs.icon)\n      : attrs.children || vnode.children;\n  return m(button, Object.assign(\n    {},\n    {\n      content: m(\"div\", {class: classes.content}, content),\n      parentClass: [\n        attrs.parentClass || classes.component,\n        attrs.compact ? classes.compact : null,\n      ].join(\" \"),\n      // defaults\n      wash: false,\n      animateOnTap: false\n    },\n    attrs\n  ));\n};\n\nexport const iconButton = {\n  theme: customTheme, // accepts (selector, vars)\n  view\n};\n"],"names":["rgba","vars","padding","grid_unit_icon_button","unit_icon_size","padding_compact","color_light_foreground","blend_light_text_secondary","blend_light_text_disabled","blend_light_background_hover_medium","color_dark_foreground","blend_dark_text_secondary","blend_dark_text_disabled","blend_dark_background_hover_medium","selector","componentVars","style","scope","tint","noTouchStyle","backgroundColor","fns","layout","color","customTheme","customSelector","customVars","styler","generateStyles","classes","view","attrs","vnode","content","icon","m","children","button","babelHelpers.extends","class","parentClass","component","compact","join","iconButton"],"mappings":"ihBAEA,IAAMA,GAAOC,OAAKD,KACZE,GAAWD,OAAKE,sBAAwBF,OAAKG,gBAAkB,EAC/DC,GAAmBJ,OAAKE,sBAAwBF,OAAKG,gBAAkB,kDAMhD,0BAKAH,OAAKD,KAAKC,OAAKK,uBAAwBL,OAAKM,iDAC5CP,EAAKC,OAAKK,uBAAwBL,OAAKO,oDACvCP,OAAKQ,8DACLR,OAAKQ,+CAELR,OAAKD,KAAKC,OAAKS,sBAAuBT,OAAKU,+CAC3CX,EAAKC,OAAKS,sBAAuBT,OAAKW,kDACtCX,OAAKY,4DACLZ,OAAKY,4UCtBlBC,EAAUC,eACvBD,WAEU,gCACS,gBACV,mBACE,uBACG,uBACI,aACT,kDAGS,UACNC,EAAcb,QAAU,wEAKtBa,EAAcV,gBAAkB,WClB3CW,EAAQ,SAACC,EAAOH,EAAUC,EAAeG,eAE1CD,EAAQH,SACAC,EAAc,SAAWG,mBACfH,EAAc,SAAWG,EAAO,gBAAkBH,EAAA,8CAExDA,EAAc,SAAWG,EAAO,6FAK9BH,EAAc,SAAWG,EAAO,kCACxB,gDAKZH,EAAc,SAAWG,EAAO,kBAMzCC,EAAe,SAACF,EAAOH,EAAUC,EAAeG,MAC9CE,GAA2B,UAATF,EACpB,eACAH,EAAc,SAAWG,eAE1BD,EAAQH,EAAW,+CAECM,kBAMTN,EAAUC,UACxBC,EAAa,GAAoCF,EAAUC,EAAe,SAC1EC,EAAa,kBAAoCF,EAAUC,EAAe,UAC7D,oBAAoCD,EAAUC,EAAe,SAC1EI,EAAa,mCAAoCL,EAAUC,EAAe,UCpCtEM,GAAOC,EAAQC,GACfT,EAAW,4BAEJU,EAAc,SAACC,EAAgBC,SAC1CC,UAAOC,gBAAgBH,EAAgBX,QAAeb,EAASyB,GAAaL,GAE9EM,UAAOC,gBAAgBd,GAAWb,EAAMoB,ECNjC,IAAMQ,cACA,mCACA,kCACA,2BAGPC,EAAO,eACLC,GAAQC,EAAMD,MACdE,EAAUF,EAAME,QAClBF,EAAME,QACNF,EAAMG,KACJC,EAAED,OAAMH,EAAMG,MACdH,EAAMK,UAAYJ,EAAMI,eACvBD,GAAEE,SAAQC,cAGJH,EAAE,OAAQI,MAAOV,EAAQI,SAAUA,gBAE1CF,EAAMS,aAAeX,EAAQY,UAC7BV,EAAMW,QAAUb,EAAQa,QAAU,MAClCC,KAAK,WAED,gBACQ,GAEhBZ,KAISa,SACJpB"}