{"version":3,"file":"polythene-core-dialog.js","sources":["../src/classes.js","../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/dialog-instance.js","../src/theme/transitions.js"],"sourcesContent":["import { classes as coreMenuClasses } from \"polythene-core-menu\";\n\nexport default {\n  component:         \"pe-dialog\",\n\n  // elements\n  placeholder:       \"pe-dialog__placeholder\",\n  holder:            \"pe-dialog__holder\",\n  actions:           \"pe-dialog__actions\",\n  body:              \"pe-dialog__body\",\n  content:           \"pe-dialog__content\",\n  footer:            \"pe-dialog__footer\",\n  header:            \"pe-dialog__header\",\n  title:             \"pe-dialog__title\",\n\n  // states\n  footerHigh:        \"pe-dialog__footer--high\",\n  fullscreen:        \"pe-dialog--fullscreen\",\n  hasBackdrop:       \"pe-dialog--backdrop\",\n  hasBottomOverflow: \"pe-dialog--overflow-bottom\",\n  hasTopOverflow:    \"pe-dialog--overflow-top\",\n  open:              \"pe-dialog--open\",\n  transitioning:     \"pe-dialog--transitioning\",\n\n  // lookup\n  menuContent:       coreMenuClasses.content,\n};\n","import { vars } from \"polythene-theme\";\nconst rgba = vars.rgba;\n\nexport default {\n  border_radius: vars.unit_block_border_radius,\n  padding:       3 * vars.grid_unit_component,\n  header_bottom: 20,\n  header_height: 60,\n  footer_height: 52,\n\n  color_light_content_background:  rgba(vars.color_light_background),\n  color_light_title_text:          rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_body_text:           rgba(vars.color_light_foreground, vars.blend_light_text_regular),\n  color_light_body_border:         rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_light_backdrop_background: \"rgba(0, 0, 0, .4)\",\n\n  color_dark_content_background:   rgba(vars.color_dark_background),\n  color_dark_title_text:           rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_body_text:            rgba(vars.color_dark_foreground, vars.blend_dark_text_regular),\n  color_dark_body_border:          rgba(vars.color_dark_foreground, vars.blend_dark_border_light),\n  color_dark_backdrop_background:  \"rgba(0, 0, 0, .5)\"\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin, flex } from \"polythene-core-css\";\n\nconst lineHeightTitle = 24;\n\nexport default (selector, componentVars) => [{\n  [selector]: [\n    flex.layoutCenterCenter,\n    {\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: vars.z_dialog,\n      height: \"100%\", // 100vh would make the dialog go beneath Mobile Safari toolbar\n      padding: componentVars.padding + \"px 40px\",\n\n      \".pe-dialog--fullscreen\": {\n        padding: 0,\n\n        \" .pe-dialog__content\": {\n          opacity: 0,\n          borderRadius: 0,\n          maxWidth: \"none\",\n          height: \"100%\",\n          width: \"100%\",\n\n          \" .pe-dialog__header, .pe-dialog__footer\": {\n            display: \"none\"\n          },\n\n          \" .pe-dialog__body\": {\n            padding: 0,\n            height: \"100%\",\n            maxHeight: \"calc(100%)\",\n            border: \"none\"\n          }\n        }\n      },\n\n      \" .pe-dialog__header, pe-dialog__body, pe-dialog__header\": {\n        zIndex: 1\n      },\n\n      \" .pe-dialog__content\": [\n        flex.layoutVertical, {\n          position: \"relative\",\n          maxHeight: \"100%\",\n          minWidth: 56 * 5 + \"px\",\n          maxWidth: 7 * vars.grid_unit_menu + \"px\",\n          borderRadius: componentVars.border_radius + \"px\",\n\n          \" > .pe-shadow\": {\n            zIndex: -1 // For IE10 to get click events on content\n          },\n\n          \".pe-menu__content\": {\n            \" .pe-dialog__body\": {\n              padding: 0,\n              border: \"none\"\n            }\n          },\n          \" p\": {\n            margin: 0\n          },\n          \" p + p\": {\n            marginTop: \"16px\"\n          }\n        }\n      ],\n\n      \" .pe-dialog__title\": {\n        fontSize: vars.font_size_title + \"px\",\n        lineHeight: lineHeightTitle + \"px\",\n        fontWeight: vars.font_weight_medium,\n\n        \"& + div\": {\n          marginTop: \"16px\"\n        },\n      },\n\n      \" .pe-dialog__header\": {\n        padding: [(componentVars.padding - 4), componentVars.padding, (componentVars.header_bottom - 4), componentVars.padding].map((v) => (v + \"px\")).join(\" \"),\n        minHeight: componentVars.header_height + \"px\",\n\n        \" .pe-dialog__title\": [\n          mixin.ellipsis(1), {\n            width: \"100%\"\n          }\n        ]\n      },\n\n      \" .pe-dialog__body\": [\n        flex.selfStretch,\n        {\n          padding: componentVars.padding + \"px\",\n          overflowY: \"auto\",\n          \"-webkit-overflow-scrolling\": \"touch\",\n          borderWidth: \"1px\",\n          borderStyle: \"solid none\",\n          borderColor: \"transparent\",\n          // initially set max-height; will be overridden by dialog core with actual heights\n          maxHeight: \"calc(100vh - \" + (2 * componentVars.padding) + \"px - \" + (componentVars.header_height + componentVars.footer_height) + \"px)\"\n        }\n      ],\n      \" .pe-dialog__header + .pe-dialog__body\": {\n        paddingTop: 0\n      },\n\n      \" .pe-dialog__footer\": {\n        padding: \"2px 8px\",\n        minHeight: componentVars.footer_height + \"px\",\n        fontSize: 0, // remove inline block spacing\n\n        \".pe-dialog__footer--high\": {\n          // when buttons are stacked vertically\n          paddingBottom: \"8px\"\n        }\n      },\n\n      \" .pe-dialog__actions\": [\n        flex.layoutHorizontal,\n        flex.layoutEndJustified,\n        flex.layoutWrap, {\n          margin: \"0 -4px\",\n\n          \" .pe-button\": {\n            height: \"36px\",\n            marginTop: \"6px\",\n            marginBottom: \"6px\",\n            padding: 0\n          }\n        }\n      ]\n    }\n  ],\n  \" body.pe-dialog--open\": {\n    overflow: \"hidden\",\n    left: 0,\n    \"-webkit-overflow-scrolling\": \"touch\",\n    top: 0,\n    width: \"100%\"\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \"&.pe-dialog--backdrop\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    },\n    \" .pe-dialog__content\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_content_background\"]\n    },\n    \" .pe-dialog__header .pe-dialog__title\": {\n      color: componentVars[\"color_\" + tint + \"_title_text\"]\n    },\n    \" .pe-dialog__body\": {\n      color: componentVars[\"color_\" + tint + \"_body_text\"]\n    },\n    \"&.pe-dialog--overflow-top .pe-dialog__body\": {\n      borderTopColor: componentVars[\"color_\" + tint + \"_body_border\"]\n    },\n    \"&.pe-dialog--overflow-bottom .pe-dialog__body\": {\n      borderBottomColor: componentVars[\"color_\" + tint + \"_body_border\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport classes from \"../classes\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","/*\nTODO\nrename:\n- el => dom\n- topOverflow => hasTopOverflow\n- bottomOverflow => hasBottomOverflow\n*/\nimport { filterSupportedAttributes, subscribe, unsubscribe, show, hide } from \"polythene-core\";\nimport { customTheme } from \"./theme\";\nimport classes from \"./classes\";\n\nexport const element = \"form\";\n\nexport const theme = customTheme;\n\nconst SCROLL_WATCH_END_TIMER = 150;\nconst DEFAULT_Z = 3;\n\nconst updateScrollOverflowState = vnode => {\n  const state = vnode.state;\n  const scroller = state.scrollEl();\n  if (!scroller) {\n    return;\n  }\n  state.topOverflow(scroller.scrollTop > 0);\n  state.bottomOverflow(scroller.scrollHeight - (scroller.scrollTop + scroller.getBoundingClientRect().height) > 0);\n};\n\nconst updateFooterState = vnode => {\n  const state = vnode.state;\n  const footerEl = state.footerEl();\n  if (!footerEl) {\n    return;\n  }\n  const style = window.getComputedStyle(footerEl);\n  const height = footerEl.getBoundingClientRect().height;\n  const minHeight = parseInt(style.minHeight, 10);\n  if (height > minHeight) {\n    footerEl.classList.add(classes.footerHigh);\n  } else {\n    footerEl.classList.remove(classes.footerHigh);\n  }\n};\n\nexport const getInitialState = (vnode, createStream) => {\n  const bottomOverflow = createStream(false); \n  const footerEl = createStream();\n  const headerEl = createStream();\n  const isScrolling = createStream();\n  const scrollEl = createStream();\n  const topOverflow = createStream(false);\n  const transitioning = createStream(false);\n  const el = createStream();\n  isScrolling.map(vnode1 =>\n    updateScrollOverflowState(vnode1)\n  );\n  return {\n    bottomOverflow,\n    cleanUp: undefined,\n    el,\n    footerEl,\n    headerEl,\n    isScrolling,\n    scrollEl,\n    scrollWatchId: undefined,\n    topOverflow,\n    transitioning,\n    redrawOnUpdate: createStream.merge([topOverflow, bottomOverflow, isScrolling])\n  };\n};\n\nconst showDialog = (state, attrs) => {\n  if (state.transitioning()) {\n    return Promise.resolve();\n  }\n  const id = state.instanceId;\n  state.transitioning(true);\n  const transitions = attrs.transitions || state.transitions;\n  return show(Object.assign({},\n    attrs,\n    transitions.show(state.el(), attrs)\n  )).then(() => {\n    state.transitioning(false);\n    if (attrs.multipleDidShow) {\n      attrs.multipleDidShow(id); // this will call attrs.didShow\n    }\n  });\n};\n\nconst hideDialog = (state, attrs) => {\n  if (state.transitioning()) {\n    return Promise.resolve();\n  }\n  const id = state.instanceId;\n  state.transitioning(true);\n  const transitions = attrs.transitions || state.transitions;\n  return hide(Object.assign({},\n    attrs,\n    transitions.hide(state.el(), attrs)\n  )).then(() => {\n    state.transitioning(false);\n    if (attrs.multipleDidHide) {\n      attrs.multipleDidHide(id); // this will call attrs.didHide\n    }\n  });\n};\n\nexport const onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  state.el(vnode.dom);\n\n  state.scrollEl(vnode.dom.querySelector(`.${classes.body}`));\n  state.footerEl(vnode.dom.querySelector(`.${classes.footer}`));\n  state.headerEl(vnode.dom.querySelector(`.${classes.title}`));\n\n  const update = () => {\n    updateScrollOverflowState(vnode);\n    updateFooterState(vnode);\n  };\n  \n  const handleEscape = e => {\n    if (attrs.fullscreen || attrs.modal) return;\n    if (e.which === 27) {\n      hideDialog(state, Object.assign({}, attrs, {\n        hideDelay: 0\n      }));\n    }\n  };\n  state.cleanUp = () => (\n    unsubscribe(\"resize\", update),\n    unsubscribe(\"keydown\", handleEscape)\n  );\n\n  // resize: update scroll state (\"overflow\" borders)\n  subscribe(\"resize\", update);\n  subscribe(\"keydown\", handleEscape);\n\n  updateScrollOverflowState(vnode);\n\n  if (attrs.show) {\n    showDialog(state, attrs).then(() => {\n      updateScrollOverflowState(vnode);\n      updateFooterState(vnode);\n    });\n  }\n};\n\nexport const onUnMount = vnode => (\n  vnode.state.cleanUp()\n);\n\nexport const createProps = (vnode, { keys: k }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs, { remove: [\"style\"] }), // style set in content, and set by show/hide transition\n    {\n      className: [\n        classes.component,\n        attrs.fullscreen ? classes.fullscreen : null,\n        attrs.backdrop ? classes.hasBackdrop : null,\n        state.topOverflow() || attrs.borders ? classes.hasTopOverflow : null,\n        state.bottomOverflow() || attrs.borders ? classes.hasBottomOverflow : null,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \"),\n      // click backdrop: close dialog\n      [k.onclick]: e => {\n        if (e.target !== state.el()) {\n          return;\n        }\n        if (attrs.modal) {\n          // not allowed\n          return;\n        }\n        hideDialog(state, Object.assign({}, attrs, {\n          hideDelay: 0\n        }));\n      }\n    },\n    attrs.formOptions ? attrs.formOptions : null\n  );\n};\n\nconst createBody = (vnode, { state, attrs, h, k }) => {\n  // if flex \"self-stretch\" is not supported, calculate the maximum height\n  const bodyattrs = attrs.content || attrs.body || attrs.menu;\n  return h(\"div\", {\n    className: classes.body,\n    [k.onscroll]: () => {\n      state.isScrolling(vnode);\n      clearTimeout(state.scrollWatchId);\n      state.scrollWatchId = setTimeout(() => {\n        state.isScrolling(vnode);\n      }, SCROLL_WATCH_END_TIMER);\n    }\n  }, bodyattrs);\n};\n\n\nexport const createContent = (vnode, { renderer: h, keys: k, Shadow }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  if (attrs.hide) {\n    hideDialog(state, attrs);\n  }\n  const body = createBody(vnode, { state, attrs, h, k });\n  return h(\"div\",\n    {\n      className: [\n        classes.content,\n        attrs.menu ? classes.menuContent : null\n      ].join(\" \"),\n      style: attrs.style\n    },\n    [\n      attrs.fullscreen\n        ? null\n        : h(Shadow, {\n          z: attrs.z !== undefined ? attrs.z : DEFAULT_Z,\n          animated: true\n        }),\n      attrs.fullscreen\n        ? null\n        : attrs.title\n          ? h(\"div\",\n              { className: classes.header },\n              h(\"div\",\n                { className: classes.title },\n                attrs.title\n              )\n            )\n          : null,\n      body,\n      attrs.fullscreen\n        ? null\n        : attrs.footer\n          ? h(\"div\",\n              { className: classes.footer },\n              h(\"div\",\n                { className: classes.actions },\n                attrs.footer\n              )\n            )\n          : null\n    ]\n  );\n};\n","\nconst show = (el, opts) => ({\n  el,\n  showDuration: opts.showDuration || .220,\n  showDelay:    opts.showDelay || 0,\n  beforeShow:   () => el.style.opacity = 0,\n  show:         () => el.style.opacity = 1,\n});\n\nconst hide = (el, opts) => ({\n  el,\n  hideDuration: opts.hideDuration || .220,\n  hideDelay:    opts.hideDelay || 0,\n  hide:         () => el.style.opacity = 0\n});\n\nexport default {\n  show,\n  hide\n};\n"],"names":["coreMenuClasses","content","rgba","vars","unit_block_border_radius","grid_unit_component","color_light_background","color_light_foreground","blend_light_text_primary","blend_light_text_regular","blend_light_border_light","color_dark_background","color_dark_foreground","blend_dark_text_primary","blend_dark_text_regular","blend_dark_border_light","selector","componentVars","flex","layoutCenterCenter","z_dialog","padding","layoutVertical","grid_unit_menu","border_radius","font_size_title","lineHeightTitle","font_weight_medium","header_bottom","map","v","join","header_height","mixin","ellipsis","selfStretch","footer_height","layoutHorizontal","layoutEndJustified","layoutWrap","style","scopes","tint","s","fns","layout","color","classes","component","customTheme","customSelector","customVars","styler","generateStyles","theme","updateScrollOverflowState","state","vnode","scroller","scrollEl","topOverflow","scrollTop","bottomOverflow","scrollHeight","getBoundingClientRect","height","updateFooterState","footerEl","window","getComputedStyle","parseInt","minHeight","classList","add","footerHigh","remove","getInitialState","createStream","headerEl","isScrolling","transitioning","el","vnode1","undefined","merge","showDialog","attrs","Promise","resolve","id","instanceId","transitions","show","_extends","then","multipleDidShow","hideDialog","hide","multipleDidHide","onMount","dom","querySelector","body","footer","title","update","handleEscape","fullscreen","modal","e","which","cleanUp","unsubscribe","onUnMount","createProps","k","keys","filterSupportedAttributes","backdrop","hasBackdrop","borders","hasTopOverflow","hasBottomOverflow","tone","className","class","onclick","target","formOptions","createBody","h","bodyattrs","menu","onscroll","scrollWatchId","setTimeout","createContent","renderer","Shadow","menuContent","z","header","actions","opts","showDuration","showDelay","opacity","hideDuration","hideDelay"],"mappings":"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"}