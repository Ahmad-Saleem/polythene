!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-css-classes"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css-classes","polythene-theme"],t):t(e.polythene={},e["polythene-core"],e["polythene-css-classes"],e["polythene-theme"])}(this,function(e,t,r,n){"use strict";function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(e){return e.attrs.element||"div"},i=function(e,t){var r=t.state,n=t.attrs;if(n.onSelect){var l=r.highlightIndex(),o={event:e,index:l,dom:r.tiles[l].dom,attrs:r.tiles[l].attrs};n.onSelect(o)}},a=function(e,t){var r=e.attrs,n=t(void 0!==r.defaultHighlightIndex?r.defaultHighlightIndex:-1);return{tiles:[],highlightIndex:n,registerTile:function(e){return function(t,r){return e.tiles[t]=r}},redrawOnUpdate:t.merge([n])}},d=function(e){var t=e.state;e.attrs.keyboardControl&&t.highlightIndex.map(function(e){t.tiles[e]&&t.tiles[e].dom.focus()})},c=function(e,n){var s=n.keys,a=e.state,d=e.attrs;return o({},t.filterSupportedAttributes(d),{className:[r.listClasses.component,d.borders?r.listClasses.borders:null,d.indentedBorders?r.listClasses.indentedBorders:null,d.header?r.listClasses.hasHeader:null,d.compact?r.listClasses.compact:null,!1!==d.padding?r.listClasses.padding:null,"dark"===d.tone?"pe-dark-tone":null,"light"===d.tone?"pe-light-tone":null,d.className||d[s.class]].join(" ")},d.keyboardControl&&l({},s.onkeydown,function(t){var r=a.highlightIndex();if("ArrowDown"===t.key||"ArrowRight"===t.key){t.preventDefault();var n=Math.min(a.tiles.length-1,r+1);a.tiles[n].dom.focus()}else if("ArrowUp"===t.key||"ArrowLeft"===t.key){t.preventDefault();var l=Math.max(0,r-1);a.tiles[l].dom.focus()}else"Enter"===t.key?i(t,e):"Escape"===t.key&&(a.tiles[r].dom.blur(),a.highlightIndex(-1))}))},h=function(e,t){var n=t.renderer,s=t.requiresKeys,a=t.keys,d=t.ListTile,c=e.state,h=e.attrs,u=void 0;h.header&&((u=o({},h.header))[a.class]=[r.listClasses.header,u[a.class]||null].join(" "));var g=c.highlightIndex(),f=h.tiles?h.tiles:h.content?h.content:h.children||e.children,p=-1;return[u?n(d,o({},s?{key:"header"}:null,h.all,u,{header:!0})):null,h.keyboardControl?f.map(function(t){return t.header||p++,void 0!==t.tag?t:n(d,o({},h.all,t,!t.header&&{keyboardControl:!0,register:c.registerTile(c),setHighlightIndex:c.highlightIndex,index:p,defaultHighlight:g===p,events:o({},t.events,l({},a.onclick,function(t){return i(t,e)}))}))}):h.all?f.map(function(e){return n(d,o({},h.all,e))}):f]},u=Object.freeze({getElement:s,getInitialState:a,onMount:d,createProps:c,createContent:h}),g=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},f={padding:n.vars.grid_unit_component,padding_compact:3*n.vars.grid_unit_component/4,border_width_stacked:1,border_width_bordered:1,color_light_border:g(n.vars.color_light_foreground,n.vars.blend_light_border_light),color_dark_border:g(n.vars.color_dark_foreground,n.vars.blend_dark_border_light)};e.coreList=u,e.classes=r.listClasses,e.vars=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-list.js.map
