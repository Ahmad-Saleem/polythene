{"version":3,"file":"polythene-css-selection-control.js","sources":["../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["// Returns a style function to be used by checkbox and radio-button\n\nimport { mixin, flex } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nconst alignRight = componentVars => ({\n  \" .pe-button.pe-control__button\": {\n    right: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n    left: \"auto\",\n  },\n  \" .pe-control__label\": {\n    paddingLeft: componentVars.label_padding_after + \"px\",\n    paddingRight: componentVars.label_padding_before + \"px\",\n  }\n});\n\nconst alignLeft = componentVars => ({\n  \" .pe-button.pe-control__button\": {\n    right: \"auto\",\n    left: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n  },\n  \" .pe-control__label\": {\n    paddingLeft: componentVars.label_padding_before + \"px\",\n    paddingRight: componentVars.label_padding_after + \"px\",\n  }\n});\n\nconst makeSize = (componentVars, height, iconSize = vars.unit_icon_size) => {\n  const labelSize = iconSize + componentVars.label_height;\n  const iconOffset = (labelSize - iconSize) / 2;\n  return {\n    \" .pe-control__form-label\": {\n      height: height + \"px\"\n    },\n    \" .pe-control__box\": {\n      width: iconSize + \"px\",\n      height: iconSize + \"px\"\n    },\n    \" .pe-button__content\": {\n      width: labelSize + \"px\",\n      height: labelSize + \"px\",\n\n      \" .pe-icon\": [\n        mixin.fit(iconOffset)\n      ]\n    }\n  };\n};\n\nconst activeButton = () => ({\n  opacity: 1,\n  zIndex: 1\n});\n\nconst inactiveButton = () => ({\n  opacity: 0,\n  zIndex: 0\n});\n\nexport default (selector, componentVars, type) => [\n  {\n    [selector]: [\n      alignLeft(componentVars),\n      {\n        display: \"inline-block\",\n        boxSizing: \"border-box\",\n        margin: 0,\n        padding: 0,\n\n        [` input[type=${type}]`]: {\n          display: \"none\"\n        },\n\n        \" .pe-control__form-label\": [\n          flex.layoutHorizontal,\n          flex.layoutCenter,\n          {\n            position: \"relative\",\n            cursor: \"pointer\",\n            fontSize: componentVars.label_font_size + \"px\",\n            margin: 0,\n            color: \"inherit\",\n\n            \":focus\": {\n              outline: 0\n            },\n          }\n        ],\n\n        \".pe-control--inactive\": {\n          \" .pe-control__form-label\": {\n            cursor: \"default\"\n          }\n        },\n\n        \" .pe-control__box\": {\n          position: \"relative\",\n          display: \"inline-block\",\n          boxSizing: \"border-box\",\n          width: componentVars.label_height + \"px\",\n          height: componentVars.label_height + \"px\",\n          color: \"inherit\",\n          flexShrink: 0,\n\n          \":focus\": {\n            outline: 0,\n          }\n        },\n\n        \" .pe-button.pe-control__button\": [\n          mixin.defaultTransition(\"opacity\", componentVars.animation_duration),\n          {\n            position: \"absolute\",\n            top: -((componentVars.button_size - componentVars.icon_size) / 2) + \"px\",\n            zIndex: 1\n          }\n        ],\n\n        \".pe-control--off\": {\n          \" .pe-control__button--on\": inactiveButton(),\n          \" .pe-control__button--off\": activeButton()\n        },\n\n        \".pe-control--on\": {\n          \" .pe-control__button--on\": activeButton(),\n          \" .pe-control__button--off\": inactiveButton()\n        },\n\n        \" .pe-control__label\": [\n          mixin.defaultTransition(\"all\", componentVars.animation_duration),\n          {\n            // padding: RTL\n            alignSelf: \"center\"\n          }\n        ],\n\n        \".pe-control--disabled\": {\n          \" .pe-control__form-label\": {\n            cursor: \"auto\"\n          },\n          \" .pe-control__button\": {\n            pointerEvents: \"none\"\n          }\n        },\n\n        \" .pe-button__content\": {\n          \" .pe-icon\": {\n            position: \"absolute\"\n          }\n        },\n\n        \".pe-control--small\":   makeSize(componentVars, vars.unit_icon_size_small, vars.unit_icon_size_small),\n        \".pe-control--regular\": makeSize(componentVars, componentVars.label_height, vars.unit_icon_size),\n        \".pe-control--medium\":  makeSize(componentVars, vars.unit_icon_size_medium, vars.unit_icon_size_medium),\n        \".pe-control--large\":   makeSize(componentVars, vars.unit_icon_size_large, vars.unit_icon_size_large),\n      },\n    ]\n  },\n  {\n    // RTL\n    [`*[dir=rtl] ${selector}, .pe-rtl ${selector}`]: [\n      alignRight(componentVars)\n    ],\n  }\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint + \"_on\"], // override by specifying \"color\"\n\n    \" .pe-control__label\": {\n      color: componentVars[\"color_\" + tint + \"_label\"]\n    },\n    \" .pe-control__box\": {\n      \" .pe-control__button\": {\n        color: \"inherit\",\n\n        \" .pe-control__button--on\": {\n          color: componentVars[\"color_\" + tint + \"_on_icon\"] ||  \"inherit\"\n        },\n\n        \" .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_off_icon\"] || componentVars[\"color_\" + tint + \"_off\"]\n        }\n      }\n    },\n    \".pe-control--off\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_off_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_off\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_off_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n    \".pe-control--on\": {\n      \" .pe-button--focus .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_on_opacity\"],\n        backgroundColor: componentVars[\"color_\" + tint + \"_focus_on\"]\n      },\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_on_label\"] || componentVars[\"color_\" + tint + \"_label\"]\n      },\n    },\n\n    \".pe-control--disabled\": {\n      \" .pe-control__label\": {\n        color: componentVars[\"color_\" + tint + \"_disabled\"]\n      },\n      \" .pe-control__box\": {\n        \" .pe-control__button--on, .pe-control__button--off\": {\n          color: componentVars[\"color_\" + tint + \"_disabled\"]\n        }\n      }\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n\n","export { default as layout } from \"./layout\";\nexport { default as color } from \"./color\";\n\nexport const getStyle = () => null;\n"],"names":["alignRight","right","componentVars","button_size","icon_size","left","paddingLeft","label_padding_after","paddingRight","label_padding_before","alignLeft","makeSize","height","iconSize","vars","unit_icon_size","labelSize","label_height","iconOffset","width","mixin","fit","activeButton","opacity","zIndex","inactiveButton","selector","type","display","boxSizing","margin","padding","flex","layoutHorizontal","layoutCenter","position","cursor","fontSize","label_font_size","color","outline","flexShrink","defaultTransition","animation_duration","top","alignSelf","pointerEvents","unit_icon_size_small","unit_icon_size_medium","unit_icon_size_large","style","scopes","tint","map","s","join","backgroundColor","getStyle"],"mappings":"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"}