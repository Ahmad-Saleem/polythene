!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.polythene=e.polythene||{})}(this,function(e){"use strict";var n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},t=function(){var e=document.createElement("fakeelement");for(var t in n)if(void 0!==e.style[t])return n[t]}(),i={view:function(e,n){var t=n.renderer,i=e.attrs;return i.permanent||i.show?t(i.instance,i):t("span",{className:i.placeholderClassName})}},o={rgba:function(e){return"rgba("+e+","+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},hex:function(e){var n=parseInt(e.substring(1),16);return(n>>16&255)+","+(n>>8&255)+","+(255&n)},grid_unit:4,grid_unit_component:8,grid_unit_menu:56,grid_unit_icon_button:48,unit_block_border_radius:2,unit_item_border_radius:2,unit_indent:72,unit_side_padding:window.innerWidth>=1024?24:16,unit_touch_height:48,unit_icon_size_small:16,unit_icon_size:24,unit_icon_size_medium:32,unit_icon_size_large:40,unit_screen_size_extra_large:1280,unit_screen_size_large:960,unit_screen_size_medium:480,unit_screen_size_small:320,animation_duration:".18s",animation_curve_slow_in_fast_out:"cubic-bezier(.4, 0, .2, 1)",animation_curve_slow_in_linear_out:"cubic-bezier(0, 0, .2, 1)",animation_curve_linear_in_fast_out:"cubic-bezier(.4, 0, 1, 1)",animation_curve_default:"ease-out",font_weight_light:300,font_weight_normal:400,font_weight_medium:500,font_weight_bold:700,font_size_title:20,line_height:1.3,color_primary:"33, 150, 243",color_primary_active:"30, 136, 229",color_primary_dark:"25, 118, 210",color_primary_faded:"100, 181, 249",color_primary_foreground:"255, 255, 255",color_light_background:"255, 255, 255",color_light_foreground:"0, 0, 0",color_dark_background:"34, 34, 34",color_dark_foreground:"255, 255, 255",blend_light_text_primary:.87,blend_light_text_regular:.73,blend_light_text_secondary:.54,blend_light_text_tertiary:.4,blend_light_text_disabled:.26,blend_light_border_light:.11,blend_light_background_active:.14,blend_light_background_hover:.06,blend_light_background_hover_medium:.12,blend_light_background_disabled:.09,blend_light_overlay_background:.3,blend_dark_text_primary:1,blend_dark_text_regular:.87,blend_dark_text_secondary:.7,blend_dark_text_tertiary:.4,blend_dark_text_disabled:.26,blend_dark_border_light:.1,blend_dark_background_active:.14,blend_dark_background_hover:.08,blend_dark_background_hoverMedium:.12,blend_dark_background_disabled:.12,blend_dark_overlay_background:.3,breakpoint_small_handset_portrait:0,breakpoint_medium_handset_portrait:360,breakpoint_large_handset_portrait:400,breakpoint_small_tablet_portrait:600,breakpoint_large_tablet_portrait:720,breakpoint_small_handset_landscape:480,breakpoint_medium_handset_landscape:600,breakpoint_large_handset_landscape:720,env_tablet:window.innerWidth>=600,env_desktop:window.innerWidth>=1024,z_menu:1,z_header_container:2e3,z_fixed_header_container:3e3,z_notification:4e3,z_dialog:5e3},r=function(e,n){return e[n]=1,e},a=["key","style","href","id","tabindex","oninit","oncreate","onupdate","onbeforeremove","onremove","onbeforeupdate"],d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.add,i=void 0===t?[]:t,o=n.remove,d=(void 0===o?[]:o).reduce(r,{}),u=a.concat(i).filter(function(e){return!d[e]}).reduce(r,{});return Object.keys(e).reduce(function(n,t){return u[t]&&(n[t]=e[t]),n},{})},u=function(e){return"function"==typeof e?e():e},s="undefined"!=typeof window,c=!s,l="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,_=l?"click":"mousedown",h=l?"click":"mouseup",f=window.PointerEvent?"pointermove":"ontouchmove"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?"touchmove":"mousemove",m=window.PointerEvent?"pointerup":"ontouchend"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?"touchend":"mouseup";document.querySelector("html").classList.add(l?"pe-touch":"pe-no-touch");var v={},w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=!1;return function(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];i||(!function(){e.apply(t,r)}(),i=!0,setTimeout(function(){return i=!1},n))}},p=function(e,n,t){v[e]=v[e]||[],v[e].push(t?w(n,t):n)},b=function(e,n){if(v[e]){var t=v[e].indexOf(n);t>-1&&v[e].splice(t,1)}},g=function(e,n){v[e]&&v[e].forEach(function(e){return e(n)})};window.addEventListener("resize",function(e){return g("resize",e)}),window.addEventListener("scroll",function(e){return g("scroll",e)}),window.addEventListener("keydown",function(e){return g("keydown",e)}),window.addEventListener(h,function(e){return g(h,e)});var k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},y=function(e){var n=e.options,t=e.renderer,i=[],o=void 0,r=function(e){o||console.error("Cannot set state. Did you set a root element like Dialog to show instances?"),o(e.id),g(n.name,e)},a=function(e){var n=c(e);return i.indexOf(n)},d=function(e){var n=a(e);-1!==n&&i.splice(n,1),r({id:e,name:"removeItem"})},s=function(e,n){var t=a(e);-1!==t&&(i[t]=n)},c=function(e){for(var n=0;n<i.length;n++)if(i[n].instanceId===e)return i[n]},l=function(){i.length&&(i[0].show=!0),r({id:i.length?i[0].instanceId:null,name:"next"})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.defaultId;n.queue?(i.shift(),l()):d(e)},h=function(){i.length=0,r({id:null,name:"removeAll"})},f=function(e,n){var t=c(n);t&&(t.pause=e,t.unpause=!e,r({id:n,name:e?"pause":"unpause"}))},m=function(e,t,i){var o=void 0,a=void 0,d=u(e),s=function(){return d.didShow&&d.didShow(t),r({id:t,name:"didShow"}),o(t)},c=new Promise(function(e){return o=e}),l=function(){return d.didHide&&d.didHide(t),r({id:t,name:"didHide"}),_(t),a(t)},h=new Promise(function(e){return a=e});return k({},n,{instanceId:t,spawn:i,attrs:e,show:!n.queue,showPromise:c,hidePromise:h,didShow:s,didHide:l})};return{clear:function(){return h()},count:function(){return i.length},getInitialState:function(e,n){return o=n(),{current:o,redrawOnUpdate:n.merge([o])}},hide:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id||n.defaultId,t=n.queue&&i.length?i[0]:c(e);return t&&(t.hide=!0),r({id:e,name:"hide"}),t?t.hidePromise:Promise.resolve(e)},pause:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.defaultId;return f(!0,e)},remove:_,show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.id||n.defaultId,a=t.spawn||n.defaultId,d=m(e,o,a);return r({id:o,name:"show"}),n.queue?(i.push(d),1===i.length&&l()):c(o)?s(o,d):i.push(d),d.showPromise},unpause:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.defaultId;return f(!1,e)},view:function(e){var o=e.attrs,r=o.spawn||n.defaultId,a=i.filter(function(e){return e.show&&e.spawn===r});return n.bodyShowClass&&document.body.classList[a.length?"add":"remove"](n.bodyShowClass),a.length?t(n.holderSelector,{className:"container"===o.position?"pe-multiple--container":"pe-multiple--screen"},a.map(function(e){return t(n.instance,k({},{key:e.key,instanceId:e.instanceId,transitions:n.transitions,holderSelector:n.holderSelector,className:n.className,showInstance:e.show,hideInstance:e.hide,pauseInstance:e.pause,unpauseInstance:e.unpause,multipleDidShow:e.didShow,multipleDidHide:e.didHide},u(e.attrs)))})):t(n.placeholder)}}},x=function(e){return P(e,"show")},z=function(e){return P(e,"hide")},I=function(e,n,t,i,o,r){var a=e.transition||"both";return"none"===a?0:"show"===a&&"hide"===n?0:"hide"===a&&"show"===n?0:"show"===n?void 0!==e[t]?e[t]:o:void 0!==e[i]?e[i]:r},S=function(e,n){return I(e,n,"showDuration","hideDuration",.22,.2)},E=function(e,n){return I(e,n,"showDelay","hideDelay",0,0)},P=function(e,n){var t=e.el;return t?new Promise(function(i){var o=1e3*S(e,n),r=1e3*E(e,n),a=t.style,d=e.beforeShow&&"show"===n?function(){return e.beforeShow()}:null,u=e.afterHide&&"hide"===n?function(){return e.afterHide()}:null,s=function(){a.transitionDuration=o+"ms",a.transitionDelay=r+"ms",e.showClass&&t.classList["show"===n?"add":"remove"](e.showClass),e.show&&"function"==typeof e.show&&"show"===n&&e.show(),e.hide&&"function"==typeof e.hide&&"hide"===n&&e.hide()},c=function(){s(),setTimeout(function(){u&&u(),i()},o+r)};d&&d(),function(){0===o?c():setTimeout(c,0)}()}):Promise.resolve()};e.animationEndEvent=t,e.Conditional=i,e.defaultVariables=o,e.filterSupportedAttributes=d,e.unpackAttrs=u,e.isClient=s,e.isServer=c,e.isTouch=l,e.touchStartEvent=_,e.touchEndEvent=h,e.moveEvent=f,e.endEvent=m,e.Multi=y,e.show=x,e.hide=z,e.throttle=w,e.subscribe=p,e.unsubscribe=b,e.emit=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core.js.map
