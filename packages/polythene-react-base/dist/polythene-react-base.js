!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react-hyperscript"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react-hyperscript","react","react-dom"],e):e(t.polythene=t.polythene||{},t["react-hyperscript"],t.react,t["react-dom"])}(this,function(t,e,n,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e="default"in e?e.default:e,r="default"in r?r.default:r;var v={class:"className",formaction:"formAction",onblur:"onBlur",onclick:"onClick",onfocus:"onFocus",onkeydown:"onKeyDown",onkeyup:"onKeyUp",onmousedown:"onMouseDown",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",tabindex:"tabIndex"},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t){return function(e){function n(e){o(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.state=m({},t,{state:{}}),r.state.oninit&&r.state.oninit(r.state),r}return a(n,e),O(n,[{key:"componentDidMount",value:function(){var t=this;this.state.state.stream&&this.state.state.stream.map(function(){return t.forceUpdate()})}},{key:"render",value:function(){return this.state.view({state:this.state.state,attrs:this.props},this.props.children)}}]),n}(n.Component)},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return"object"===g(n[0])?e.call.apply(e,[null,w(n[0])].concat(u(n.slice(1)))):e.call.apply(e,[null].concat(n))};_.trust=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";return null==t&&(t=""),e(n,{dangerouslySetInnerHTML:{__html:t}})};var j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function(t){var e=t.createContent,o=t.createProps,i=t.element,a=t.getInitialState,u=void 0===a?function(){return{}}:a,l=t.onMount,p=void 0===l?function(){}:l,y=t.onUnmount,h=void 0===y?function(){}:y,b=t.state,d=void 0===b?{}:b;return function(t){function n(t){s(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={now:Date.now()},e._state=j({},d,u(t)),e}return f(n,t),k(n,[{key:"componentDidMount",value:function(){p(this.createVirtualNode())}},{key:"componentWillUnmount",value:function(){h(this.createVirtualNode())}},{key:"updateState",value:function(t,e,n){this._state[t]=e,this.setState({now:Date.now()},n)}},{key:"createVirtualNode",value:function(){var t=j({},this.props);return{state:this._state,attrs:t,children:t.children,dom:this.dom,updateState:this.updateState.bind(this)}}},{key:"render",value:function(){var t=this,n=this.createVirtualNode();return _(n.attrs.element||i,j({},o(n,{renderer:_,requiresKeys:!0,keys:v}),{ref:function(e){t.dom||(t.dom=r.findDOMNode(e))}}),[n.attrs.before,e(n,{renderer:_,requiresKeys:!0,keys:v}),n.attrs.after])}}]),n}(n.Component)},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){var e=t.createContent,o=t.createProps,i=t.element;return function(t){function n(){return l(this,n),p(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return y(n,t),C(n,[{key:"createVirtualNode",value:function(){var t=S({},this.props);return{attrs:t,children:t.children,dom:this.dom}}},{key:"render",value:function(){var t=this,n=this.createVirtualNode();return _(n.attrs.element||i,S({},o(n,{renderer:_,requiresKeys:!0,keys:v}),{ref:function(e){t.dom||(t.dom=r.findDOMNode(e))}}),[n.attrs.before,e(n,{renderer:_,requiresKeys:!0,keys:v}),n.attrs.after])}}]),n}(n.Component)},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=function(t){function e(t){h(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={visible:t.permanent||t.show||!1,transitioning:!1},n}return d(e,t),T(e,[{key:"componentWillReceiveProps",value:function(t){t.permanent||this.state.transitioning||(!this.state.visible&&t.show?this.setState({visible:!0}):this.state.visible&&t.hide&&this.setState({visible:!1}))}},{key:"updateState",value:function(){this.props.getState&&this.props.getState({visible:this.state.visible,transitioning:this.state.transitioning})}},{key:"render",value:function(){var t=this;return this.state.visible?_(this.props.instance,M({},this.props,{setVisible:function(e){return t.setState({visible:e},t.updateState)},setTransitioning:function(e){return t.setState({transitioning:e},t.updateState)}})):_("span",{className:this.props.placeholderClassName})}}]),e}(n.Component);t.keys=v,t.renderer=_,t.statefulComponent=P,t.viewComponent=E,t.Toggle=N,t.MithrilToReact=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-react-base.js.map
