{"version":3,"file":"polythene-react-base.js","sources":["../src/keys.js","../src/renderer.js","../src/statefulComponent.js","../src/statelessComponent.js"],"sourcesContent":["\nexport const keys = {\n  class:       \"className\",\n  formaction:  \"formAction\",\n  onblur:      \"onBlur\",\n  onclick:     \"onClick\",\n  onfocus:     \"onFocus\",\n  onkeydown:   \"onKeyDown\",\n  onkeyup:     \"onKeyUp\",\n  onmousedown: \"onMouseDown\",\n  onmouseout:  \"onMouseOut\",\n  onmouseover: \"onMouseOver\",\n  onmouseup:   \"onMouseUp\",\n  tabindex:    \"tabIndex\",\n};\n","import h from \"react-hyperscript\";\n\nexport const renderer = h;\n\nrenderer.trust = (html, element = \"div\") => {\n  if (html == null) html = \"\";\n  return h(element, {\n    dangerouslySetInnerHTML: { __html: html }\n  });\n};","import { Component } from \"react\";\nimport { renderer } from \"./renderer\";\nimport { keys } from \"./keys\";\n\nexport const statefulComponent = ({\n  createContent,\n  createProps,\n  element,\n  onMount = () => {},\n  onUnmount = () => {},\n  state = {},\n}) => {\n  \n  return class extends Component {\n    constructor(props) {\n      super(props);\n      this.state = Object.assign({}, state);\n    }\n\n    componentDidMount() {\n      onMount(this.createVirtualNode());\n    }\n\n    componentWillUnmount() {\n      onUnmount(this.createVirtualNode());\n    }\n\n    createVirtualNode() {\n      const props = Object.assign({}, this.props);\n      return {\n        state: this.state,\n        attrs: props,\n        children: props.children,\n        dom: this.dom\n      };\n    }\n\n    render() {\n      const vnode = this.createVirtualNode();\n      const updateState = (attrs, value) => this.setState({[attrs]: value});\n      return renderer(\n        vnode.attrs.element || element,\n        Object.assign(\n          {},\n          createProps(vnode, { renderer, keys, updateState }),\n          { ref: dom => this.dom = dom }\n        ),\n        [\n          vnode.attrs.before,\n          createContent(vnode, { renderer, keys, updateState }),\n          vnode.attrs.after\n        ]\n      );\n    }\n  };\n};\n","import { Component } from \"react\";\nimport { renderer } from \"./renderer\";\nimport { keys } from \"./keys\";\n\nexport const statelessComponent = ({\n  createContent,\n  createProps,\n  element,\n}) => {\n  \n  return class extends Component {\n\n    createVirtualNode() {\n      const props = Object.assign({}, this.props);\n      return {\n        state: this.state,\n        attrs: props,\n        children: props.children,\n        dom: this.dom\n      };\n    }\n\n    render() {\n      const vnode = this.createVirtualNode();\n      return renderer(\n        vnode.attrs.element || element,\n        Object.assign(\n          {},\n          createProps(vnode, { renderer, keys }),\n          { ref: dom => this.dom = dom }\n        ),\n        [\n          vnode.attrs.before,\n          createContent(vnode, { renderer, keys }),\n          vnode.attrs.after\n        ]\n      );\n    }\n  };\n};\n"],"names":["keys","renderer","h","trust","html","element","__html","statefulComponent","createContent","createProps","onMount","onUnmount","state","props","_extends","this","createVirtualNode","children","dom","vnode","updateState","attrs","value","_this2","setState","ref","before","after","Component","statelessComponent"],"mappings":"ikDACO,IAAMA,UACE,uBACA,oBACA,iBACA,kBACA,oBACA,oBACA,sBACA,yBACA,yBACA,wBACA,qBACA,YCXFC,EAAWC,CAExBD,GAASE,MAAQ,SAACC,MAAMC,0DAAU,YACpB,OAARD,IAAcA,EAAO,IAClBF,EAAEG,4BACoBC,OAAQF,maCH1BG,EAAoB,eAC/BC,KAAAA,cACAC,IAAAA,YACAJ,IAAAA,YACAK,QAAAA,aAAU,mBACVC,UAAAA,aAAY,mBACZC,MAAAA,gDAIcC,4EACJA,aACDD,MAAQE,KAAkBF,oEAIvBG,KAAKC,sEAIHD,KAAKC,oEAITH,GAAQC,KAAkBC,KAAKF,oBAE5BE,KAAKH,YACLC,WACGA,EAAMI,aACXF,KAAKG,iDAKNC,EAAQJ,KAAKC,oBACbI,EAAc,SAACC,EAAOC,SAAUC,GAAKC,cAAWH,EAAQC,WACvDrB,GACLkB,EAAME,MAAMhB,SAAWA,EACvBS,KAEEL,EAAYU,GAASlB,WAAUD,OAAMoB,iBACnCK,IAAK,kBAAOF,GAAKL,IAAMA,MAGzBC,EAAME,MAAMK,OACZlB,EAAcW,GAASlB,WAAUD,OAAMoB,gBACvCD,EAAME,MAAMM,eArCCC,uaCTVC,EAAqB,eAChCrB,KAAAA,cACAC,IAAAA,YACAJ,IAAAA,+LAMUQ,GAAQC,KAAkBC,KAAKF,oBAE5BE,KAAKH,YACLC,WACGA,EAAMI,aACXF,KAAKG,iDAKNC,EAAQJ,KAAKC,0BACZf,GACLkB,EAAME,MAAMhB,SAAWA,EACvBS,KAEEL,EAAYU,GAASlB,WAAUD,UAC7ByB,IAAK,kBAAOF,GAAKL,IAAMA,MAGzBC,EAAME,MAAMK,OACZlB,EAAcW,GAASlB,WAAUD,SACjCmB,EAAME,MAAMM,eAxBCC"}