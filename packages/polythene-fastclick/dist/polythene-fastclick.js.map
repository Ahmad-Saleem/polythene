{"version":3,"file":"polythene-fastclick.js","sources":["../src/index.js"],"sourcesContent":["import FastClick from \"fastclick\";\nimport { isTouch, subscribe } from \"polythene-core\";\n\nconst THROTTLE_DELAY = 100;\nconst REINIT_DELAY = THROTTLE_DELAY + 50;\nconst layer = document.body;\n\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst add = () => {\n  if (!enabled) {\n    fastClick = new FastClick(layer);\n    enabled = true;\n  }\n};\n\nconst remove = () => {\n  if (enabled) {\n    fastClick.destroy();\n    enabled = false;\n  }\n};\n\nconst handleScroll = () => {\n  remove();\n  if (timeoutId) {\n    window.clearTimeout(timeoutId);\n  }\n  timeoutId = window.setTimeout(add, REINIT_DELAY);\n};\n\nif (isTouch) {\n  subscribe(\"scroll\", handleScroll, THROTTLE_DELAY);\n  add();\n}"],"names":["THROTTLE_DELAY","REINIT_DELAY","layer","document","body","fastClick","timeoutId","enabled","add","FastClick","remove","destroy","handleScroll","clearTimeout","window","setTimeout","isTouch"],"mappings":"oSAGA,IAAMA,GAAiB,IACjBC,EAAeD,EAAiB,GAChCE,EAAQC,SAASC,KAEnBC,SACAC,SACAC,SAEEC,EAAM,WACLD,MACS,GAAIE,GAAUP,MAChB,IAIRQ,EAAS,WACTH,MACQI,aACA,IAIRC,EAAe,eAEfN,UACKO,aAAaP,KAEVQ,OAAOC,WAAWP,EAAKP,GAGjCe,yBACQ,SAAUJ,EAAcZ"}