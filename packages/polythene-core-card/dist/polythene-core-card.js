!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-theme"],t):t(e.polythene={},e["polythene-core"],e["polythene-theme"])}(this,function(e,t,r){"use strict";var a={component:"pe-card",actions:"pe-card__actions",content:"pe-card__content",header:"pe-card__header",headerTitle:"pe-card__header-title",media:"pe-card__media",mediaDimmer:"pe-card__media__dimmer",overlay:"pe-card__overlay",overlayContent:"pe-card__overlay__content",primary:"pe-card__primary",primaryMedia:"pe-card__primary-media",subtitle:"pe-card__subtitle",text:"pe-card__text",title:"pe-card__title",actionsBordered:"pe-card__actions--borders",actionsHorizontal:"pe-card__actions--horizontal",actionsJustified:"pe-card__actions--justified",actionsTight:"pe-card__actions--tight",actionsVertical:"pe-card__actions--vertical",mediaCropX:"pe-card__media--crop-x",mediaCropY:"pe-card__media--crop-y",mediaLarge:"pe-card__media--large",mediaMedium:"pe-card__media--medium",mediaRatioLandscape:"pe-card__media--landscape",mediaRatioSquare:"pe-card__media--square",mediaRegular:"pe-card__media--regular",mediaSmall:"pe-card__media--small",overlaySheet:"pe-card__overlay--sheet",primaryHasMedia:"pe-card__primary--media",primaryTight:"pe-card__primary--tight",textTight:"pe-card__text--tight"},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=function(e){var t=e.dispatcher,r=e.attrs,i=e.h,o=e.k,n=r.element||"div",l=r.content.map(t);return i("div",{key:r.key||"card-overlay",className:[a.overlay,r.sheet?a.overlaySheet:null,"light"===r.tone?null:"pe-dark-tone","light"===r.tone?"pe-light-tone":null].join(" ")},[i(n,{key:"content",className:[a.overlayContent,r.className||r[o.class]].join(" ")},l),i("div",{key:"dimmer",className:a.mediaDimmer})])},n=function(e){var t=e.attrs,r=e.h,i=e.k;return r(t.element||"div",{key:t.key||"card-text",className:[a.text,t.tight?a.textTight:null,t.className||t[i.class]].join(" ")},t.content)},l=function(e){var t=e.attrs,r=e.h,o=e.k,n=e.Icon;return r(e.ListTile,i({},t,{key:t.key||"card-header",className:[a.header,t.className||t[o.class]].join(" ")},t.icon?{front:r(n,t.icon)}:null))},d=function(e){return e.attrs.element||e.attrs.url?"a":"div"},c=function(e,r){var o=r.keys,n=e.attrs;return i({},t.filterSupportedAttributes(n),{className:[a.component,"dark"===n.tone?"pe-dark-tone":null,"light"===n.tone?"pe-light-tone":null,n.className||n[o.class]].join(" ")},n.url,n.events)},s=function(e,t){var r=t.renderer,d=t.keys,c=t.CardActions,s=t.CardMedia,_=t.CardPrimary,u=t.Icon,m=t.Shadow,p=t.ListTile,h=function e(t){var a=Object.keys(t)[0],m=i({},t[a],{dispatcher:e,key:a});switch(a){case"actions":return r(c,m);case"header":return l({dispatcher:e,attrs:m,h:r,k:d,Icon:u,ListTile:p});case"media":return r(s,m);case"overlay":return o({dispatcher:e,attrs:m,h:r,k:d});case"primary":return r(_,m);case"text":return n({dispatcher:e,attrs:m,h:r,k:d});default:throw'Content type "'+a+'" does not exist'}},g=e.attrs,y=Array.isArray(g.content)?g.content.map(h):g.content;return[r(m,{z:void 0!==g.z?g.z:1,animated:!0,key:"shadow"}),r("div",{className:a.content,key:"content"},y)]},_=Object.freeze({getElement:d,createProps:c,createContent:s}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m={horizontal:a.actionsHorizontal,vertical:a.actionsVertical,justified:a.actionsJustified},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal";return m[e]},h=function(e,r){var i=r.keys,o=e.attrs;return u({},t.filterSupportedAttributes(o),{key:"card-actions",className:[a.actions,p(o.layout),o.bordered?a.actionsBordered:null,o.tight?a.actionsTight:null,o.className||o[i.class]].join(" ")})},g=function(e){return e.attrs.content},y=Object.freeze({createProps:h,createContent:g}),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f={landscape:16/9,square:1},b={small:a.mediaSmall,regular:a.mediaRegular,medium:a.mediaMedium,large:a.mediaLarge},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return b[e]},x=function(e){var t=e.dom,r=e.img,i=e.ratio,o=e.origin;r.onload=function(){var e=this.naturalWidth/this.naturalHeight,n=e<f[i]?a.mediaCropX:a.mediaCropY;r.className=n;var l=t.clientWidth,d=t.clientHeight;if(e<f[i])if("center"===o){var c=(d-l/e)/2;this.style.marginTop=c+"px"}else"start"===o?(this.style.top=0,this.style.bottom="auto"):(this.style.top="auto",this.style.bottom=0);else if("center"===o){var s=(l-d*e)/2;this.style.marginLeft=s+"px"}else"start"===o?(this.style.left=0,this.style.right="auto"):(this.style.left="auto",this.style.right=0)}},j=function(e){if(e.dom){var t=e.attrs,r=t.ratio||"landscape",a=t.origin||"center",i=e.dom,o=i.querySelector("img");x({dom:i,img:o,ratio:r,origin:a})}},N=function(e,r){var i=r.keys,o=e.attrs,n=o.ratio||"landscape";return v({},t.filterSupportedAttributes(o),{key:"card-media",className:[a.media,k(o.size),"landscape"===n?a.mediaRatioLandscape:a.mediaRatioSquare,o.className||o[i.class]].join(" ")})},O=function(e,t){var r=t.renderer,i=e.attrs,o=i.dispatcher;return[v({},i.content,{key:"content"}),i.overlay?o({overlay:i.overlay,key:"overlay"}):r("div",{className:a.mediaDimmer,key:"dimmer"})]},C=Object.freeze({onMount:j,createProps:N,createContent:O}),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A=function(e){var r=e.attrs,i=Array.isArray(r.content)?r.content.reduce(function(e,t){return"media"===Object.keys(t)[0]||e},!1):r.media||!1;return z({},t.filterSupportedAttributes(r),{key:"card-primary",className:[a.primary,r.tight?a.primaryTight:null,i?a.primaryHasMedia:null].join(" ")})},S=function(e,t){var r=t.renderer,i=e.attrs,o=i.dispatcher,n={title:function(e){return e.attrs||e.props?e||e.props:r("div",{className:a.title,key:"title"},[e.title,e.subtitle?r("div",{className:a.subtitle,key:"subtitle"},e.subtitle):null])},media:function(e){return r("div",{className:a.primaryMedia,key:"media"},o({media:e}))},actions:function(e){return o({actions:e})}};return Array.isArray(i.content)?i.content.map(function(e){var t=Object.keys(e)[0],r=e[t];return n[t]?n[t](r):e}):[i.title?n.title({title:i.title,subtitle:i.subtitle,key:"title"}):null,i.media?n.media(i.media):null,i.actions?n.actions(i.actions):null,i.content]},P=Object.freeze({createProps:A,createContent:S}),T=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},w={image_size_small:80,image_size_regular:112,image_size_medium:160,image_size_large:240,border_radius:r.vars.unit_block_border_radius,padding_h:16,offset_small_padding_v:8,padding_actions_h:8,title_padding_h:16,title_padding_v:24,tight_title_padding_bottom:16,text_padding_h:16,text_padding_v:16,text_padding_bottom:24,tight_text_padding_bottom:16,subtitle_line_height_padding_bottom:7,text_line_height_padding_top:6,text_line_height_padding_bottom:7,one_line_height_with_icon:72,icon_element_width:68,one_line_padding_v:8,actions_padding_v:2,actions_button_margin_v:2,actions_vertical_padding_v:6,color_light_main_background:T(r.vars.color_light_background),color_light_title_text:T(r.vars.color_light_foreground,r.vars.blend_light_text_primary),color_light_subtitle_text:T(r.vars.color_light_foreground,r.vars.blend_light_text_secondary),color_light_text:T(r.vars.color_light_foreground,r.vars.blend_light_text_regular),color_light_actions_border:T(r.vars.color_light_foreground,r.vars.blend_light_border_light),color_light_overlay_background:T(r.vars.color_light_background,r.vars.blend_light_overlay_background),color_dark_main_background:T(r.vars.color_dark_background),color_dark_title_text:T(r.vars.color_dark_foreground,r.vars.blend_dark_text_primary),color_dark_subtitle_text:T(r.vars.color_dark_foreground,r.vars.blend_dark_text_secondary),color_dark_text:T(r.vars.color_dark_foreground,r.vars.blend_dark_text_regular),color_dark_actions_border:T(r.vars.color_dark_foreground,r.vars.blend_dark_border_light),color_dark_overlay_background:T(r.vars.color_dark_background,r.vars.blend_dark_overlay_background)};e.coreCard=_,e.coreCardActions=y,e.coreCardMedia=C,e.coreCardPrimary=P,e.classes=a,e.vars=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-card.js.map
