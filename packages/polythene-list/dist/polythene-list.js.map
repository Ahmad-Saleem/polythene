{"version":3,"file":"polythene-list.js","sources":["../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/list.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\n\nconst rgba = vars.rgba;\n\nexport default {\n  padding:                vars.grid_unit_component, // vertical padding\n  padding_compact:        vars.grid_unit_component / 2,\n  border_width_stacked:   1,\n  border_width_bordered:  1,\n\n  color_light_border:     rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_dark_border:      rgba(vars.color_dark_foreground,  vars.blend_dark_border_light),\n\n  color_light_background: \"inherit\",\n  color_dark_background:  \"inherit\"\n};\n\n","import { mixin } from \"polythene-css\";\n\nconst borderStyle = componentVars => (mixin.hairline(\"border-bottom\"), {\n  borderStyle: \"none none solid none\",\n  borderWidth: componentVars.border_width_bordered + \"px\"\n});\n\nexport default (selector, componentVars) => [{\n  [selector]: {\n    padding: componentVars.padding + \"px 0\",\n\n    \".pe-list--header\": {\n      paddingTop: 0\n    },\n\n    \".pe-list--compact\": {\n      padding: componentVars.padding_compact + \"px 0\",\n    },\n\n    \"& + &\": [\n      mixin.hairline(\"border-top\"), {\n        borderStyle: \"solid none none none\",\n        borderWidth: componentVars.border_width_stacked + \"px\"\n      }\n    ],\n\n    \".pe-list--borders\": {\n      \" .pe-list-tile:not(.pe-list__header)\": {\n        \":not(:last-child)\": {\n          \"&\": borderStyle(componentVars)\n        }\n      }\n    },\n\n    \".pe-list--indented-borders\": {\n      borderTop: \"none\",\n\n      \" .pe-list-tile:not(.pe-list__header)\": {\n        \":not(:last-child)\": {\n          \" .pe-list-tile__content:not(.pe-list-tile__content--front)\": borderStyle(componentVars)\n        }\n      }\n    }\n  }\n}];\n","const style = (scope, selector, componentVars, tint) => [{\n  [scope + selector]: {\n    backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n\n    \".pe-list--borders\": {\n      \" .pe-list-tile:not(.pe-list__header)\": {\n        \":not(:last-child)\": {\n          borderColor: componentVars[\"color_\" + tint + \"_border\"]\n        }\n      }\n    },\n\n    \".pe-list--indented-borders\": {\n      \" .pe-list-tile:not(.pe-list__header)\": {\n        \" .pe-list-tile__content:not(.pe-list-tile__content--front)\": {\n          borderColor: componentVars[\"color_\" + tint + \"_border\"]\n        }\n      }\n    }\n  },\n  \" .pe-list + .pe-list\": {\n    borderColor: componentVars[\"color_\" + tint + \"_border\"]\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style(\"\",                selector, componentVars, \"light\"),\n  style(\".pe-dark-theme \", selector, componentVars, \"dark\" ), // inside dark theme\n];\n","import { styler } from \"polythene-css\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = \".pe-list\";\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","import m from \"mithril\";\nimport listTile from \"polythene-list-tile\";\nimport { filterSupportedAttributes } from \"polythene-core\";\nimport { customTheme } from \"./theme\";\n\nexport const classes = {\n  component:       \"pe-list\",\n  header:          \"pe-list__header\",\n  borders:         \"pe-list--borders\",\n  indentedBorders: \"pe-list--indented-borders\",\n  hasHeader:       \"pe-list--header\",\n  compact:         \"pe-list--compact\",\n  hoverable:       \"pe-list--hoverable\",\n  selectable:      \"pe-list--selectable\"\n};\n\nconst view = vnode => {\n  const attrs = vnode.attrs;\n  const element = attrs.element || \"div\";\n  const props = Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      class: [\n        classes.component,\n        (attrs.borders ? classes.borders : null),\n        (attrs.indentedBorders ? classes.indentedBorders : null),\n        (attrs.hoverable ? classes.hoverable : null),\n        (attrs.selectable ? classes.selectable : null),\n        (attrs.header ? classes.hasHeader : null),\n        (attrs.compact ? classes.compact : null),\n        attrs.class\n      ].join(\" \"),\n    }\n  );\n  let headerOpts;\n  if (attrs.header) {\n    headerOpts = Object.assign({}, attrs.header);\n    headerOpts.class = [\n      classes.header,\n      headerOpts.class || null\n    ].join(\" \");\n  }\n  const content = [\n    headerOpts ? m(listTile, headerOpts) : null,\n    attrs.tiles\n      ? attrs.tiles\n      : attrs.content\n        ? attrs.content\n        : attrs.children || vnode.children\n  ];\n  return m(element, props, [attrs.before, content, attrs.after]);\n};\n\nexport default {\n  theme: customTheme, // accepts (selector, vars)\n  view\n};\n"],"names":["rgba","vars","grid_unit_component","color_light_foreground","blend_light_border_light","color_dark_foreground","blend_dark_border_light","borderStyle","mixin","hairline","componentVars","border_width_bordered","selector","padding","padding_compact","border_width_stacked","style","scope","tint","fns","layout","color","customTheme","customSelector","customVars","styler","generateStyles","classes","view","attrs","vnode","element","props","_extends","filterSupportedAttributes","component","borders","indentedBorders","hoverable","selectable","header","hasHeader","compact","class","join","headerOpts","content","m","listTile","tiles","children","before","after"],"mappings":"syBAEA,IAAMA,GAAOC,OAAKD,gBAGQC,OAAKC,oCACLD,OAAKC,oBAAsB,uBAC3B,wBACA,qBAEAF,EAAKC,OAAKE,uBAAwBF,OAAKG,4CACvCJ,EAAKC,OAAKI,sBAAwBJ,OAAKK,gDAEvC,gCACA,WCZpBC,EAAc,kBAAkBC,SAAMC,SAAS,8BACtC,mCACAC,EAAcC,sBAAwB,kBAGrCC,EAAUF,eACvBE,WACUF,EAAcG,QAAU,sCAGnB,gCAIHH,EAAcI,gBAAkB,iBAIzCN,QAAMC,SAAS,2BACA,mCACAC,EAAcK,qBAAuB,6FAO3CR,EAAYG,8CAMV,iIAIuDH,EAAYG,UCvC9EM,EAAQ,SAACC,EAAOL,EAAUF,EAAeQ,0BAC5CD,EAAQL,mBACUF,EAAc,SAAWQ,EAAO,6GAK9BR,EAAc,SAAWQ,EAAO,8JAQhCR,EAAc,SAAWQ,EAAO,oBAKrD,oCACeR,EAAc,SAAWQ,EAAO,6BAIjCN,EAAUF,UACxBM,EAAM,GAAmBJ,EAAUF,EAAe,SAClDM,EAAM,kBAAmBJ,EAAUF,EAAe,8KCtB9CS,GAAOC,EAAQC,GACfT,EAAW,WAEJU,EAAc,SAACC,EAAgBC,SAC1CC,UAAOC,gBAAgBH,EAAgBX,QAAeX,EAASuB,GAAaL,GAE9EM,UAAOC,gBAAgBd,GAAWX,EAAMkB,2KCN3BQ,aACM,iBACA,0BACA,mCACA,sCACA,0BACA,6BACA,gCACA,uBAGbC,EAAO,eACLC,GAAQC,EAAMD,MACdE,EAAUF,EAAME,SAAW,MAC3BC,EAAQC,KAEZC,4BAA0BL,WAGtBF,EAAQQ,UACPN,EAAMO,QAAUT,EAAQS,QAAU,KAClCP,EAAMQ,gBAAkBV,EAAQU,gBAAkB,KAClDR,EAAMS,UAAYX,EAAQW,UAAY,KACtCT,EAAMU,WAAaZ,EAAQY,WAAa,KACxCV,EAAMW,OAASb,EAAQc,UAAY,KACnCZ,EAAMa,QAAUf,EAAQe,QAAU,KACnCb,EAAMc,OACNC,KAAK,OAGPC,QACAhB,GAAMW,WACKP,KAAkBJ,EAAMW,UAC1BG,OACThB,EAAQa,OACRK,EAAWF,OAAS,MACpBC,KAAK,SAEHE,IACJD,EAAaE,EAAEC,EAAUH,GAAc,KACvChB,EAAMoB,MACFpB,EAAMoB,MACNpB,EAAMiB,QACJjB,EAAMiB,QACNjB,EAAMqB,UAAYpB,EAAMoB,gBAEzBH,GAAEhB,EAASC,GAAQH,EAAMsB,OAAQL,EAASjB,EAAMuB,kBAIhD9B"}