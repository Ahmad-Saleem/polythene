!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-utilities"),require("polythene-core-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-utilities","polythene-core-css","polythene-theme"],t):t(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-utilities"],e["polythene-core-css"],e["polythene-theme"])}(this,function(e,t,n,i,o){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={component:"pe-notification",action:"pe-notification__action",content:"pe-notification__content",holder:"pe-notification__holder",placeholder:"pe-notification__placeholder",title:"pe-notification__title",hasContainer:"pe-notification--container",horizontal:"pe-notification--horizontal",multilineTitle:"pe-notification__title--multiline",vertical:"pe-notification--vertical"},s=o.vars.rgba,d={width:274,min_height:80,border_radius:o.vars.unit_block_border_radius,title_padding_h:8,title_single_padding_v:14,title_multi_padding_v:20,side_padding:16,font_size:14,line_height:20,color_light_background:s(o.vars.color_light_background),color_light_text:s(o.vars.color_light_foreground,o.vars.blend_light_dark_primary),color_dark_background:s(o.vars.color_dark_background),color_dark_text:s(o.vars.color_dark_foreground,o.vars.blend_light_text_primary)},p=function(e,t){return[r({},e,[i.flex.layoutCenter,{width:t.width+"px",minHeight:t.min_height+"px",position:"relative",padding:"0 "+t.side_padding+"px",margin:"0 auto",borderRadius:t.border_radius+"px",pointerEvents:"all"," .pe-notification__content":{width:"100%"}," .pe-notification__title":{padding:t.title_single_padding_v+"px "+t.title_padding_h+"px",fontSize:t.font_size+"px",lineHeight:t.line_height+"px"}," .pe-notification__action":{" .pe-button":{margin:0}},"&.pe-notification--horizontal":{" .pe-notification__content":i.flex.layoutHorizontal," .pe-notification__title":i.flex.flex()," .pe-notification__title--multi-line":{paddingTop:t.title_multi_padding_v+"px",paddingBottom:t.title_multi_padding_v+"px"}," .pe-notification__action":i.flex.layoutCenter},"&.pe-notification--vertical":{" .pe-notification__content":i.flex.layoutVertical," .pe-notification__title":{paddingBottom:"4px"}," .pe-notification__title--multi-line":{paddingTop:t.title_multi_padding_v+"px"}," .pe-notification__action":i.flex.layoutEndJustified}}])]},f=function(e,t,n,i){return[l({},e.map(function(e){return e+t}).join(","),{color:n["color_"+i+"_text"],background:n["color_"+i+"_background"]})]},_=function(e,t){return[f([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),f(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},h=function(e){return[a({},e,[i.flex.layoutCenterCenter,{top:0,right:0,bottom:0,left:0,zIndex:o.vars.z_notification,pointerEvents:"none",".pe-multiple--screen":{position:"fixed"},".pe-multiple--container":{position:"absolute"}}])]},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m=[p,_],v="."+u.component,y=[h],b="."+u.holder,w=function(e,t){return i.styler.generateStyles([e,v],g({},d,t),m),i.styler.generateStyles([e,b],g({},d,t),y)};i.styler.generateStyles([v],d,m),i.styler.generateStyles([b],d,y);var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k=function(e){return e.attrs.element||"div"},S=w,j=function(e){e.paused(!0),e.timer&&e.timer.pause()},D=function(e){e.paused(!1),e.timer&&e.timer.resume()},E=function(e){e.timer&&e.timer.stop()},O=function(e,t){e.containerEl||(e.containerEl=document.querySelector(t.containerSelector||t.holder)),e.containerEl||console.error("No containerEl found"),t.containerSelector&&e.containerEl.querySelector(t.holder).classList.add(u.hasContainer)},C=function(e,n){if(e.transitioning())return Promise.resolve();e.transitioning(!0),E(e),O(e,n);var i=e.instanceId,o=n.transitions;return t.show(x({},n,o.show(e.containerEl,n))).then(function(){n.multipleDidShow&&n.multipleDidShow(i);var t=n.timeout;if(0===t);else{var o=void 0!==t?t:3;e.timer.start(function(){z(e,n)},o)}e.transitioning(!1),e.visible(!0)})},z=function(e,n){if(e.transitioning())return Promise.resolve();e.transitioning(!0),E(e);var i=e.instanceId,o=n.transitions;return t.hide(x({},n,o.hide(e.containerEl,n))).then(function(){n.multipleDidHide&&n.multipleDidHide(i),e.transitioning(!1),e.visible(!1)})},P=function(e){e.getBoundingClientRect().height>parseInt(window.getComputedStyle(e).lineHeight,10)+parseInt(window.getComputedStyle(e).paddingTop,10)+parseInt(window.getComputedStyle(e).paddingBottom,10)&&e.classList.add(u.multilineTitle)},I=function(e,t){var i,o=t(!1),r=t(!1),l=t(!1),a=t(!1);return i={cleanUp:void 0,containerEl:void 0,dismissEl:void 0,timer:void 0,el:void 0},c(i,"timer",new n.Timer),c(i,"paused",r),c(i,"transitioning",o),c(i,"visible",a),c(i,"mounted",l),c(i,"redrawOnUpdate",t.merge([a])),i},T=function(e){if(e.dom){var t=e.state,n=e.attrs;t.el=e.dom;var i=t.el.querySelector("."+u.title);i&&P(i),n.show&&!t.visible()&&C(t,n),t.mounted(!0)}},q=function(e){return e.state.mounted(!1)},N=function(e,n){var i=n.keys,o=e.attrs;return x({},t.filterSupportedAttributes(o),c({className:[u.component,"light"===o.tone?null:"pe-dark-tone","light"===o.tone?"pe-light-tone":null,o.containerSelector?u.hasContainer:null,"vertical"===o.layout?u.vertical:u.horizontal,"dark"===o.tone?"pe-dark-tone":null,"light"===o.tone?"pe-light-tone":null,o.className||o[i.class]].join(" ")},i.onclick,function(e){return e.preventDefault()}))},H=function(e,t){var n=t.renderer,i=e.state,o=e.attrs;return i.mounted()&&!i.transitioning()&&(o.hide&&i.visible()?setTimeout(function(){return z(i,o)}):o.show&&!i.visible()&&setTimeout(function(){return C(i,o)})),o.pause&&!i.paused()?j(i):o.unpause&&i.paused()&&D(i),n("div",{className:u.content,style:o.style},o.content||[o.title?n("div",{className:u.title},o.title):null,o.action?n("div",{className:u.action},o.action):null])},B=Object.freeze({getElement:k,theme:S,getInitialState:I,onMount:T,onUnMount:q,createProps:N,createContent:H}),M={show:function(e,t){return{el:e,showDuration:t.showDuration||.5,showDelay:t.showDelay||0,beforeShow:function(){return e.style.opacity=0},show:function(){return e.style.opacity=1}}},hide:function(e,t){return{el:e,hideDuration:t.hideDuration||.5,hideDelay:t.hideDelay||0,hide:function(){return e.style.opacity=0}}}};e.coreNotificationInstance=B,e.classes=u,e.vars=d,e.transitions=M,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-notification.js.map
