!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("polythene-core"),require("mithril"),require("polythene-css"),require("polythene-theme"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","mithril","polythene-css","polythene-theme","polythene-utilities"],e):e(t.polythene=t.polythene||{},t["polythene-core"],t.m,t["polythene-css"],t["polythene-theme"],t["polythene-utilities"])}(this,function(t,e,i,n,o,r){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i="default"in i?i.default:i;var c=o.vars.rgba,d={width:274,min_height:80,border_radius:o.vars.unit_block_border_radius,title_padding_h:8,title_single_padding_v:14,title_multi_padding_v:20,side_padding:16,font_size:14,line_height:20,color_light_background:c(o.vars.color_light_background,.85),color_light_text:c(o.vars.color_light_foreground,o.vars.blend_light_dark_primary),color_dark_background:c(o.vars.color_dark_background),color_dark_text:c(o.vars.color_dark_foreground,o.vars.blend_light_text_primary)},s=function(t,e){var i;return[(i={},a(i,t,[n.flex.layoutCenter,{width:e.width+"px",minHeight:e.min_height+"px",position:"relative",padding:"0 "+e.side_padding+"px",margin:"0 auto",borderRadius:e.border_radius+"px",pointerEvents:"all"," .pe-notification__content":{width:"100%"}," .pe-notification__title":{padding:e.title_single_padding_v+"px "+e.title_padding_h+"px",fontSize:e.font_size+"px",lineHeight:e.line_height+"px"}," .pe-notification__action":{" .pe-button":{margin:0}},"&.pe-notification--horizontal":{" .pe-notification__content":n.flex.layoutHorizontal," .pe-notification__title":n.flex.flex()," .pe-notification__title--multi-line":{paddingTop:e.title_multi_padding_v+"px",paddingBottom:e.title_multi_padding_v+"px"}," .pe-notification__action":n.flex.layoutCenter},"&.pe-notification--vertical":{" .pe-notification__content":n.flex.layoutVertical," .pe-notification__title":{paddingBottom:"4px"}," .pe-notification__title--multi-line":{paddingTop:e.title_multi_padding_v+"px"}," .pe-notification__action":n.flex.layoutEndJustified}}]),a(i,".pe-notification__holder",[n.flex.layoutCenterCenter,{top:0,right:0,bottom:0,left:0,zIndex:o.vars.z_notification,pointerEvents:"none",":not(.pe-notification--container)":{position:"fixed"},".pe-notification--container":{position:"absolute"}}]),i)]},u=function(t,e,i,n){return[l({},t+e,{color:i["color_"+n+"_text"],background:i["color_"+n+"_background"]})]},p=function(t,e){return[u("",t,e,"light"),u(".pe-dark-theme",t,e,"dark"),u(".pe-dark-theme ",t,e,"dark")]},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_=[s,p],h=function(t,e){return n.styler.generateStyles([t,".pe-notification"],f({},d,e),_)};n.styler.generateStyles([".pe-notification"],d,_);var g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},m={holder:"pe-notification__holder",content:"pe-notification__content",title:"pe-notification__title",multilineTitle:"pe-notification__title--multiline",action:"pe-notification__action",horizontal:"pe-notification--horizontal",vertical:"pe-notification--vertical",hasContainer:"pe-notification--container"},y=function(t){t.isPaused=!0,t.timer&&t.timer.pause()},v=function(t){t.isPaused=!1,t.timer&&t.timer.resume()},b=function(t){t.timer&&t.timer.stop()},w=function(t,e){if(t.containerEl=t.containerEl||document.querySelector(e.containerSelector||"."+m.holder),e.containerSelector){t.containerEl.querySelector("."+m.holder).classList.add(m.hasContainer)}},x=function(t,i){w(t,i),b(t),t.transitioning=!0;var n=i.transitions||t.transitions;return e.show(g({},i,n.show(t.containerEl,i))).then(function(){t.transitioning=!1,t.didShow&&t.didShow(t.instanceId);var e=i.timeout;if(0===e);else{var n=void 0!==e?e:3;t.timer=new r.Timer(function(){k(t,i)},n)}})},k=function(t,n){b(t);var o=t.instanceId;t.transitioning=!0;var r=n.transitions||t.transitions;return e.hide(g({},n,r.hide(t.containerEl,n))).then(function(){b(t),t.transitioning=!1,t.didHide&&t.didHide(o),i.redraw()})},S=function(t,n){var o=n.element||"div",r="light"!==n.theme;return i(o,g({},e.filterSupportedAttributes(n),{class:[t.class,n.class,r?"pe-dark-theme":null,n.containerSelector?m.hasContainer:null,"vertical"===n.layout?m.vertical:m.horizontal].join(" "),oncreate:function(e){var i=e.dom;t.el=i,x(t,n)},onclick:function(t){return t.preventDefault()}}),i("div",{class:m.content},n.content||[n.title?i("div",{class:m.title,oncreate:function(t){var e=t.dom;e.getBoundingClientRect().height>parseInt(window.getComputedStyle(e).lineHeight,10)+parseInt(window.getComputedStyle(e).paddingTop,10)+parseInt(window.getComputedStyle(e).paddingBottom,10)&&e.classList.add(m.multilineTitle)}},n.title):null,n.action?i("div",{class:m.action},[n.action]):null]))},C={theme:h,oninit:function(t){var e=t.attrs;t.state=g(t.state,e,{el:null,containerEl:null,dismissEl:null,transitioning:!1,timer:null,isPaused:!1})},view:function(t){var e=t.state,i=t.attrs,n="function"==typeof i.opts?i.opts():i.opts;return i.hide&&!e.transitioning&&k(e,n),i.pause&&!e.isPaused?y(e):i.unpause&&e.isPaused&&v(e),S(e,n)}},z=function(t,e){return{el:t,showDuration:e.showDuration||.5,showDelay:e.showDelay||0,beforeShow:function(){return t.style.opacity=0},show:function(){return t.style.opacity=1}}},E=function(t,e){return{el:t,hideDuration:e.hideDuration||.5,hideDelay:e.hideDelay||0,hide:function(){return t.style.opacity=0}}},P={show:z,hide:E},j=e.multiple({instance:C,class:"pe-notification",defaultId:"default_notification",element:".pe-notification__holder",placeholder:"span.pe-notification__placeholder",bodyShowClass:"pe-notification--open",queue:!0,transitions:P});t.default=j,t.classes=m,t.vars=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-notification.js.map
