"use strict";var path=require("path"),watch=require("transpile-watch");watch({persistent:!("once"===process.argv[2]),what:process.argv[3],ignore:process.argv[4]&&"null"!==process.argv[4]?process.argv[4]:null,extension:".es6",createOutPath:function(inPath){return inPath.replace(/.es6$/,".js")},transform:function(inPath,outPath){var dir=path.dirname(inPath)+"/",backPath=createBackPath(dir),re=new RegExp(dir),inFile=inPath.replace(re,""),outFile=outPath.replace(re,""),sourceMapFile=outFile+".map",command=["cd "+dir,backPath+"node_modules/babel-cli/bin/babel.js --presets es2015 --plugins add-module-exports "+inFile+" --out-file "+outFile+" --source-maps true",backPath+"node_modules/uglify-js/bin/uglifyjs --compress --output "+outFile+" --source-map "+sourceMapFile+" --in-source-map "+sourceMapFile,backPath+"node_modules/mithril-objectify/bin/cli.js "+outFile+" "+outFile].join(" && ");return command}});var createBackPath=function(dir){for(var depth=(dir.match(/\//g)||[]).length,s="";depth>0;)s+="../",depth--;return s};
//# sourceMappingURL=transpile.js.map