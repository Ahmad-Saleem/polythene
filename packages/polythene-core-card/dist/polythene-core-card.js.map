{"version":3,"file":"polythene-core-card.js","sources":["../../polythene-css-classes/card.js","../src/card.js","../../polythene-css-classes/button.js","../src/card-actions.js","../src/card-media.js","../src/card-primary.js","../src/vars.js"],"sourcesContent":["\nexport default {\n  component:           \"pe-card\",\n  \n  // elements\n  actions:             \"pe-card__actions\",\n  any:                 \"pe-card__any\",\n  content:             \"pe-card__content\",\n  header:              \"pe-card__header\",\n  headerTitle:         \"pe-card__header-title\",\n  media:               \"pe-card__media\",\n  mediaDimmer:         \"pe-card__media__dimmer\",\n  overlay:             \"pe-card__overlay\",\n  overlayContent:      \"pe-card__overlay__content\",\n  primary:             \"pe-card__primary\",\n  primaryMedia:        \"pe-card__primary-media\",\n  subtitle:            \"pe-card__subtitle\",\n  text:                \"pe-card__text\",\n  title:               \"pe-card__title\",\n\n  // states\n  actionsBorder:       \"pe-card__actions--border\",\n  actionsHorizontal:   \"pe-card__actions--horizontal\",\n  actionsJustified:    \"pe-card__actions--justified\",\n  actionsTight:        \"pe-card__actions--tight\",\n  actionsVertical:     \"pe-card__actions--vertical\",\n  mediaCropX:          \"pe-card__media--crop-x\",\n  mediaCropY:          \"pe-card__media--crop-y\",\n  mediaLarge:          \"pe-card__media--large\",\n  mediaMedium:         \"pe-card__media--medium\",\n  mediaRatioLandscape: \"pe-card__media--landscape\",\n  mediaRatioSquare:    \"pe-card__media--square\",\n  mediaRegular:        \"pe-card__media--regular\",\n  mediaSmall:          \"pe-card__media--small\",\n  overlaySheet:        \"pe-card__overlay--sheet\",\n  primaryHasMedia:     \"pe-card__primary--media\",\n  primaryTight:        \"pe-card__primary--tight\",\n  textTight:           \"pe-card__text--tight\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nconst createOverlay = ({ dispatcher, attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  const content = attrs.content.map(dispatcher);\n  return h(\"div\",\n    {\n      key: attrs.key || \"card-overlay\",\n      style: attrs.style,\n      className: [\n        classes.overlay,\n        attrs.sheet ? classes.overlaySheet : null,\n        attrs.tone === \"light\" ? null : \"pe-dark-tone\", // default dark tone\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n      ].join(\" \")\n    },\n    [\n      h(element, {\n        key: \"content\",\n        className: [\n          classes.overlayContent,\n          attrs.className || attrs[k.class]\n        ].join(\" \")\n      }, content),\n      h(\"div\",\n        {\n          key: \"dimmer\",\n          className: classes.mediaDimmer\n        }\n      )\n    ]\n  );\n};\n\nconst createAny = ({ attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  return h(element, Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: attrs.key || \"card-any\",\n      className: [\n        classes.any,\n        attrs.tight ? classes.textTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  ), attrs.content);\n};\n\nconst createText = ({ attrs, h, k }) => {\n  const element = attrs.element || \"div\";\n  return h(element, Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: attrs.key || \"card-text\",\n      className: [\n        classes.text,\n        attrs.tight ? classes.textTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  ), attrs.content);\n};\n\nconst createHeader = ({ attrs, h, k, Icon, ListTile }) => {\n  return h(ListTile, Object.assign(\n    {},\n    attrs,\n    {\n      key: attrs.key || \"card-header\",\n      className: [\n        classes.header,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    },\n    attrs.icon\n      ? { front: h(Icon, attrs.icon) }\n      : null\n  ));\n};\n\nexport const getElement = vnode =>\n  vnode.attrs.element || vnode.attrs.url\n    ? \"a\"\n    : \"div\";\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    },\n    attrs.url,\n    attrs.events\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, keys: k, CardActions, CardMedia, CardPrimary, Icon, Shadow, ListTile }) => {\n\n  const dispatcher = block => {\n    const key = Object.keys(block)[0];\n    const attrs = Object.assign(\n      {},\n      block[key],\n      {\n        dispatcher,\n        key\n      }\n    );\n    switch (key) {\n    case \"actions\": \n      return h(CardActions, attrs);\n    case \"header\": \n      return createHeader({ attrs, h, k, Icon, ListTile });\n    case \"media\": \n      return h(CardMedia, attrs);\n    case \"overlay\": \n      return createOverlay({ dispatcher, attrs, h, k });\n    case \"primary\": \n      return h(CardPrimary, attrs);\n    case \"text\": \n      return createText({ attrs, h, k });\n    case \"any\": \n      return createAny({ attrs, h, k });\n    default:\n      throw(`Content type \"${key}\" does not exist`);\n    }\n  };\n\n  const attrs = vnode.attrs;\n  const contents = Array.isArray(attrs.content)\n    ? attrs.content.map(dispatcher)\n    : attrs.content;\n\n  return [\n    h(Shadow, {\n      z: attrs.z !== undefined ? attrs.z : 1,\n      animated: true,\n      key: \"shadow\"\n    }),\n    h(\"div\",\n      {\n        className: classes.content,\n        key: \"content\"\n      },\n      contents\n    )\n  ];\n};\n","\nexport default {\n  base:       \"pe-button\",\n  component:  \"pe-button pe-text-button\",\n  row:        \"pe-button-row\",\n\n  // elements\n  content:    \"pe-button__content\",\n  focus:      \"pe-button__focus\",\n  label:      \"pe-button__label\",\n  wash:       \"pe-button__wash\",\n\n  // states\n  border:     \"pe-button--border\",\n  disabled:   \"pe-button--disabled\",\n  focused:    \"pe-button--focus\",\n  inactive:   \"pe-button--inactive\",\n  selected:   \"pe-button--selected\",\n};\n","import { filterSupportedAttributes, deprecation } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\nimport buttonClasses from \"polythene-css-classes/button\";\n\nconst actionLayoutClasses = {\n  horizontal: classes.actionsHorizontal,\n  vertical:   classes.actionsVertical,\n  justified:  classes.actionsJustified\n};\n\nexport const onMount = ({ attrs }) => {\n  if (attrs.bordered) {\n    deprecation(\"Card\", \"bordered\", \"border\");\n  }\n};\n\nconst actionClassForLayout = (layout = \"horizontal\") => actionLayoutClasses[layout];\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-actions\",\n      className: [\n        classes.actions,\n        attrs.layout !== \"vertical\" ? buttonClasses.row : null,\n        actionClassForLayout(attrs.layout),\n        (attrs.border || attrs.bordered) ? classes.actionsBorder : null,\n        attrs.tight ? classes.actionsTight : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = vnode =>\n  vnode.attrs.content || vnode.children;\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nconst imageRatios = {\n  landscape: 16 / 9,\n  square: 1\n};\n\nconst mediaSizeClasses = {\n  small:   classes.mediaSmall,\n  regular: classes.mediaRegular,\n  medium:  classes.mediaMedium,\n  large:   classes.mediaLarge\n};\n\nconst mediaSizeClass = (size = \"regular\") => mediaSizeClasses[size];\n\nconst initImage = ({ dom, img, ratio, origin }) => {\n  img.onload = function() {\n    const naturalRatio = this.naturalWidth / this.naturalHeight;\n    // crop-x: crop over x axis\n    // crop-y: crop over y axis\n    const cropClass = (naturalRatio < imageRatios[ratio]) ? classes.mediaCropX : classes.mediaCropY;\n    img.className = cropClass;\n\n    const containerWidth = dom.clientWidth;\n    const containerHeight = dom.clientHeight;\n\n    if (naturalRatio < imageRatios[ratio]) {\n      // orient on y axis\n      if (origin === \"center\") {\n        const imageHeight = containerWidth / naturalRatio;\n        const diff = containerHeight - imageHeight;\n        const offset = diff / 2;\n        this.style.marginTop = offset + \"px\";\n      } else if (origin === \"start\") {\n        this.style.top = 0;\n        this.style.bottom = \"auto\";\n      } else {\n        // end\n        this.style.top = \"auto\";\n        this.style.bottom = 0;\n      }\n    } else {\n      // orient on x axis\n      if (origin === \"center\") {\n        const imageWidth = containerHeight * naturalRatio;\n        const diff = containerWidth - imageWidth;\n        const offset = diff / 2;\n        this.style.marginLeft = offset + \"px\";\n      } else if (origin === \"start\") {\n        this.style.left = 0;\n        this.style.right = \"auto\";\n      } else {\n        // end\n        this.style.left = \"auto\";\n        this.style.right = 0;\n      }\n    }\n  };\n};\n\nexport const onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n  const attrs = vnode.attrs;\n  const ratio = attrs.ratio || \"landscape\";\n  const origin = attrs.origin || \"center\";\n  const dom = vnode.dom;\n  const img = dom.querySelector(\"img\");\n  initImage({ dom, img, ratio, origin });\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  const ratio = attrs.ratio || \"landscape\";\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-media\",\n      className: [\n        classes.media,\n        mediaSizeClass(attrs.size),\n        ratio === \"landscape\" ? classes.mediaRatioLandscape : classes.mediaRatioSquare,\n        attrs.className || attrs[k.class]\n      ].join(\" \")\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h }) => {\n  const attrs = vnode.attrs;\n  const dispatcher = attrs.dispatcher;\n  return [\n    Object.assign({}, attrs.content, { key: \"content\" }),\n    attrs.overlay\n      ? dispatcher({ overlay: attrs.overlay, key: \"overlay\" })\n      : h(\"div\",\n        {\n          className: classes.mediaDimmer,\n          key: \"dimmer\"\n        }\n      )\n  ];\n};\n\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/card\";\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  const primaryHasMedia = Array.isArray(attrs.content)\n    ? attrs.content.reduce((total, current) =>\n      Object.keys(current)[0] === \"media\"\n        ? true\n        : total, false)\n    : attrs.media || false;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      key: \"card-primary\",\n      className: [\n        classes.primary,\n        attrs.tight ? classes.primaryTight : null,\n        primaryHasMedia ? classes.primaryHasMedia : null,\n        attrs.className || attrs[k.class]\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h })  => {\n  const attrs = vnode.attrs;\n  const dispatcher = attrs.dispatcher;\n  const primaryDispatch = {\n    title: pAttrs => (\n      pAttrs.attrs || pAttrs.props\n        ? pAttrs || pAttrs.props\n        : h(\"div\",\n          {\n            className: classes.title,\n            key: \"title\",\n            style: pAttrs.style\n          },\n          [\n            pAttrs.title,\n            pAttrs.subtitle\n              ? h(\"div\",\n                { \n                  className: classes.subtitle,\n                  key: \"subtitle\"\n                },\n                pAttrs.subtitle\n              )\n              : null\n          ]\n        )\n    ),\n    media: pAttrs => {\n      return h(\"div\",\n        {\n          className: classes.primaryMedia,\n          key: \"media\",\n          style: pAttrs.style\n        },\n        dispatcher({ media: pAttrs })\n      );\n    },\n    actions: pAttrs => dispatcher({ actions: pAttrs }),\n  };\n\n  return Array.isArray(attrs.content)\n    ? attrs.content.map(block => {\n      const key = Object.keys(block)[0];\n      const pAttrs = block[key];\n      return primaryDispatch[key]\n        ? primaryDispatch[key](pAttrs)\n        : block;\n    })\n    : [\n      attrs.title\n        ? primaryDispatch.title({\n          title: attrs.title,\n          subtitle: attrs.subtitle,\n          key: \"title\"\n        })\n        : null,\n      attrs.media ? primaryDispatch.media(attrs.media) : null,\n      attrs.actions ? primaryDispatch.actions(attrs.actions) : null,\n      attrs.content\n    ];\n};\n","import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\nconst padding_v = 24;\nconst padding_actions_v = 8;\nconst actions_button_margin_v = 2;\n\nexport default {\n  image_size_small:                    1 * 80,\n  image_size_regular:                  1.4 * 80,\n  image_size_medium:                   2 * 80,\n  image_size_large:                    3 * 80,\n  border_radius:                       vars.unit_block_border_radius,\n  padding_h:                           16,\n  offset_small_padding_v:              padding_v - 16,\n  padding_actions_h:                   8,\n  title_padding_h:                     16,\n  title_padding_v:                     24,\n  tight_title_padding_bottom:          16,\n  text_padding_h:                      16,\n  text_padding_v:                      16,\n  text_padding_bottom:                 24,\n  tight_text_padding_bottom:           16,\n  subtitle_line_height_padding_bottom: 7,\n  text_line_height_padding_top:        6,\n  text_line_height_padding_bottom:     7,\n  one_line_height_with_icon:           72,\n  icon_element_width:                  72 - 4,\n  one_line_padding_v:                  8,\n  actions_padding_v:                   0,\n  actions_button_margin_v,    \n  actions_vertical_padding_v:          padding_actions_v - actions_button_margin_v,\n\n  color_light_main_background:         rgba(vars.color_light_background),\n  color_light_title_text:              rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_subtitle_text:           rgba(vars.color_light_foreground, vars.blend_light_text_secondary),\n  color_light_text:                    rgba(vars.color_light_foreground, vars.blend_light_text_regular),\n  color_light_actions_border:          rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_light_overlay_background:      rgba(vars.color_light_background, vars.blend_light_overlay_background),\n     \n  color_dark_main_background:          rgba(vars.color_dark_background),\n  color_dark_title_text:               rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_subtitle_text:            rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_text:                     rgba(vars.color_dark_foreground, vars.blend_dark_text_regular),\n  color_dark_actions_border:           rgba(vars.color_dark_foreground, vars.blend_dark_border_light),\n  color_dark_overlay_background:       rgba(vars.color_dark_background, vars.blend_dark_overlay_background)\n};\n"],"names":["component","actions","any","content","header","headerTitle","media","mediaDimmer","overlay","overlayContent","primary","primaryMedia","subtitle","text","title","actionsBorder","actionsHorizontal","actionsJustified","actionsTight","actionsVertical","mediaCropX","mediaCropY","mediaLarge","mediaMedium","mediaRatioLandscape","mediaRatioSquare","mediaRegular","mediaSmall","overlaySheet","primaryHasMedia","primaryTight","textTight","createOverlay","dispatcher","attrs","h","k","element","map","key","style","className","classes","sheet","tone","join","class","createAny","filterSupportedAttributes","tight","createText","createHeader","Icon","ListTile","icon","front","getElement","vnode","url","createProps","keys","events","createContent","renderer","CardActions","CardMedia","CardPrimary","Shadow","Object","block","contents","Array","isArray","z","undefined","animated","base","row","focus","label","wash","border","disabled","focused","inactive","selected","actionLayoutClasses","horizontal","vertical","justified","onMount","bordered","deprecation","actionClassForLayout","layout","_extends","buttonClasses","children","imageRatios","landscape","square","mediaSizeClasses","small","regular","medium","large","mediaSizeClass","size","initImage","dom","img","ratio","origin","onload","naturalRatio","naturalWidth","naturalHeight","cropClass","containerWidth","clientWidth","containerHeight","clientHeight","imageHeight","diff","offset","marginTop","top","bottom","imageWidth","marginLeft","left","right","querySelector","reduce","total","current","primaryDispatch","pAttrs","props","rgba","colorStr","opacity","padding_v","padding_actions_v","actions_button_margin_v","image_size_small","image_size_regular","image_size_medium","image_size_large","border_radius","vars","unit_block_border_radius","padding_h","offset_small_padding_v","padding_actions_h","title_padding_h","title_padding_v","tight_title_padding_bottom","text_padding_h","text_padding_v","text_padding_bottom","tight_text_padding_bottom","subtitle_line_height_padding_bottom","text_line_height_padding_top","text_line_height_padding_bottom","one_line_height_with_icon","icon_element_width","one_line_padding_v","actions_padding_v","actions_vertical_padding_v","color_light_main_background","color_light_background","color_light_title_text","color_light_foreground","blend_light_text_primary","color_light_subtitle_text","blend_light_text_secondary","color_light_text","blend_light_text_regular","color_light_actions_border","blend_light_border_light","color_light_overlay_background","blend_light_overlay_background","color_dark_main_background","color_dark_background","color_dark_title_text","color_dark_foreground","blend_dark_text_primary","color_dark_subtitle_text","blend_dark_text_secondary","color_dark_text","blend_dark_text_regular","color_dark_actions_border","blend_dark_border_light","color_dark_overlay_background","blend_dark_overlay_background"],"mappings":";;;;;;AACA,gBAAe;EACbA,aAAqB,SADR;;EAGb;EACAC,WAAqB,kBAJR;EAKbC,OAAqB,cALR;EAMbC,WAAqB,kBANR;EAObC,UAAqB,iBAPR;EAQbC,eAAqB,uBARR;EASbC,SAAqB,gBATR;EAUbC,eAAqB,wBAVR;EAWbC,WAAqB,kBAXR;EAYbC,kBAAqB,2BAZR;EAabC,WAAqB,kBAbR;EAcbC,gBAAqB,wBAdR;EAebC,YAAqB,mBAfR;EAgBbC,QAAqB,eAhBR;EAiBbC,SAAqB,gBAjBR;;EAmBb;EACAC,iBAAqB,0BApBR;EAqBbC,qBAAqB,8BArBR;EAsBbC,oBAAqB,6BAtBR;EAuBbC,gBAAqB,yBAvBR;EAwBbC,mBAAqB,4BAxBR;EAyBbC,cAAqB,wBAzBR;EA0BbC,cAAqB,wBA1BR;EA2BbC,cAAqB,uBA3BR;EA4BbC,eAAqB,wBA5BR;EA6BbC,uBAAqB,2BA7BR;EA8BbC,oBAAqB,wBA9BR;EA+BbC,gBAAqB,yBA/BR;EAgCbC,cAAqB,uBAhCR;EAiCbC,gBAAqB,yBAjCR;EAkCbC,mBAAqB,yBAlCR;EAmCbC,gBAAqB,yBAnCR;EAoCbC,aAAqB;EApCR,CAAf;;;;ECEA,IAAMC,gBAAgB,SAAhBA,aAAgB,OAAiC;EAAA,MAA9BC,UAA8B,QAA9BA,UAA8B;EAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;EAAA,MAAXC,CAAW,QAAXA,CAAW;EAAA,MAARC,CAAQ,QAARA,CAAQ;;EACrD,MAAMC,UAAUH,MAAMG,OAAN,IAAiB,KAAjC;EACA,MAAMlC,UAAU+B,MAAM/B,OAAN,CAAcmC,GAAd,CAAkBL,UAAlB,CAAhB;EACA,SAAOE,EAAE,KAAF,EACL;EACEI,SAAKL,MAAMK,GAAN,IAAa,cADpB;EAEEC,WAAON,MAAMM,KAFf;EAGEC,eAAW,CACTC,QAAQlC,OADC,EAET0B,MAAMS,KAAN,GAAcD,QAAQd,YAAtB,GAAqC,IAF5B,EAGTM,MAAMU,IAAN,KAAe,OAAf,GAAyB,IAAzB,GAAgC,cAHvB;EAITV,UAAMU,IAAN,KAAe,OAAf,GAAyB,eAAzB,GAA2C,IAJlC,EAKTC,IALS,CAKJ,GALI;EAHb,GADK,EAWL,CACEV,EAAEE,OAAF,EAAW;EACTE,SAAK,SADI;EAETE,eAAW,CACTC,QAAQjC,cADC,EAETyB,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAFV,EAGTD,IAHS,CAGJ,GAHI;EAFF,GAAX,EAMG1C,OANH,CADF,EAQEgC,EAAE,KAAF,EACE;EACEI,SAAK,QADP;EAEEE,eAAWC,QAAQnC;EAFrB,GADF,CARF,CAXK,CAAP;EA2BD,CA9BD;;EAgCA,IAAMwC,YAAY,SAAZA,SAAY,QAAqB;EAAA,MAAlBb,KAAkB,SAAlBA,KAAkB;EAAA,MAAXC,CAAW,SAAXA,CAAW;EAAA,MAARC,CAAQ,SAARA,CAAQ;;EACrC,MAAMC,UAAUH,MAAMG,OAAN,IAAiB,KAAjC;EACA,SAAOF,EAAEE,OAAF,EAAW,SAChB,EADgB,EAEhBW,wCAA0Bd,KAA1B,CAFgB,EAGhB;EACEK,SAAKL,MAAMK,GAAN,IAAa,UADpB;EAEEE,eAAW,CACTC,QAAQxC,GADC,EAETgC,MAAMe,KAAN,GAAcP,QAAQX,SAAtB,GAAkC,IAFzB,EAGTG,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAHV,EAITD,IAJS,CAIJ,GAJI;EAFb,GAHgB,CAAX,EAWJX,MAAM/B,OAXF,CAAP;EAYD,CAdD;;EAgBA,IAAM+C,aAAa,SAAbA,UAAa,QAAqB;EAAA,MAAlBhB,KAAkB,SAAlBA,KAAkB;EAAA,MAAXC,CAAW,SAAXA,CAAW;EAAA,MAARC,CAAQ,SAARA,CAAQ;;EACtC,MAAMC,UAAUH,MAAMG,OAAN,IAAiB,KAAjC;EACA,SAAOF,EAAEE,OAAF,EAAW,SAChB,EADgB,EAEhBW,wCAA0Bd,KAA1B,CAFgB,EAGhB;EACEK,SAAKL,MAAMK,GAAN,IAAa,WADpB;EAEEE,eAAW,CACTC,QAAQ7B,IADC,EAETqB,MAAMe,KAAN,GAAcP,QAAQX,SAAtB,GAAkC,IAFzB,EAGTG,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAHV,EAITD,IAJS,CAIJ,GAJI;EAFb,GAHgB,CAAX,EAWJX,MAAM/B,OAXF,CAAP;EAYD,CAdD;;EAgBA,IAAMgD,eAAe,SAAfA,YAAe,QAAqC;EAAA,MAAlCjB,KAAkC,SAAlCA,KAAkC;EAAA,MAA3BC,CAA2B,SAA3BA,CAA2B;EAAA,MAAxBC,CAAwB,SAAxBA,CAAwB;EAAA,MAArBgB,IAAqB,SAArBA,IAAqB;EAAA,MAAfC,QAAe,SAAfA,QAAe;;EACxD,SAAOlB,EAAEkB,QAAF,EAAY,SACjB,EADiB,EAEjBnB,KAFiB,EAGjB;EACEK,SAAKL,MAAMK,GAAN,IAAa,aADpB;EAEEE,eAAW,CACTC,QAAQtC,MADC,EAET8B,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAFV,EAGTD,IAHS,CAGJ,GAHI;EAFb,GAHiB,EAUjBX,MAAMoB,IAAN,GACI,EAAEC,OAAOpB,EAAEiB,IAAF,EAAQlB,MAAMoB,IAAd,CAAT,EADJ,GAEI,IAZa,CAAZ,CAAP;EAcD,CAfD;;AAiBA,EAAO,IAAME,aAAa,SAAbA,UAAa;EAAA,SACxBC,MAAMvB,KAAN,CAAYG,OAAZ,IAAuBoB,MAAMvB,KAAN,CAAYwB,GAAnC,GACI,GADJ,GAEI,KAHoB;EAAA,CAAnB;;AAKP,EAAO,IAAMC,cAAc,SAAdA,WAAc,CAACF,KAAD,SAAwB;EAAA,MAARrB,CAAQ,SAAdwB,IAAc;;EACjD,MAAM1B,QAAQuB,MAAMvB,KAApB;EACA,SAAO,SACL,EADK,EAELc,wCAA0Bd,KAA1B,CAFK,EAGL;EACEO,eAAW,CACTC,QAAQ1C,SADC,EAETkC,MAAMU,IAAN,KAAe,MAAf,GAAwB,cAAxB,GAAyC,IAFhC,EAGTV,MAAMU,IAAN,KAAe,OAAf,GAAyB,eAAzB,GAA2C,IAHlC,EAITV,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAJV,EAKTD,IALS,CAKJ,GALI;EADb,GAHK,EAWLX,MAAMwB,GAXD,EAYLxB,MAAM2B,MAZD,CAAP;EAcD,CAhBM;;AAkBP,EAAO,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACL,KAAD,SAAkG;EAAA,MAA9EtB,CAA8E,SAAxF4B,QAAwF;EAAA,MAArE3B,CAAqE,SAA3EwB,IAA2E;EAAA,MAAlEI,WAAkE,SAAlEA,WAAkE;EAAA,MAArDC,SAAqD,SAArDA,SAAqD;EAAA,MAA1CC,WAA0C,SAA1CA,WAA0C;EAAA,MAA7Bd,IAA6B,SAA7BA,IAA6B;EAAA,MAAvBe,MAAuB,SAAvBA,MAAuB;EAAA,MAAfd,QAAe,SAAfA,QAAe;;;EAE7H,MAAMpB,aAAa,SAAbA,UAAa,QAAS;EAC1B,QAAMM,MAAM6B,OAAOR,IAAP,CAAYS,KAAZ,EAAmB,CAAnB,CAAZ;EACA,QAAMnC,QAAQ,SACZ,EADY,EAEZmC,MAAM9B,GAAN,CAFY,EAGZ;EACEN,4BADF;EAEEM;EAFF,KAHY,CAAd;EAQA,YAAQA,GAAR;EACA,WAAK,SAAL;EACE,eAAOJ,EAAE6B,WAAF,EAAe9B,KAAf,CAAP;EACF,WAAK,QAAL;EACE,eAAOiB,aAAa,EAAEjB,YAAF,EAASC,IAAT,EAAYC,IAAZ,EAAegB,UAAf,EAAqBC,kBAArB,EAAb,CAAP;EACF,WAAK,OAAL;EACE,eAAOlB,EAAE8B,SAAF,EAAa/B,KAAb,CAAP;EACF,WAAK,SAAL;EACE,eAAOF,cAAc,EAAEC,sBAAF,EAAcC,YAAd,EAAqBC,IAArB,EAAwBC,IAAxB,EAAd,CAAP;EACF,WAAK,SAAL;EACE,eAAOD,EAAE+B,WAAF,EAAehC,KAAf,CAAP;EACF,WAAK,MAAL;EACE,eAAOgB,WAAW,EAAEhB,YAAF,EAASC,IAAT,EAAYC,IAAZ,EAAX,CAAP;EACF,WAAK,KAAL;EACE,eAAOW,UAAU,EAAEb,YAAF,EAASC,IAAT,EAAYC,IAAZ,EAAV,CAAP;EACF;EACE,kCAAuBG,GAAvB;EAhBF;EAkBD,GA5BD;;EA8BA,MAAML,QAAQuB,MAAMvB,KAApB;EACA,MAAMoC,WAAWC,MAAMC,OAAN,CAActC,MAAM/B,OAApB,IACb+B,MAAM/B,OAAN,CAAcmC,GAAd,CAAkBL,UAAlB,CADa,GAEbC,MAAM/B,OAFV;;EAIA,SAAO,CACLgC,EAAEgC,MAAF,EAAU;EACRM,OAAGvC,MAAMuC,CAAN,KAAYC,SAAZ,GAAwBxC,MAAMuC,CAA9B,GAAkC,CAD7B;EAERE,cAAU,IAFF;EAGRpC,SAAK;EAHG,GAAV,CADK,EAMLJ,EAAE,KAAF,EACE;EACEM,eAAWC,QAAQvC,OADrB;EAEEoC,SAAK;EAFP,GADF,EAKE+B,QALF,CANK,CAAP;EAcD,CAnDM;;;;;;;;AC1GP,sBAAe;EACbM,QAAY,WADC;EAEb5E,aAAY,0BAFC;EAGb6E,OAAY,eAHC;;EAKb;EACA1E,WAAY,oBANC;EAOb2E,SAAY,kBAPC;EAQbC,SAAY,kBARC;EASbC,QAAY,iBATC;;EAWb;EACAC,UAAY,mBAZC;EAabC,YAAY,qBAbC;EAcbC,WAAY,kBAdC;EAebC,YAAY,qBAfC;EAgBbC,YAAY;EAhBC,CAAf;;;;ECGA,IAAMC,sBAAsB;EAC1BC,cAAY7C,QAAQ1B,iBADM;EAE1BwE,YAAY9C,QAAQvB,eAFM;EAG1BsE,aAAY/C,QAAQzB;EAHM,CAA5B;;AAMA,EAAO,IAAMyE,UAAU,SAAVA,OAAU,OAAe;EAAA,MAAZxD,KAAY,QAAZA,KAAY;;EACpC,MAAIA,MAAMyD,QAAV,EAAoB;EAClBC,8BAAY,MAAZ,EAAoB,UAApB,EAAgC,QAAhC;EACD;EACF,CAJM;;EAMP,IAAMC,uBAAuB,SAAvBA,oBAAuB;EAAA,MAACC,MAAD,uEAAU,YAAV;EAAA,SAA2BR,oBAAoBQ,MAApB,CAA3B;EAAA,CAA7B;;AAEA,EAAO,IAAMnC,gBAAc,SAAdA,WAAc,CAACF,KAAD,SAAwB;EAAA,MAARrB,CAAQ,SAAdwB,IAAc;;EACjD,MAAM1B,QAAQuB,MAAMvB,KAApB;EACA,SAAO6D,WACL,EADK,EAEL/C,wCAA0Bd,KAA1B,CAFK,EAGL;EACEK,SAAK,cADP;EAEEE,eAAW,CACTC,QAAQzC,OADC,EAETiC,MAAM4D,MAAN,KAAiB,UAAjB,GAA8BE,cAAcnB,GAA5C,GAAkD,IAFzC,EAGTgB,qBAAqB3D,MAAM4D,MAA3B,CAHS,EAIR5D,MAAM+C,MAAN,IAAgB/C,MAAMyD,QAAvB,GAAmCjD,QAAQ3B,aAA3C,GAA2D,IAJlD,EAKTmB,MAAMe,KAAN,GAAcP,QAAQxB,YAAtB,GAAqC,IAL5B,EAMTgB,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CANV,EAOTD,IAPS,CAOJ,GAPI;EAFb,GAHK,CAAP;EAeD,CAjBM;;AAmBP,EAAO,IAAMiB,kBAAgB,SAAhBA,aAAgB;EAAA,SAC3BL,MAAMvB,KAAN,CAAY/B,OAAZ,IAAuBsD,MAAMwC,QADF;EAAA,CAAtB;;;;;;;;;;EClCP,IAAMC,cAAc;EAClBC,aAAW,KAAK,CADE;EAElBC,UAAQ;EAFU,CAApB;;EAKA,IAAMC,mBAAmB;EACvBC,SAAS5D,QAAQf,UADM;EAEvB4E,WAAS7D,QAAQhB,YAFM;EAGvB8E,UAAS9D,QAAQnB,WAHM;EAIvBkF,SAAS/D,QAAQpB;EAJM,CAAzB;;EAOA,IAAMoF,iBAAiB,SAAjBA,cAAiB;EAAA,MAACC,IAAD,uEAAQ,SAAR;EAAA,SAAsBN,iBAAiBM,IAAjB,CAAtB;EAAA,CAAvB;;EAEA,IAAMC,YAAY,SAAZA,SAAY,OAAiC;EAAA,MAA9BC,GAA8B,QAA9BA,GAA8B;EAAA,MAAzBC,GAAyB,QAAzBA,GAAyB;EAAA,MAApBC,KAAoB,QAApBA,KAAoB;EAAA,MAAbC,MAAa,QAAbA,MAAa;;EACjDF,MAAIG,MAAJ,GAAa,YAAW;EACtB,QAAMC,eAAe,KAAKC,YAAL,GAAoB,KAAKC,aAA9C;EACA;EACA;EACA,QAAMC,YAAaH,eAAehB,YAAYa,KAAZ,CAAhB,GAAsCrE,QAAQtB,UAA9C,GAA2DsB,QAAQrB,UAArF;EACAyF,QAAIrE,SAAJ,GAAgB4E,SAAhB;;EAEA,QAAMC,iBAAiBT,IAAIU,WAA3B;EACA,QAAMC,kBAAkBX,IAAIY,YAA5B;;EAEA,QAAIP,eAAehB,YAAYa,KAAZ,CAAnB,EAAuC;EACrC;EACA,UAAIC,WAAW,QAAf,EAAyB;EACvB,YAAMU,cAAcJ,iBAAiBJ,YAArC;EACA,YAAMS,OAAOH,kBAAkBE,WAA/B;EACA,YAAME,SAASD,OAAO,CAAtB;EACA,aAAKnF,KAAL,CAAWqF,SAAX,GAAuBD,SAAS,IAAhC;EACD,OALD,MAKO,IAAIZ,WAAW,OAAf,EAAwB;EAC7B,aAAKxE,KAAL,CAAWsF,GAAX,GAAiB,CAAjB;EACA,aAAKtF,KAAL,CAAWuF,MAAX,GAAoB,MAApB;EACD,OAHM,MAGA;EACL;EACA,aAAKvF,KAAL,CAAWsF,GAAX,GAAiB,MAAjB;EACA,aAAKtF,KAAL,CAAWuF,MAAX,GAAoB,CAApB;EACD;EACF,KAfD,MAeO;EACL;EACA,UAAIf,WAAW,QAAf,EAAyB;EACvB,YAAMgB,aAAaR,kBAAkBN,YAArC;EACA,YAAMS,QAAOL,iBAAiBU,UAA9B;EACA,YAAMJ,UAASD,QAAO,CAAtB;EACA,aAAKnF,KAAL,CAAWyF,UAAX,GAAwBL,UAAS,IAAjC;EACD,OALD,MAKO,IAAIZ,WAAW,OAAf,EAAwB;EAC7B,aAAKxE,KAAL,CAAW0F,IAAX,GAAkB,CAAlB;EACA,aAAK1F,KAAL,CAAW2F,KAAX,GAAmB,MAAnB;EACD,OAHM,MAGA;EACL;EACA,aAAK3F,KAAL,CAAW0F,IAAX,GAAkB,MAAlB;EACA,aAAK1F,KAAL,CAAW2F,KAAX,GAAmB,CAAnB;EACD;EACF;EACF,GAzCD;EA0CD,CA3CD;;AA6CA,EAAO,IAAMzC,YAAU,SAAVA,OAAU,QAAS;EAC9B,MAAI,CAACjC,MAAMoD,GAAX,EAAgB;EACd;EACD;EACD,MAAM3E,QAAQuB,MAAMvB,KAApB;EACA,MAAM6E,QAAQ7E,MAAM6E,KAAN,IAAe,WAA7B;EACA,MAAMC,SAAS9E,MAAM8E,MAAN,IAAgB,QAA/B;EACA,MAAMH,MAAMpD,MAAMoD,GAAlB;EACA,MAAMC,MAAMD,IAAIuB,aAAJ,CAAkB,KAAlB,CAAZ;EACAxB,YAAU,EAAEC,QAAF,EAAOC,QAAP,EAAYC,YAAZ,EAAmBC,cAAnB,EAAV;EACD,CAVM;;AAYP,EAAO,IAAMrD,gBAAc,SAAdA,WAAc,CAACF,KAAD,SAAwB;EAAA,MAARrB,CAAQ,SAAdwB,IAAc;;EACjD,MAAM1B,QAAQuB,MAAMvB,KAApB;EACA,MAAM6E,QAAQ7E,MAAM6E,KAAN,IAAe,WAA7B;EACA,SAAOhB,WACL,EADK,EAEL/C,wCAA0Bd,KAA1B,CAFK,EAGL;EACEK,SAAK,YADP;EAEEE,eAAW,CACTC,QAAQpC,KADC,EAEToG,eAAexE,MAAMyE,IAArB,CAFS,EAGTI,UAAU,WAAV,GAAwBrE,QAAQlB,mBAAhC,GAAsDkB,QAAQjB,gBAHrD,EAITS,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAJV,EAKTD,IALS,CAKJ,GALI;EAFb,GAHK,CAAP;EAaD,CAhBM;;AAkBP,EAAO,IAAMiB,kBAAgB,SAAhBA,aAAgB,CAACL,KAAD,SAA4B;EAAA,MAARtB,CAAQ,SAAlB4B,QAAkB;;EACvD,MAAM7B,QAAQuB,MAAMvB,KAApB;EACA,MAAMD,aAAaC,MAAMD,UAAzB;EACA,SAAO,CACL8D,WAAc,EAAd,EAAkB7D,MAAM/B,OAAxB,EAAiC,EAAEoC,KAAK,SAAP,EAAjC,CADK,EAELL,MAAM1B,OAAN,GACIyB,WAAW,EAAEzB,SAAS0B,MAAM1B,OAAjB,EAA0B+B,KAAK,SAA/B,EAAX,CADJ,GAEIJ,EAAE,KAAF,EACA;EACEM,eAAWC,QAAQnC,WADrB;EAEEgC,SAAK;EAFP,GADA,CAJC,CAAP;EAWD,CAdM;;;;;;;;;;ACzFP,EAAO,IAAMoB,gBAAc,SAAdA,WAAc,CAACF,KAAD,QAAwB;EAAA,MAARrB,CAAQ,QAAdwB,IAAc;;EACjD,MAAM1B,QAAQuB,MAAMvB,KAApB;EACA,MAAML,kBAAkB0C,MAAMC,OAAN,CAActC,MAAM/B,OAApB,IACpB+B,MAAM/B,OAAN,CAAckI,MAAd,CAAqB,UAACC,KAAD,EAAQC,OAAR;EAAA,WACrBnE,OAAOR,IAAP,CAAY2E,OAAZ,EAAqB,CAArB,MAA4B,OAA5B,GACI,IADJ,GAEID,KAHiB;EAAA,GAArB,EAGW,KAHX,CADoB,GAKpBpG,MAAM5B,KAAN,IAAe,KALnB;EAMA,SAAOyF,WACL,EADK,EAEL/C,wCAA0Bd,KAA1B,CAFK,EAGL;EACEK,SAAK,cADP;EAEEE,eAAW,CACTC,QAAQhC,OADC,EAETwB,MAAMe,KAAN,GAAcP,QAAQZ,YAAtB,GAAqC,IAF5B,EAGTD,kBAAkBa,QAAQb,eAA1B,GAA4C,IAHnC,EAITK,MAAMO,SAAN,IAAmBP,MAAME,EAAEU,KAAR,CAJV,EAKTD,IALS,CAKJ,GALI;EAFb,GAHK,CAAP;EAaD,CArBM;;AAuBP,EAAO,IAAMiB,kBAAgB,SAAhBA,aAAgB,CAACL,KAAD,SAA6B;EAAA,MAATtB,CAAS,SAAnB4B,QAAmB;;EACxD,MAAM7B,QAAQuB,MAAMvB,KAApB;EACA,MAAMD,aAAaC,MAAMD,UAAzB;EACA,MAAMuG,kBAAkB;EACtB1H,WAAO;EAAA,aACL2H,OAAOvG,KAAP,IAAgBuG,OAAOC,KAAvB,GACID,UAAUA,OAAOC,KADrB,GAEIvG,EAAE,KAAF,EACA;EACEM,mBAAWC,QAAQ5B,KADrB;EAEEyB,aAAK,OAFP;EAGEC,eAAOiG,OAAOjG;EAHhB,OADA,EAMA,CACEiG,OAAO3H,KADT,EAEE2H,OAAO7H,QAAP,GACIuB,EAAE,KAAF,EACA;EACEM,mBAAWC,QAAQ9B,QADrB;EAEE2B,aAAK;EAFP,OADA,EAKAkG,OAAO7H,QALP,CADJ,GAQI,IAVN,CANA,CAHC;EAAA,KADe;EAwBtBN,WAAO,uBAAU;EACf,aAAO6B,EAAE,KAAF,EACL;EACEM,mBAAWC,QAAQ/B,YADrB;EAEE4B,aAAK,OAFP;EAGEC,eAAOiG,OAAOjG;EAHhB,OADK,EAMLP,WAAW,EAAE3B,OAAOmI,MAAT,EAAX,CANK,CAAP;EAQD,KAjCqB;EAkCtBxI,aAAS;EAAA,aAAUgC,WAAW,EAAEhC,SAASwI,MAAX,EAAX,CAAV;EAAA;EAlCa,GAAxB;;EAqCA,SAAOlE,MAAMC,OAAN,CAActC,MAAM/B,OAApB,IACH+B,MAAM/B,OAAN,CAAcmC,GAAd,CAAkB,iBAAS;EAC3B,QAAMC,MAAM6B,OAAOR,IAAP,CAAYS,KAAZ,EAAmB,CAAnB,CAAZ;EACA,QAAMoE,SAASpE,MAAM9B,GAAN,CAAf;EACA,WAAOiG,gBAAgBjG,GAAhB,IACHiG,gBAAgBjG,GAAhB,EAAqBkG,MAArB,CADG,GAEHpE,KAFJ;EAGD,GANC,CADG,GAQH,CACAnC,MAAMpB,KAAN,GACI0H,gBAAgB1H,KAAhB,CAAsB;EACtBA,WAAOoB,MAAMpB,KADS;EAEtBF,cAAUsB,MAAMtB,QAFM;EAGtB2B,SAAK;EAHiB,GAAtB,CADJ,GAMI,IAPJ,EAQAL,MAAM5B,KAAN,GAAckI,gBAAgBlI,KAAhB,CAAsB4B,MAAM5B,KAA5B,CAAd,GAAmD,IARnD,EASA4B,MAAMjC,OAAN,GAAgBuI,gBAAgBvI,OAAhB,CAAwBiC,MAAMjC,OAA9B,CAAhB,GAAyD,IATzD,EAUAiC,MAAM/B,OAVN,CARJ;EAoBD,CA5DM;;;;;;;ECxBP,IAAMwI,OAAO,SAAPA,IAAO,CAACC,QAAD;EAAA,MAAWC,OAAX,uEAAqB,CAArB;EAAA,mBACHD,QADG,UACUC,OADV;EAAA,CAAb;;EAGA,IAAMC,YAAY,EAAlB;EACA,IAAMC,oBAAoB,CAA1B;EACA,IAAMC,0BAA0B,CAAhC;;AAEA,aAAe;EACbC,oBAAqC,IAAI,EAD5B;EAEbC,sBAAqC,MAAM,EAF9B;EAGbC,qBAAqC,IAAI,EAH5B;EAIbC,oBAAqC,IAAI,EAJ5B;EAKbC,iBAAqCC,oBAAKC,wBAL7B;EAMbC,aAAqC,EANxB;EAObC,0BAAqCX,YAAY,EAPpC;EAQbY,qBAAqC,CARxB;EASbC,mBAAqC,EATxB;EAUbC,mBAAqC,EAVxB;EAWbC,8BAAqC,EAXxB;EAYbC,kBAAqC,EAZxB;EAabC,kBAAqC,EAbxB;EAcbC,uBAAqC,EAdxB;EAebC,6BAAqC,EAfxB;EAgBbC,uCAAqC,CAhBxB;EAiBbC,gCAAqC,CAjBxB;EAkBbC,mCAAqC,CAlBxB;EAmBbC,6BAAqC,EAnBxB;EAoBbC,sBAAqC,KAAK,CApB7B;EAqBbC,sBAAqC,CArBxB;EAsBbC,qBAAqC,CAtBxB;EAuBbxB,kDAvBa;EAwBbyB,8BAAqC1B,oBAAoBC,uBAxB5C;;EA0Bb0B,+BAAqC/B,KAAKW,oBAAKqB,sBAAV,CA1BxB;EA2BbC,0BAAqCjC,KAAKW,oBAAKuB,sBAAV,EAAkCvB,oBAAKwB,wBAAvC,CA3BxB;EA4BbC,6BAAqCpC,KAAKW,oBAAKuB,sBAAV,EAAkCvB,oBAAK0B,0BAAvC,CA5BxB;EA6BbC,oBAAqCtC,KAAKW,oBAAKuB,sBAAV,EAAkCvB,oBAAK4B,wBAAvC,CA7BxB;EA8BbC,8BAAqCxC,KAAKW,oBAAKuB,sBAAV,EAAkCvB,oBAAK8B,wBAAvC,CA9BxB;EA+BbC,kCAAqC1C,KAAKW,oBAAKqB,sBAAV,EAAkCrB,oBAAKgC,8BAAvC,CA/BxB;;EAiCbC,8BAAqC5C,KAAKW,oBAAKkC,qBAAV,CAjCxB;EAkCbC,yBAAqC9C,KAAKW,oBAAKoC,qBAAV,EAAiCpC,oBAAKqC,uBAAtC,CAlCxB;EAmCbC,4BAAqCjD,KAAKW,oBAAKoC,qBAAV,EAAiCpC,oBAAKuC,yBAAtC,CAnCxB;EAoCbC,mBAAqCnD,KAAKW,oBAAKoC,qBAAV,EAAiCpC,oBAAKyC,uBAAtC,CApCxB;EAqCbC,6BAAqCrD,KAAKW,oBAAKoC,qBAAV,EAAiCpC,oBAAK2C,uBAAtC,CArCxB;EAsCbC,iCAAqCvD,KAAKW,oBAAKkC,qBAAV,EAAiClC,oBAAK6C,6BAAtC;EAtCxB,CAAf;;;;;;;;;;;;;;;;"}