"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _polytheneDialogDialog=require("polythene/dialog/dialog");var _polytheneDialogDialog2=_interopRequireDefault(_polytheneDialogDialog);var _polytheneButtonButton=require("polythene/button/button");var _polytheneButtonButton2=_interopRequireDefault(_polytheneButtonButton);var _polytheneIconButtonIconButton=require("polythene/icon-button/icon-button");var _polytheneIconButtonIconButton2=_interopRequireDefault(_polytheneIconButtonIconButton);var _polytheneHeaderPanelHeaderPanel=require("polythene/header-panel/header-panel");var _polytheneHeaderPanelHeaderPanel2=_interopRequireDefault(_polytheneHeaderPanelHeaderPanel);require("./dialog.css!");var repeatText=function repeatText(text,count){var out="";while(count>0){out+=text;count--}return out};var shortBodyText="Discard draft?";var template=['<div class="demo-content">',repeatText("<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",16),"</div>"].join("");var cancelOkButtons=[_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Cancel",events:{onclick:function onclick(){window.dialog.shouldHide=true}}}),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Discard"})];var titleBlock={view:function view(ctrl,args){return(0,_mithril2["default"])(".p-block",{"class":args["class"]},[(0,_mithril2["default"])(".p-block-header",args.title),(0,_mithril2["default"])("div",args.content)])}};var fullscreenToolbarRow=function fullscreenToolbarRow(title,opts){return[_mithril2["default"].component(_polytheneIconButtonIconButton2["default"],{icon:{svg:{group:"navigation",name:"close"}},events:{onclick:function onclick(){opts.confirmDialogShown(true)}}}),(0,_mithril2["default"])("span.flex",title),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Save",events:{onclick:function onclick(){alert("Settings saved. Of course this message should be a notification...");window.dialog.shouldHide=true;_mithril2["default"].redraw()}}})]};var fullscreenPanelBlock={view:function view(ctrl,opts){return _mithril2["default"].component(_polytheneHeaderPanelHeaderPanel2["default"],{"class":"dark-theme",fixed:true,header:{toolbar:{content:fullscreenToolbarRow("New event",opts)}},content:_mithril2["default"].trust(template)})}};var fullscreenPanelConfirmDialog={view:function view(ctrl,opts){return _mithril2["default"].component(_polytheneDialogDialog2["default"],{"class":"demo-dialog",footer:[_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Cancel",events:{onclick:function onclick(){opts.shouldHideConfirmDialog(true)}}}),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Discard",events:{onclick:function onclick(){window.dialog.shouldHide=true}}})],body:shortBodyText,modal:true,backdrop:true,shouldHide:function shouldHide(){return opts.shouldHideConfirmDialog()},didHide:function didHide(){opts.confirmDialogShown(false);opts.shouldHideConfirmDialog(false);_mithril2["default"].redraw()}})}};var isEmptyValue=true;var _module={};_module.view=function(){var commonDialogProps={"class":"demo-dialog",footer:cancelOkButtons,shouldHide:function shouldHide(){return window.dialog.shouldHide},didHide:function didHide(){window.dialog=null;isEmptyValue=true;_mithril2["default"].redraw()}};var shortDialog={view:function view(){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{body:shortBodyText}))}};var formDialog={view:function view(){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{title:"Select a file...",body:(0,_mithril2["default"])("input",{type:"file",id:"file",name:"file",onchange:function onchange(e){var fileInput=e.target;isEmptyValue=fileInput.value===undefined;_mithril2["default"].redraw()}}),formOptions:{name:"demo",type:"post",enctype:"multipart/form-data",onsubmit:function onsubmit(e){e.preventDefault();var form=e.target;alert("Posted: "+form.file.value);window.dialog.shouldHide=true;isEmptyValue=true;_mithril2["default"].redraw()}},footer:[_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Cancel",events:{onclick:function onclick(){window.dialog.shouldHide=true}}}),_mithril2["default"].component(_polytheneButtonButton2["default"],{disabled:isEmptyValue?true:false,label:"Post",tag:"button",type:"submit"})]}))}};var longDialog={view:function view(){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{title:"Long dialog with a very long title that surely won't fit here",body:_mithril2["default"].trust(template)}))}};var modalDialog={view:function view(){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{title:"Modal",body:_mithril2["default"].trust(template),modal:true,backdrop:true}))}};var darkDialog={view:function view(){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{"class":"demo-dialog dark-theme",title:"Modal dialog dark theme",body:_mithril2["default"].trust(template),modal:true,backdrop:true}))}};var fullscreenDialog={controller:function controller(){return{confirmDialogShown:_mithril2["default"].prop(false),shouldHideConfirmDialog:_mithril2["default"].prop(false)}},view:function view(ctrl){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},commonDialogProps,{"class":"demo-dialog",body:[ctrl.confirmDialogShown()?_mithril2["default"].component(fullscreenPanelConfirmDialog,{confirmDialogShown:ctrl.confirmDialogShown,shouldHideConfirmDialog:ctrl.shouldHideConfirmDialog}):null,_mithril2["default"].component(fullscreenPanelBlock,{confirmDialogShown:ctrl.confirmDialogShown})],fullscreen:true}))}};var exampleData=[{title:"Short dialog",dialog:shortDialog},{title:"Form dialog",dialog:formDialog,info:"Shows conditional button states."},{title:"Long dialog",dialog:longDialog,info:"Shows content borders with scrolled content."},{title:"Modal dialog with backdrop",dialog:modalDialog},{title:"Modal dialog dark theme",dialog:darkDialog},{title:"Fullscreen dialog",dialog:fullscreenDialog,info:"Example for mobile screen. Click the close button to see the second dialog."}];return(0,_mithril2["default"])(".module-dialog",exampleData.map(function(exampleData1){return _mithril2["default"].component(titleBlock,{title:exampleData1.title,content:[exampleData1.info?(0,_mithril2["default"])("p",exampleData1.info):null,_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Open",raised:true,events:{onclick:function onclick(){window.dialog=exampleData1.dialog}}})]})}))};exports["default"]=_module;module.exports=exports["default"];