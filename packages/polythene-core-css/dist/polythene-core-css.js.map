{"version":3,"file":"polythene-core-css.js","sources":["../src/mixin-flex.js","../src/mixin.js","../src/styler.js","../src/color.js"],"sourcesContent":["const layout = [\n  {\n    \"display\": \"-webkit-box\"\n  }, {\n    \"display\": \"-moz-box\"\n  }, {\n    \"display\": \"-ms-flexbox\",\n    \"-ms-flex-preferred-size\": \"initial\" // IE10\n  }, {\n    \"display\": \"-webkit-flex\"\n  }, {\n    \"display\": \"flex\"\n  }\n];\n\nconst layoutInline = [\n  layout, {\n    \"display\": \"-ms-inline-flexbox\"\n  }, {\n    \"display\": \"-webkit-inline-flex\"\n  }, {\n    \"display\": \"inline-flex\"\n  }\n];\n\nconst layoutHorizontal = [\n  layout, {\n    \"-ms-flex-direction\": \"row\",\n    \"-webkit-flex-direction\": \"row\",\n    \"flex-direction\": \"row\"\n  }\n];\n\nconst layoutHorizontalReverse = [\n  layout, {\n    \"-ms-flex-direction\": \"row-reverse\",\n    \"-webkit-flex-direction\": \"row-reverse\",\n    \"flex-direction\": \"row-reverse\"\n  }\n];\n\nconst layoutVertical = [\n  layout, {\n    \"-ms-flex-direction\": \"column\",\n    \"-webkit-flex-direction\": \"column\",\n    \"flex-direction\": \"column\"\n  }\n];\n\nconst layoutVerticalReverse = [\n  layout, {\n    \"-ms-flex-direction\": \"column-reverse\",\n    \"-webkit-flex-direction\": \"column-reverse\",\n    \"flex-direction\": \"column-reverse\"\n  }\n];\n\nconst layoutWrap = [\n  layout, {\n    \"-ms-flex-wrap\": \"wrap\",\n    \"-webkit-flex-wrap\": \"wrap\",\n    \"flex-wrap\": \"wrap\"\n  }\n];\n\nconst layoutWrapReverse = [\n  layout, {\n    \"-ms-flex-wrap\": \"wrap-reverse\",\n    \"-webkit-flex-wrap\": \"wrap-reverse\",\n    \"flex-wrap\": \"wrap-reverse\"\n  }\n];\n\nconst layoutStart = [\n  layout, {\n    \"-ms-flex-align\": \"start\",\n    \"-webkit-align-items\": \"flex-start\",\n    \"align-items\": \"flex-start\"\n  }\n];\n\nconst layoutCenter = [\n  layout, {\n    \"-ms-flex-align\": \"center\",\n    \"-webkit-align-items\": \"center\",\n    \"align-items\": \"center\"\n  }\n];\n\nconst layoutEnd = [\n  layout, {\n    \"-ms-flex-align\": \"end\",\n    \"-webkit-align-items\": \"flex-end\",\n    \"align-items\": \"flex-end\"\n  }\n];\n\nconst layoutJustified = [\n  layout, {\n    \"-ms-flex-line-pack\": \"stretch\", // IE10\n    \"-ms-flex-pack\": \"justify\",\n    \"-webkit-justify-content\": \"space-between\",\n    \"justify-content\": \"space-between\"\n  }\n];\n\nconst layoutStartJustified = [\n  layout, {\n    \"-ms-flex-align\": \"start\", // IE10\n    \"-ms-flex-pack\": \"start\",\n    \"-webkit-justify-content\": \"flex-start\",\n    \"justify-content\": \"flex-start\"\n  }\n];\n\nconst layoutCenterJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"center\",\n    \"-webkit-justify-content\": \"center\",\n    \"justify-content\": \"center\"\n  }\n];\n\nconst layoutEndJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"end\",\n    \"-webkit-justify-content\": \"flex-end\",\n    \"justify-content\": \"flex-end\"\n  }\n];\n\nconst layoutCenterCenter = [\n  layoutCenterJustified,\n  layoutCenter\n];\n\nconst layoutAroundJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"distribute\",\n    \"-webkit-justify-content\": \"space-around\",\n    \"justify-content\": \"space-around\"\n  }\n];\n\nconst flex = (num = 1) => (\n  [{\n    \"-webkit-box-flex\": num\n  }, {\n    \"-moz-box-flex\": num\n  }, {\n    \"-webkit-flex\": num\n  }, {\n    \"-ms-flex\": num\n  }, {\n    \"flex\": num\n  }, num === 1 ? {\n    \"-webkit-flex-basis\": \"0.000000001px\"\n  } : {}, num === 1 ? {\n    \"flex-basis\": \"0.000000001px\"\n  } : {}]\n);\n\nconst flexAuto = {\n  \"-ms-flex\": \"1 1 auto\",\n  \"-webkit-flex-basis\": \"auto\",\n  \"flex-basis\": \"auto\"\n};\n\nconst flexAutoVertical = {\n  \"-ms-flex\": \"1 1 auto\",\n  \"-webkit-flex-basis\": \"auto\",\n  \"flex-basis\": \"auto\"\n};\n\nconst flexIndex = index => ({\n  \"-ms-flex\": index,\n  \"-webkit-flex\": index,\n  \"flex\": index\n});\n\nconst flexGrow = value => ({\n  \"-webkit-flex-grow\": value,\n  \"flex-grow\": value\n});\n\nconst selfStart = {\n  \"-ms-flex-item-align\": \"start\", // IE10\n  \"-ms-align-self\": \"flex-start\",\n  \"-webkit-align-self\": \"flex-start\",\n  \"align-self\": \"flex-start\"\n};\n\nconst selfCenter = {\n  \"-ms-flex-item-align\": \"center\", // IE10\n  \"-ms-align-self\": \"center\",\n  \"-webkit-align-self\": \"center\",\n  \"align-self\": \"center\"\n};\n\nconst selfEnd = {\n  \"-ms-flex-item-align\": \"end\", // IE10\n  \"-ms-align-self\": \"flex-end\",\n  \"-webkit-align-self\": \"flex-end\",\n  \"align-self\": \"flex-end\"\n};\n\nconst selfStretch = {\n  \"-ms-flex-item-align\": \"stretch\", // IE10\n  \"-ms-align-self\": \"stretch\",\n  \"-webkit-align-self\": \"stretch\",\n  \"align-self\": \"stretch\"\n};\n\nexport default {\n  flex,\n  flexAuto,\n  flexAutoVertical,\n  flexIndex,\n  flexGrow,\n  layout,\n  layoutAroundJustified,\n  layoutCenter,\n  layoutCenterCenter,\n  layoutCenterJustified,\n  layoutEnd,\n  layoutEndJustified,\n  layoutHorizontal,\n  layoutHorizontalReverse,\n  layoutInline,\n  layoutJustified,\n  layoutStart,\n  layoutStartJustified,\n  layoutVertical,\n  layoutVerticalReverse,\n  layoutWrap,\n  layoutWrapReverse,\n  selfCenter,\n  selfEnd,\n  selfStart,\n  selfStretch\n};\n","// Mixins for j2c\n\n// Centers an item absolutely within relative parent\n// mixin.fit()\nconst fit = (offset = 0) => {\n  const offsetPx = offset + \"px\";\n  return {\n    position: \"absolute\",\n    top: offsetPx,\n    right: offsetPx,\n    bottom: offsetPx,\n    left: offsetPx\n  };\n};\n\n// Optional font smoothing\n// mixin.fontSmoothing()\nconst fontSmoothing = (smoothing = true) => {\n  if (smoothing) {\n    return {\n      \"-webkit-font-smoothing\": \"antialiased\",\n      \"-moz-osx-font-smoothing\": \"grayscale\"\n    };\n  } else {\n    return {\n      \"-webkit-font-smoothing\": \"subpixel-antialiased\",\n      \"-moz-osx-font-smoothing\": \"auto\"\n    };\n  }\n};\n\n// Breaks off a line with ...\n// unless lines is \"none\"\n// mixin.ellipsis(1, 16) // max 1 line, 16px high\n// mixin.ellipsis(2, 1.3, \"em\") // max 2 lines, 2.6em high\nconst ellipsis = (lines, lineHeight, unit = \"px\") => {\n  if (lines === \"none\") {\n    return {\n      textOverflow: \"initial\",\n      overflow: \"initial\",\n      display: \"block\",\n      height: \"auto\",\n      maxHeight: \"none\"\n    };\n  }\n  return Object.assign(\n    {},\n    {\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      textRendering: \"auto\" // Samsung Android\n    },\n    lines !== undefined\n      ? {\n        \"-webkit-line-clamp\": lines,\n        \"-webkit-box-orient\": \"vertical\",\n        display: \"-webkit-box\"\n      }\n      : null,\n    lineHeight !== undefined\n      ? {\n        maxHeight: (lines * lineHeight) + unit\n      }\n      : null\n  );\n};\n\n// Clears float\n// mixin.clearfix()\nconst clearfix = () => ({\n  \"&:after\": {\n    content: \"\\\"\\\"\",\n    display: \"table\",\n    clear: \"both\"\n  }\n});\n\n// Creates sticky headers in a scrollable list\n// Does not work in Chrome: http://caniuse.com/#feat=css-sticky\n// mixin.sticky()\nconst sticky = (zIndex = 1) => ({\n  position: \"sticky\",\n  top: 0,\n  zIndex: zIndex\n});\n\n// Creats a transition with presets\n// mixin.defaultTransition(\"opacity\", vars.animation_duration)\nconst defaultTransition = (properties = \"all\", duration = \".18s\", curve = \"ease-out\") => ({\n  transitionDelay: \"0ms\",\n  transitionDuration: duration,\n  transitionTimingFunction: curve,\n  transitionProperty: properties\n});\n\nexport default {\n  clearfix,\n  defaultTransition,\n  ellipsis,\n  fit,\n  fontSmoothing,\n  sticky,\n};\n\n","import { prefixPlugin } from \"j2c-plugin-prefix-browser\";\nimport { isServer } from \"polythene-core\";\nimport J2c from \"j2c\";\n\nconst j2c = new J2c(prefixPlugin);\nconst ID_REGEX = /[^a-z0-9\\\\-]/g;\n\n/*\n * @param id: identifier, used as HTMLElement id for the attached <style></style> element\n * @param styles: list of lists style Objects\n */\nconst add = (id, ...styles) => {\n  addToDocument({\n    id\n  }, ...styles);\n};\n\n/*\n * Removes a style from head.\n */\nconst remove = id => {\n  if (isServer) return;\n  if (id) {\n    const old = document.getElementById(id);\n    if (old && old.parentNode) {\n      old.parentNode.removeChild(old);\n    }\n  }\n};\n\n/*\n * opts: options object\n * id: identifier, used as HTMLElement id for the attached <style></style> element\n * document: document reference; default window.document\n * styles: list of lists style objects\n */\nconst addToDocument = (opts, ...styles) => {\n  if (isServer) return;\n  const id = opts.id.replace(ID_REGEX, \"_\");\n  const documentRef = opts.document || window.document;\n  remove(id);\n  const styleEl = documentRef.createElement(\"style\");\n  if (id) {\n    styleEl.setAttribute(\"id\", id);\n  }\n  styles.forEach((styleList) => {\n    // each style returns a list\n    if (Object.keys(styleList).length) {\n      styleList.forEach(style => {\n        const scoped = {\n          \"@global\": style\n        };\n        const sheet = j2c.sheet(scoped);\n        styleEl.appendChild(documentRef.createTextNode(sheet));\n      });\n    }\n  });\n  documentRef.head.appendChild(styleEl);\n};\n\n/*\n * Adds styles to head for a component.\n * @param selector: Array of Strings: selectors\n * @param vars: Object configuration variables\n * @param styleFns: Array of Functions: (selector, componentVars) => [j2c style objects]\n*/\nconst generateStyles = (selectors, vars, styleFns) => {\n  const selector = selectors.join(\"\");\n  const id = selector.trim().replace(/^[^a-z]?(.*)/, \"$1\");\n  add(id, styleFns.map(fn => fn(selector, vars)));\n};\n\nexport default {\n  add,\n  addToDocument,\n  remove,\n  generateStyles\n};\n","\nexport const hex = value => {\n  const bigint = parseInt(value.substring(1), 16);\n  const r = (bigint >> 16) & 255;\n  const g = (bigint >> 8) & 255;\n  const b = bigint & 255;\n  return r + \",\" + g + \",\" + b;\n};\n\nexport const rgba = (colorStr, opacity = 1) =>\n  \"rgba(\" + colorStr + \",\" + opacity + \")\";\n"],"names":["layout","layoutCenter","layoutCenterJustified","num","index","value","properties","lines","lineHeight","unit","_extends","undefined","offsetPx","j2c","J2c","prefixPlugin","ID_REGEX","add","id","styles","remove","isServer","old","document","getElementById","parentNode","removeChild","addToDocument","opts","replace","documentRef","window","styleEl","createElement","setAttribute","forEach","styleList","Object","keys","length","scoped","style","sheet","appendChild","createTextNode","head","selectors","vars","styleFns","selector","join","trim","map","fn","hex","bigint","parseInt","substring","rgba","colorStr"],"mappings":"waAAA,IAAMA,aAES,wBAEA,qBAEA,wCACgB,oBAEhB,yBAEA,SAsETC,GACJD,oBACoB,+BACK,uBACR,WA8BbE,GACJF,mBACmB,mCACU,2BACR,mBAyBV,cAACG,0DAAM,6BAEIA,oBAEHA,mBAEDA,eAEJA,SAEJA,GACC,IAARA,wBACqB,oBACR,IAARA,gBACQ,2CAKJ,gCACU,oBACR,qCAIF,gCACU,oBACR,kBAGE,8BACJC,iBACIA,OACRA,aAGO,uCACMC,cACRA,oCA7CbL,mBACmB,uCACU,iCACR,oDARrBE,EACAD,sCA3CAD,oBACoB,4BACK,yBACR,iCA+BjBA,mBACmB,gCACU,6BACR,+BArGrBA,wBACwB,+BACI,uBACR,iCAKpBA,wBACwB,uCACI,+BACR,8BArBpBA,WACa,+BAEA,gCAEA,iCA6EbA,wBACwB,0BACL,oCACU,kCACR,+BA5BrBA,oBACoB,8BACK,2BACR,qCA8BjBA,oBACoB,wBACD,kCACU,+BACR,+BArErBA,wBACwB,kCACI,0BACR,kCAKpBA,wBACwB,0CACI,kCACR,+BAKpBA,mBACmB,2BACI,mBACR,4BAKfA,mBACmB,mCACI,2BACR,mDA4HQ,0BACL,8BACI,sBACR,yCAIS,uBACL,gCACI,wBACR,6CAjBS,yBACL,kCACI,0BACR,iDAkBS,2BACL,+BACI,uBACR,4LC7IC,qCAEJ,aACA,cACF,4BAee,cAACM,0DAAa,6BACrB,gFADuC,uFAAgB,8BAIpDA,aAzDL,SAACC,EAAOC,MAAYC,0DAAO,WAC5B,SAAVF,gBAEc,mBACJ,kBACD,eACD,iBACG,QAGRG,eAGO,sBACI,yBACC,YAEPC,KAAVJ,wBAE0BA,uBACA,mBACb,eAET,SACWI,KAAfH,aAEgBD,EAAQC,EAAcC,GAElC,WA3DI,cACJG,2DADc,GACM,qBAEd,eACLA,QACEA,SACCA,OACFA,kBAMY,sGAGU,wCACC,uCAID,iDACC,gBAsDlB,2BACH,aACL,gEAFkB,KC5EnBC,EAAM,GAAIC,GAAIC,gBACdC,EAAW,gBAMXC,EAAM,SAACC,8BAAOC,kFAGZA,KAMFC,EAAS,gBACTC,YACAH,EAAI,IACAI,GAAMC,SAASC,eAAeN,EAChCI,IAAOA,EAAIG,cACTA,WAAWC,YAAYJ,KAW3BK,EAAgB,SAACC,8BAAST,uDAC1BE,eACEH,GAAKU,EAAKV,GAAGW,QAAQb,EAAU,KAC/Bc,EAAcF,EAAKL,UAAYQ,OAAOR,WACrCL,MACDc,GAAUF,EAAYG,cAAc,QACtCf,MACMgB,aAAa,KAAMhB,KAEtBiB,QAAQ,SAACC,GAEVC,OAAOC,KAAKF,GAAWG,UACfJ,QAAQ,eACVK,cACOC,GAEPC,EAAQ7B,EAAI6B,MAAMF,KAChBG,YAAYb,EAAYc,eAAeF,UAIzCG,KAAKF,YAAYX,sDASR,SAACc,EAAWC,EAAMC,MACjCC,GAAWH,EAAUI,KAAK,IAC1BhC,EAAK+B,EAASE,OAAOtB,QAAQ,eAAgB,QAC/CX,EAAI8B,EAASI,IAAI,kBAAMC,GAAGJ,EAAUF,QCpE7BO,EAAM,eACXC,GAASC,SAASnD,EAAMoD,UAAU,GAAI,WACjCF,GAAU,GAAM,KAGhB,KAFAA,GAAU,EAAK,KAEL,KADF,IAATA,IAICG,EAAO,SAACC,SACnB,QAAUA,EAAW,4DADkB,GACF"}