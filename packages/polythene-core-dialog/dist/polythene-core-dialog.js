!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("polythene-core"),require("polythene-core-menu"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-core-menu","polythene-theme"],n):n(e.polythene={},e["polythene-core"],e["polythene-core-menu"],e["polythene-theme"])}(this,function(e,n,t,o){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i={component:"pe-dialog",placeholder:"pe-dialog__placeholder",holder:"pe-dialog__holder",content:"pe-dialog__content",fullScreen:"pe-dialog--full-screen",backdrop:"pe-dialog--backdrop",open:"pe-dialog--open",menuContent:t.classes.content},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},l=function(e){return e.attrs.element||"div"},u=function(e,t){if(e.transitioning())return Promise.resolve();var o=e.instanceId;e.transitioning(!0);var r=t.transitions;return n.show(a({},t,r.show({el:e.el,showDuration:t.showDuration,showDelay:t.showDelay}))).then(function(){t.multipleDidShow&&t.multipleDidShow(o),e.transitioning(!1)})},c=function(e,t){if(e.transitioning())return Promise.resolve();var o=e.instanceId;e.transitioning(!0);var r=t.transitions;return n.hide(a({},t,r.hide({el:e.el,hideDuration:t.hideDuration,hideDelay:t.hideDelay}))).then(function(){t.multipleDidHide&&t.multipleDidHide(o),e.transitioning(!1)})},s=function(e,n){return{cleanUp:void 0,el:void 0,transitioning:n(!1)}},d=function(e){if(e.dom){var t=e.state,o=e.attrs;t.el=e.dom;var r=function(e){o.fullScreen||o.modal||"Escape"===e.key&&c(t,a({},o,{hideDelay:0}))};t.cleanUp=function(){return n.unsubscribe("keydown",r)},n.subscribe("keydown",r),o.showInstance&&u(t,o)}},h=function(e){return e.state.cleanUp()},p=function(e,t){var o=t.keys,l=e.state,u=e.attrs;return a({},n.filterSupportedAttributes(u,{remove:["style"]}),r({className:[i.component,u.fullScreen?i.fullScreen:null,u.backdrop?i.backdrop:null,"dark"===u.tone?"pe-dark-tone":null,"light"===u.tone?"pe-light-tone":null,u.className||u[o.class]].join(" ")},o.onclick,function(e){e.target===l.el&&(u.modal||c(l,a({},u,{hideDelay:0})))}),u.formOptions?u.formOptions:null)},f=function(e,n){var t=n.renderer,o=n.Shadow,r=n.DialogPane,a=e.state,l=e.attrs;l.hideInstance&&c(a,l);var u=l.panes&&l.panes.length?l.panes[0]:t(r,{title:l.title,header:l.header,body:l.content||l.body||l.menu,footer:l.footer,footerButtons:l.footerButtons,className:l.className,style:l.style});return t("div",{className:[i.content,l.menu?i.menuContent:null].join(" "),style:l.style},[l.fullScreen?null:t(o,{z:void 0!==l.z?l.z:3,animated:!0}),u])},g=Object.freeze({getElement:l,getInitialState:s,onMount:d,onUnMount:h,createProps:p,createContent:f}),_=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},y={border_radius:o.vars.unit_block_border_radius,padding_vertical:3*o.vars.grid_unit_component,padding_horizontal:5*o.vars.grid_unit_component,color_light_backdrop_background:"rgba(0, 0, 0, .4)",color_dark_backdrop_background:"rgba(0, 0, 0, .5)",color_light_background:_(o.vars.color_light_background),color_dark_background:_(o.vars.color_dark_background),color_light_text:_(o.vars.color_light_foreground,o.vars.blend_light_text_regular),color_dark_text:_(o.vars.color_dark_foreground,o.vars.blend_dark_text_regular)},m={show:function(e){var n=e.el,t=e.showDuration,o=e.showDelay;return{el:n,showDuration:t||.22,showDelay:o||0,beforeShow:function(){return n.style.opacity=0},show:function(){return n.style.opacity=1}}},hide:function(e){var n=e.el,t=e.hideDuration,o=e.hideDelay;return{el:n,hideDuration:t||.22,hideDelay:o||0,hide:function(){return n.style.opacity=0}}}};e.coreDialogInstance=g,e.classes=i,e.vars=y,e.transitions=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-dialog.js.map
