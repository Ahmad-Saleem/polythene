{"version":3,"file":"polythene-ios-spinner.js","sources":["../src/classes.js","../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/spinner.js"],"sourcesContent":["\nexport default {\n  component: \"pe-ios-spinner\",\n\n  // elements\n  blades:    \"pe-ios-spinner__blades\",\n  blade:     \"pe-ios-spinner__blade\",\n};\n","import { vars } from \"polythene-theme\";\nconst rgba = vars.rgba;\n\nexport default {\n  animation_duration: 1, // seconds\n\n  color_light: rgba(vars.color_light_foreground),\n  color_dark:  rgba(vars.color_dark_foreground)\n};\n","\nconst bladeWidth  = 8; // percent\nconst bladeHeight = 26; // percent\n\nconst kfFade = () => ({\n  \" 0%\": {\n    opacity: .640\n  },\n  \" 100%\": {\n    opacity: .035\n  }\n});\n\nconst positionBlades = componentVars => \n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(i => {\n    // reverse to improve performance on iOS\n    const delay = -(1 / 12 * i * componentVars.animation_duration);\n    const rotation = 360 - (360 / 12 * i);\n    return {\n      [\" .pe-ios-spinner__blade:nth-of-type(\" + (i + 1) + \")\"]: {\n        transform: \"rotate(\" + rotation + \"deg) translate3d(0,-140%,0)\",\n        animation: \"iosSpinnerFade \" + componentVars.animation_duration + \"s \" + delay + \"s linear infinite\"\n      }\n    };\n  });\n\nexport default (selector, componentVars) => [{\n  [selector]: {\n    \" .pe-ios-spinner__blades\": [\n      positionBlades(componentVars),\n      {\n        transform: \"translate3d(0,0,0)\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      }\n    ],\n\n    \" .pe-ios-spinner__blade\": {\n      position: \"absolute\",\n      width: bladeWidth + \"%\",\n      height: bladeHeight + \"%\",\n      left: ((100 - bladeWidth) / 2) + \"%\",\n      top: ((100 - bladeHeight) / 2) + \"%\",\n      opacity: 0,\n      borderRadius: \"50px\"\n    },\n\n    \"@keyframes iosSpinnerFade\": kfFade()\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint],\n\n    \" .pe-ios-spinner__blade\": {\n      background: \"currentcolor\"\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark theme\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-css\";\nimport classes from \"../classes\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","import m from \"mithril\";\nimport spinner from \"polythene-spinner\";\nimport { customTheme } from \"./theme\";\nimport classes from \"./classes\";\n\nconst view = ({ attrs }) => {\n  const blades = [];\n  for (let i = 0 ; i < 12; i = i + 1) {\n    blades.push(m(\"div\", {\n      class: classes.blade\n    }));\n  }\n  attrs.content = m(\"div\", {\n    class: classes.blades\n  }, blades);\n  attrs.instanceClass = classes.component;\n  return m(spinner, attrs);\n};\n\nexport default {\n  theme: customTheme, // accepts (selector, vars)\n  view\n};\n"],"names":["rgba","vars","color_light_foreground","color_dark_foreground","kfFade","positionBlades","map","delay","i","componentVars","animation_duration","selector","bladeWidth","bladeHeight","style","scopes","tint","s","join","fns","layout","color","classes","component","customTheme","customSelector","customVars","styler","generateStyles","view","attrs","blades","push","m","blade","content","instanceClass","spinner"],"mappings":"+tBACA,kBACa,wBAGA,+BACA,yBCLPA,EAAOC,OAAKD,2BAGI,cAEPA,EAAKC,OAAKC,mCACVF,EAAKC,OAAKE,wBCHnBC,EAAS,iCAEF,sBAGA,QAIPC,EAAiB,mBACpB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,IAAIC,IAAI,eAEnCC,KAAU,EAAI,GAAKC,EAAIC,EAAcC,gCAGxC,wCAA0CF,EAAI,GAAK,eACvC,WAHE,IAAO,GAAWA,GAGG,wCACvB,kBAAoBC,EAAcC,mBAAqB,KAAOH,EAAQ,oCAKzEI,EAAUF,eACvBE,+BAEGN,EAAeI,cAEF,8BACD,iBACH,cACC,6CAKA,iBACHG,YACCC,WACD,UACD,cACG,eACK,oCAGaT,QC/C3BU,EAAQ,SAACC,EAAQJ,EAAUF,EAAeO,eAC7CD,EAAOT,IAAI,kBAAKW,GAAIN,IAAUO,KAAK,YAC3BT,EAAc,SAAWO,yCAGlB,+BAKFL,EAAUF,UACxBK,GAAO,gBAAiB,kBAAmBH,EAAUF,EAAe,WAC7D,GAAI,iBAAkB,mBAAoBE,EAAUF,EAAe,+KCPtEU,GAAOC,EAAQC,GACfV,MAAeW,EAAQC,UAEhBC,EAAc,SAACC,EAAgBC,SAC1CC,UAAOC,gBAAgBH,EAAgBd,QAAeV,EAASyB,GAAaP,GAE9EQ,UAAOC,gBAAgBjB,GAAWV,EAAMkB,ECPxC,IAAMU,GAAO,gBAEN,GAFSC,KAAAA,MACRC,KACGvB,EAAI,EAAIA,EAAI,GAAIA,GAAQ,IACxBwB,KAAKC,EAAE,aACLX,EAAQY,kBAGbC,QAAUF,EAAE,aACTX,EAAQS,QACdA,KACGK,cAAgBd,EAAQC,UACvBU,EAAEI,EAASP,aAIXN"}