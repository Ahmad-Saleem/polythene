!function(o,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mithril"),require("polythene-button"),require("polythene-shadow"),require("polythene-core"),require("polythene-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","mithril","polythene-button","polythene-shadow","polythene-core","polythene-css","polythene-theme"],t):t(o.polythene=o.polythene||{},o.m,o["polythene-button"],o["polythene-shadow"],o["polythene-core"],o["polythene-css"],o["polythene-theme"])}(this,function(o,t,e,r,n,a,c){"use strict";t="default"in t?t.default:t;var d=c.vars.rgba,i={color_light_background:"#E0E0E0",color_light_text:d(c.vars.color_light_foreground,c.vars.blend_light_text_primary),color_light_hover_background:"transparent",color_light_focus_background:d(c.vars.color_light_foreground,c.vars.blend_light_background_hover),color_light_active_background:d(c.vars.color_light_foreground,c.vars.blend_light_background_hover),color_light_disabled_background:d(c.vars.color_light_foreground,c.vars.blend_light_background_disabled),color_light_disabled_text:d(c.vars.color_light_foreground,c.vars.blend_light_text_disabled),color_dark_background:d(c.vars.color_primary),color_dark_text:d(c.vars.color_dark_foreground,c.vars.blend_dark_text_primary),color_dark_hover_background:c.vars.color_primary_active,color_dark_focus_background:c.vars.color_primary_active,color_dark_active_background:c.vars.color_primary_dark,color_dark_disabled_background:d(c.vars.color_dark_foreground,c.vars.blend_dark_background_disabled),color_dark_disabled_text:d(c.vars.color_dark_foreground,c.vars.blend_dark_text_disabled)},l=function(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o},u=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},_=function(o,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=o["color_"+t+"_border"]||"transparent",n=o["color_"+t+"_active_border"]||r,a=o["color_"+t+"_disabled_border"]||r;return[l({},e+".pe-button",{"&, &:link, &:visited":{color:o["color_"+t+"_text"]}," .pe-button__content":{"background-color":o["color_"+t+"_background"],"border-color":r},"&.pe-button--disabled":{color:o["color_"+t+"_disabled_text"]," .pe-button__content":{"background-color":o["color_"+t+"_disabled_background"],"border-color":a}},"&.pe-button--selected":{" .pe-button__content":{"background-color":o["color_"+t+"_active_background"],"border-color":n}," .pe-button__focus":{opacity:1,"background-color":o["color_"+t+"_focus_background"]}},"&.pe-button--focus":{" .pe-button__focus":{opacity:1,"background-color":o["color_"+t+"_focus_background"]}}})]},s=function(o,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=o["color_"+t+"_border"],a=o["color_"+t+"_border"]||n;return[l({},r+".pe-button:hover",{"&:not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash":{"background-color":o["color_"+t+"_hover_background"],"border-color":a}})]},b=function(o){return[_(o,"light",".pe-button--raised"),{"html.pe-no-touch":[s(o,"light"," .pe-button--raised")]},{".pe-dark-theme":[_(o,"dark"," .pe-button--raised")]},{"html.pe-no-touch .pe-dark-theme":[s(o,"dark"," .pe-button--raised")]}]},p=function(o){return a.mixin.createStyles(o,b)},h="raised-button",v="pe-button--raised",g=function(o,t){return a.styler.styleComponent(o,t,h,i,p)},f=function(o,t){return g(o,a.styler.addComponentStyle(o,c.styles,h,t))};g(v,c.styles);var k={component:"pe-button pe-button--text pe-button--raised"},y=5,m=void 0,x=function(){},w=[];n.subscribe(n.touchEndEvent,function(){return x()});var E=function(o,e,r){var n=o.zBase,a=e.increase||1,c=o.z;"down"===r&&5!==n?c=Math.min(c+a,y):"up"===r&&(c=Math.max(c-a,n)),c!==o.z&&(o.z=c,t.redraw())},z=function(o,e){o.inactive=!0,t.redraw(),setTimeout(function(){o.inactive=!1,t.redraw()},1e3*e.inactivate)},O=function(o,t,e){var r=function(o,t,e){"down"===e?w.push({state:o,attrs:t}):"up"===e&&t.inactivate&&!o.inactive&&z(o,t);var r=t.animateOnTap!==!1;r&&!n.isTouch&&E(o,t,e)};m=function(){return r(t,e,"down")},x=function(){w.map(function(o){r(o.state,o.attrs,"up")}),w=[]},o.addEventListener(n.touchStartEvent,m)},j=function(o){o.removeEventListener(n.touchStartEvent,m)},q=function(o){var n=o.attrs,a=o.state,c=o.children.length&&o.children||n.children;return t(e.button,u({},{parentClass:[n.parentClass||k.component].join(" "),animateOnTap:!1,shadowComponent:t(r.shadow,{z:a.z,animated:!0}),children:c},n))},C={theme:f,oninit:function(o){var t=void 0!==o.attrs.z?o.attrs.z:1;o.state={el:void 0,zBase:t,z:t,tapEventsInited:!1}},oncreate:function(o){o.attrs.disabled||o.state.inactive||o.state.tapEventsInited||(o.state.el=o.dom,O(o.dom,o.state,o.attrs),o.state.tapEventsInited=!0)},onremove:function(o){o.state.tapEventsInited&&j(o.dom)},view:q};o.raisedButton=C,o.raisedButtonVars=i,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=raised-button.js.map
