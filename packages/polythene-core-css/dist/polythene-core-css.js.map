{"version":3,"file":"polythene-core-css.js","sources":["../src/mixin.js","../src/mixin-flex.js","../src/styler.js"],"sourcesContent":["// Mixins for j2c\n\nimport {\n    vars\n} from 'polythene-theme';\n\n// Centers an item absolutely within relative parent\n// mixin.fit()\nconst fit = (offset = 0) => {\n    const offsetPx = offset + 'px';\n    return {\n        position: 'absolute',\n        top: offsetPx,\n        right: offsetPx,\n        bottom: offsetPx,\n        left: offsetPx\n    };\n};\n\n// Optional font smoothing\n// mixin.fontSmoothing()\nconst fontSmoothing = (smoothing = true) => {\n    if (smoothing) {\n        return {\n            '-webkit-font-smoothing': 'antialiased',\n            '-moz-osx-font-smoothing': 'grayscale'\n        };\n    } else {\n        return {\n            '-webkit-font-smoothing': 'subpixel-antialiased',\n            '-moz-osx-font-smoothing': 'auto'\n        };\n    }\n};\n\n// Breaks off a line with ...\n// unless lines is 'none'\n// mixin.ellipsis(1, 16) // max 1 line, 16px high\n// mixin.ellipsis(2, 1.3, 'em') // max 2 lines, 2.6em high\nconst ellipsis = (lines, lineHeight, unit = 'px') => {\n    if (lines === 'none') {\n        return {\n            textOverflow: 'initial',\n            overflow: 'initial',\n            display: 'block',\n            height: 'auto',\n            maxHeight: 'none'\n        };\n    }\n    return Object.assign(\n        {},\n        {\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            textRendering: 'auto' // Samsung Android\n        },\n        lines !== undefined\n            ? {\n                '-webkit-line-clamp': lines,\n                '-webkit-box-orient': 'vertical',\n                display: '-webkit-box'\n            }\n            : null,\n        lineHeight !== undefined ? {\n            maxHeight: (lines * lineHeight) + unit\n        } :\n        null\n    );\n};\n\n// Clears float\n// mixin.clearfix()\nconst clearfix = () => ({\n    '&:after': {\n        content: '\\'\\'',\n        display: 'table',\n        clear: 'both'\n    }\n});\n\n// Creates sticky headers in a scrollable list\n// Does not work in Chrome: http://caniuse.com/#feat=css-sticky\n// mixin.sticky()\nconst sticky = (zIndex = 1) => ({\n    position: 'sticky',\n    top: 0,\n    zIndex: zIndex\n});\n\n// Creats a transition with presets\n// mixin.defaultTransition('opacity', vars.animation_duration)\nconst defaultTransition = (properties = 'all', duration = vars.animation_duration, curve = vars.animation_curve_default) => ({\n    transitionDelay: 0,\n    transitionDuration: duration,\n    transitionTimingFunction: curve,\n    transitionProperty: properties\n});\n\nexport default {\n    clearfix,\n    defaultTransition,\n    ellipsis,\n    fit,\n    fontSmoothing,\n    sticky,\n};","const layout = [{\n    'display': '-webkit-box'\n}, {\n    'display': '-moz-box'\n}, {\n    'display': '-ms-flexbox',\n    '-ms-flex-preferred-size': 'initial' // IE10\n}, {\n    'display': '-webkit-flex'\n}, {\n    'display': 'flex'\n}];\n\nconst layoutInline = [\n    layout, {\n        'display': '-ms-inline-flexbox'\n    }, {\n        'display': '-webkit-inline-flex'\n    }, {\n        'display': 'inline-flex'\n    }\n];\n\nconst layoutHorizontal = [\n    layout, {\n        '-ms-flex-direction': 'row',\n        '-webkit-flex-direction': 'row',\n        'flex-direction': 'row'\n    }\n];\n\nconst layoutHorizontalReverse = [\n    layout, {\n        '-ms-flex-direction': 'row-reverse',\n        '-webkit-flex-direction': 'row-reverse',\n        'flex-direction': 'row-reverse'\n    }\n];\n\nconst layoutVertical = [\n    layout, {\n        '-ms-flex-direction': 'column',\n        '-webkit-flex-direction': 'column',\n        'flex-direction': 'column'\n    }\n];\n\nconst layoutVerticalReverse = [\n    layout, {\n        '-ms-flex-direction': 'column-reverse',\n        '-webkit-flex-direction': 'column-reverse',\n        'flex-direction': 'column-reverse'\n    }\n];\n\nconst layoutWrap = [\n    layout, {\n        '-ms-flex-wrap': 'wrap',\n        '-webkit-flex-wrap': 'wrap',\n        'flex-wrap': 'wrap'\n    }\n];\n\nconst layoutWrapReverse = [\n    layout, {\n        '-ms-flex-wrap': 'wrap-reverse',\n        '-webkit-flex-wrap': 'wrap-reverse',\n        'flex-wrap': 'wrap-reverse'\n    }\n];\n\nconst layoutStart = [\n    layout, {\n        '-ms-flex-align': 'start',\n        '-webkit-align-items': 'flex-start',\n        'align-items': 'flex-start'\n    }\n];\n\nconst layoutCenter = [\n    layout, {\n        '-ms-flex-align': 'center',\n        '-webkit-align-items': 'center',\n        'align-items': 'center'\n    }\n];\n\nconst layoutEnd = [\n    layout, {\n        '-ms-flex-align': 'end',\n        '-webkit-align-items': 'flex-end',\n        'align-items': 'flex-end'\n    }\n];\n\nconst layoutJustified = [\n    layout, {\n        '-ms-flex-line-pack': 'stretch', // IE10\n        '-ms-flex-pack': 'justify',\n        '-webkit-justify-content': 'space-between',\n        'justify-content': 'space-between'\n    }\n];\n\nconst layoutStartJustified = [\n    layout, {\n        '-ms-flex-align': 'start', // IE10\n        '-ms-flex-pack': 'start',\n        '-webkit-justify-content': 'flex-start',\n        'justify-content': 'flex-start'\n    }\n];\n\nconst layoutCenterJustified = [\n    layout, {\n        '-ms-flex-pack': 'center',\n        '-webkit-justify-content': 'center',\n        'justify-content': 'center'\n    }\n];\n\nconst layoutEndJustified = [\n    layout, {\n        '-ms-flex-pack': 'end',\n        '-webkit-justify-content': 'flex-end',\n        'justify-content': 'flex-end'\n    }\n];\n\nconst layoutCenterCenter = [\n    layoutCenterJustified,\n    layoutCenter\n];\n\nconst layoutAroundJustified = [\n    layout, {\n        '-ms-flex-pack': 'distribute',\n        '-webkit-justify-content': 'space-around',\n        'justify-content': 'space-around'\n    }\n];\n\nconst flex = (num = 1) => (\n    [{\n        '-webkit-box-flex': num\n    }, {\n        '-moz-box-flex': num\n    }, {\n        '-webkit-flex': num\n    }, {\n        '-ms-flex': num\n    }, {\n        'flex': num\n    }, num === 1 ? {\n        '-webkit-flex-basis': '0.000000001px'\n    } : {}, num === 1 ? {\n        'flex-basis': '0.000000001px'\n    } : {}]\n);\n\nconst flexAuto = {\n    '-ms-flex': '1 1 auto',\n    '-webkit-flex-basis': 'auto',\n    'flex-basis': 'auto'\n};\n\nconst flexAutoVertical = {\n    '-ms-flex': '1 1 auto',\n    '-webkit-flex-basis': 'auto',\n    'flex-basis': 'auto'\n};\n\nconst flexIndex = index => ({\n    '-ms-flex': index,\n    '-webkit-flex': index,\n    'flex': index\n});\n\nconst flexGrow = value => ({\n    '-webkit-flex-grow': value,\n    'flex-grow': value\n});\n\nconst selfStart = {\n    '-ms-flex-item-align': 'start', // IE10\n    '-ms-align-self': 'flex-start',\n    '-webkit-align-self': 'flex-start',\n    'align-self': 'flex-start'\n};\n\nconst selfCenter = {\n    '-ms-flex-item-align': 'center', // IE10\n    '-ms-align-self': 'center',\n    '-webkit-align-self': 'center',\n    'align-self': 'center'\n};\n\nconst selfEnd = {\n    '-ms-flex-item-align': 'end', // IE10\n    '-ms-align-self': 'flex-end',\n    '-webkit-align-self': 'flex-end',\n    'align-self': 'flex-end'\n};\n\nconst selfStretch = {\n    '-ms-flex-item-align': 'stretch', // IE10\n    '-ms-align-self': 'stretch',\n    '-webkit-align-self': 'stretch',\n    'align-self': 'stretch'\n};\n\nexport default {\n    flex,\n    flexAuto,\n    flexAutoVertical,\n    flexIndex,\n    flexGrow,\n    layout,\n    layoutAroundJustified,\n    layoutCenter,\n    layoutCenterCenter,\n    layoutCenterJustified,\n    layoutEnd,\n    layoutEndJustified,\n    layoutHorizontal,\n    layoutHorizontalReverse,\n    layoutInline,\n    layoutJustified,\n    layoutStart,\n    layoutStartJustified,\n    layoutVertical,\n    layoutVerticalReverse,\n    layoutWrap,\n    layoutWrapReverse,\n    selfCenter,\n    selfEnd,\n    selfStart,\n    selfStretch\n};","import {\n    prefixPlugin\n} from 'j2c-plugin-prefix-browser';\nimport J2c from 'j2c';\n\nconst j2c = new J2c(prefixPlugin);\nconst ID_REGEX = /[^a-z0-9\\-]/g;\n\n/*\n * @param id: identifier, used as HTMLElement id for the attached <style></style> element\n * @param styles: list of lists style Objects\n */\nconst add = (id, ...styles) => {\n    addToDocument({\n        id\n    }, ...styles);\n};\n\n/*\n * Removes a style from head.\n */\nconst remove = id => {\n    if (id) {\n        const old = document.getElementById(id);\n        if (old && old.parentNode) {\n            old.parentNode.removeChild(old);\n        }\n    }\n};\n\n/*\n * opts: options object\n * id: identifier, used as HTMLElement id for the attached <style></style> element\n * document: document reference; default window.document\n * styles: list of lists style objects\n */\nconst addToDocument = (opts, ...styles) => {\n    const id = opts.id.replace(ID_REGEX, '_');\n    const documentRef = opts.document || window.document;\n    remove(id);\n    const styleEl = documentRef.createElement('style');\n    if (id) {\n        styleEl.setAttribute('id', id);\n    }\n    styles.forEach((styleList) => {\n        // each style returns a list\n        if (Object.keys(styleList).length) {\n            styleList.forEach(style => {\n                const scoped = {\n                    '@global': style\n                };\n                const sheet = j2c.sheet(scoped);\n                styleEl.appendChild(documentRef.createTextNode(sheet));\n            });\n        }\n    });\n    documentRef.head.appendChild(styleEl);\n};\n\n/*\n * Adds styles to head for a component.\n * @param selector: Array of Strings: selectors\n * @param vars: Object configuration variables\n * @param styleFns: Array of Functions: (selector, componentVars) => [j2c style objects]\n */\nconst generateStyles = (selectors, vars, styleFns) => {\n    const selector = selectors.join('');\n    const id = selector.trim().replace(/^[^a-z]?(.*)/, '$1');\n    add(id, styleFns.map(fn => fn(selector, vars)));\n};\n\nexport default {\n    add,\n    addToDocument,\n    remove,\n    generateStyles\n};"],"names":["properties","vars","animation_duration","animation_curve_default","lines","lineHeight","unit","_extends","undefined","offsetPx","layout","layoutCenter","layoutCenterJustified","num","index","value","j2c","J2c","prefixPlugin","ID_REGEX","add","id","styles","remove","old","document","getElementById","parentNode","removeChild","addToDocument","opts","replace","documentRef","window","styleEl","createElement","setAttribute","forEach","styleList","Object","keys","length","scoped","style","sheet","appendChild","createTextNode","head","selectors","styleFns","selector","join","trim","map","fn"],"mappings":"4lBAwEiB,qCAEA,aACA,cACF,4BAeW,eAACA,yDAAa,6BACnB,4EADqCC,OAAKC,mGAA4BD,OAAKE,2CAIxEH,aAxDP,SAACI,EAAOC,OAAYC,yDAAO,WAC1B,SAAVF,gBAEkB,mBACJ,kBACD,eACD,iBACG,QAGZG,eAGW,sBACI,yBACC,aAETC,IAAVJ,wBAE8BA,uBACA,mBACb,eAEX,UACSI,IAAfH,aACgBD,EAAQC,EAAcC,GAEtC,WA1DI,eACFG,0DADY,GACQ,qBAEZ,eACLA,QACEA,SACCA,OACFA,kBAMQ,sGAGgB,wCACC,uCAID,iDACC,gBAqDxB,2BACD,aACL,gEAFgB,KCnFnBC,YACS,wBAEA,qBAEA,wCACgB,oBAEhB,yBAEA,SAqETC,GACFD,oBACsB,+BACK,uBACR,WA8BjBE,GACFF,mBACqB,mCACU,2BACR,mBAyBd,eAACG,yDAAM,6BAEQA,oBAEHA,mBAEDA,eAEJA,SAEJA,GACD,IAARA,wBACuB,oBACV,IAARA,gBACU,2CAKN,gCACU,oBACR,qCAIF,gCACU,oBACR,kBAGA,8BACFC,iBACIA,OACRA,aAGK,uCACQC,cACRA,oCA7CbL,mBACqB,uCACU,iCACR,oDARvBE,EACAD,sCA3CAD,oBACsB,4BACK,yBACR,iCA+BnBA,mBACqB,gCACU,6BACR,+BArGvBA,wBAC0B,+BACI,uBACR,iCAKtBA,wBAC0B,uCACI,+BACR,8BArBtBA,WACe,+BAEA,gCAEA,iCA6EfA,wBAC0B,0BACL,oCACU,kCACR,+BA5BvBA,oBACsB,8BACK,2BACR,qCA8BnBA,oBACsB,wBACD,kCACU,+BACR,+BArEvBA,wBAC0B,kCACI,0BACR,kCAKtBA,wBAC0B,0CACI,kCACR,+BAKtBA,mBACqB,2BACI,mBACR,4BAKjBA,mBACqB,mCACI,2BACR,mDA4HM,0BACL,8BACI,sBACR,yCAIS,uBACL,gCACI,wBACR,6CAjBS,yBACL,kCACI,0BACR,iDAkBS,2BACL,+BACI,uBACR,YC3MZM,EAAM,IAAIC,EAAIC,gBACdC,EAAW,eAMXC,EAAM,SAACC,8BAAOC,kFAGVA,KAMJC,EAAS,eACPF,EAAI,KACEG,EAAMC,SAASC,eAAeL,GAChCG,GAAOA,EAAIG,cACPA,WAAWC,YAAYJ,KAWjCK,EAAgB,SAACC,8BAASR,uDACtBD,EAAKS,EAAKT,GAAGU,QAAQZ,EAAU,KAC/Ba,EAAcF,EAAKL,UAAYQ,OAAOR,WACrCJ,OACDa,EAAUF,EAAYG,cAAc,SACtCd,KACQe,aAAa,KAAMf,KAExBgB,QAAQ,SAACC,GAERC,OAAOC,KAAKF,GAAWG,UACbJ,QAAQ,gBACRK,aACSC,GAETC,EAAQ5B,EAAI4B,MAAMF,KAChBG,YAAYb,EAAYc,eAAeF,UAI/CG,KAAKF,YAAYX,qDASV,SAACc,EAAW/C,EAAMgD,OAC/BC,EAAWF,EAAUG,KAAK,IAC1B9B,EAAK6B,EAASE,OAAOrB,QAAQ,eAAgB,QAC/CV,EAAI4B,EAASI,IAAI,mBAAMC,EAAGJ,EAAUjD"}