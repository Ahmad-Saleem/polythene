{"version":3,"file":"polythene-core-drawer.js","sources":["../../polythene-css-classes/drawer.js","../src/transitions-cover.js","../src/transitions-push.js","../src/backdrop-transitions.js","../src/drawer.js","../src/vars.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-drawer\",\n\n  // states\n  push:            \"pe-drawer--push\",\n  permanent:       \"pe-drawer--permanent\",\n  bordered:        \"pe-drawer--bordered\",\n};\n","import { isRTL } from \"polythene-core\";\n\nconst SHADOW_WIDTH = 10;\n\nconst show = ({ contentEl, showDuration, showDelay }) => {\n  const rtl = isRTL({ element: contentEl });\n  const side = rtl ? \"right\" : \"left\";\n\n  return {\n    el: contentEl,\n    showDuration,\n    showDelay:          showDelay || 0,\n    showTimingFunction: \"ease-out\",\n    beforeShow:         () => {\n      const rect = contentEl.getBoundingClientRect();\n      const width = rect.width + SHADOW_WIDTH;\n      contentEl.style.top = 0;\n      contentEl.style[side] = `-${width}px`;\n    },\n    show:                () => {\n      contentEl.style[side] = 0;\n    }\n  };\n};\n\nconst hide = ({ contentEl, hideDuration, hideDelay }) => {\n  const rtl = isRTL({ element: contentEl });\n  const side = rtl ? \"right\" : \"left\";\n\n  return {\n    el: contentEl,\n    hideDuration,\n    hideDelay:          hideDelay || 0,\n    hideTimingFunction: \"ease-out\",\n    hide:               () => {\n      const rect = contentEl.getBoundingClientRect();\n      const width = rect.width + SHADOW_WIDTH;\n      contentEl.style[side] = `-${width}px`;\n    },\n  };\n};\n\nexport default {\n  show,\n  hide,\n  name: \"over-from-left\"\n};\n","import { isRTL } from \"polythene-core\";\n\nconst show = ({ el, showDuration, showDelay }) => {\n  const rtl = isRTL({ element: el });\n  const side = rtl ? \"marginRight\" : \"marginLeft\";\n\n  return {\n    el,\n    showDuration,\n    showDelay:          showDelay || 0,\n    showTimingFunction: \"ease-out\",\n    beforeShow:         () => {\n      const rect = el.getBoundingClientRect();\n      const width = rect.width;\n      el.style[side] = `-${width}px`;\n    },\n    show:               () => {\n      el.style[side] = 0;\n    }\n  };\n};\n\nconst hide = ({ el, hideDuration, hideDelay }) => {\n  const rtl = isRTL({ element: el });\n  const side = rtl ? \"marginRight\" : \"marginLeft\";\n\n  return {\n    el,\n    hideDuration,\n    hideDelay:          hideDelay || 0,\n    hideTimingFunction: \"ease-out\",\n    hide:               () => {\n      const rect = el.getBoundingClientRect();\n      const width = rect.width;\n      el.style[side] = `-${width}px`;\n    },\n  };\n};\n\nexport default {\n  show,\n  hide,\n  name: \"push-from-left\"\n};\n","const SHOW_DELAY         = .050; // add a little time so to start after the sliding\nconst ANIMATION_DURATION = .320; // longer than slide transition\n\nconst show = ({ el, showDuration, showDelay }) => ({\n  el,\n  showDuration:       showDuration || ANIMATION_DURATION,\n  showDelay:          showDelay || SHOW_DELAY,\n  showTimingFunction: \"ease-out\",\n  beforeShow:         () => el.style.opacity = 0,\n  show:               () => el.style.opacity = 1,\n});\n\nconst hide = ({ el, hideDuration, hideDelay }) => ({\n  el,\n  hideDuration:       hideDuration || ANIMATION_DURATION,\n  hideDelay:          hideDelay || 0,\n  hideTimingFunction: \"ease-out\",\n  hide:               () => el.style.opacity = 0\n});\n\nexport default {\n  show,\n  hide\n};\n","import classes from \"polythene-css-classes/drawer\";\nimport defaultCoverTransitions from \"./transitions-cover\";\nimport defaultPushTransitions from \"./transitions-push\";\nimport defaultBackdropTransitions from \"./backdrop-transitions\";\n\n// Props to be passed to a dialog\nexport const createProps = vnode => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    attrs,\n    {\n      anchored: true,\n      fullBleed: true,\n      className: [\n        attrs.className,\n        classes.component,\n        attrs.push ? classes.push : null,\n        attrs.permanent ? classes.permanent : null,\n        attrs.bordered ? classes.bordered : null,\n      ].join(\" \"),\n      transitions: attrs.transitions\n        ? attrs.transitions\n        : attrs.push\n          ? defaultPushTransitions\n          : defaultCoverTransitions,\n      backdropTransitions: attrs.backdropTransitions || defaultBackdropTransitions\n    }\n  );\n};\n\nexport const createContent = () => null;\n","import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n  \nconst content_side_offset =       vars.grid_unit_component * 7; // 56\nconst content_side_offset_large = vars.grid_unit_component * 8; // 64\nconst content_max_width =         5 * vars.increment;\nconst content_max_width_large =   5 * vars.increment_large;\n\nexport default {\n  content_side_offset,\n  content_side_offset_large,\n  content_max_width,\n  content_max_width_large,\n\n  color_light_border:     rgba(vars.color_light_foreground, vars.blend_light_border_light),\n  color_dark_border:      rgba(vars.color_dark_foreground,  vars.blend_dark_border_light),\n};\n"],"names":["SHADOW_WIDTH","show","contentEl","showDuration","showDelay","rtl","isRTL","element","side","rect","getBoundingClientRect","width","style","top","hide","hideDuration","hideDelay","el","SHOW_DELAY","ANIMATION_DURATION","opacity","createProps","attrs","vnode","className","classes","component","push","permanent","bordered","join","transitions","defaultPushTransitions","defaultCoverTransitions","backdropTransitions","defaultBackdropTransitions","createContent","rgba","colorStr","content_side_offset","vars","grid_unit_component","content_side_offset_large","content_max_width","increment","content_max_width_large","increment_large","color_light_foreground","blend_light_border_light","color_dark_foreground","blend_dark_border_light"],"mappings":"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"}