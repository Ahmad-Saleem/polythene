{"version":3,"file":"polythene-core-radio-group.js","sources":["../../polythene-css-classes/radio-group.js","../src/radio-group.js"],"sourcesContent":["\nexport default {\n  component: \"pe-radio-group\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/radio-group\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nexport const getInitialState = (vnode, createStream) => {\n  const checkedValue = createStream(null);\n  return {\n    checkedValue,\n    redrawOnUpdate: createStream.merge([checkedValue])\n  };\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, RadioButton }) => {\n  const attrs = vnode.attrs;\n  const state = vnode.state;\n  const checkedValue = state.checkedValue();\n\n  const buttons = attrs.content\n    ? attrs.content\n    : attrs.buttons\n      ? attrs.buttons\n      : attrs.children || vnode.children || [];\n\n  return buttons.length\n    ? buttons.map(buttonOpts => {\n      if (!buttonOpts) {\n        return null;\n      }\n      // Only set defaultChecked the first time when no value has been stored yet\n      const isDefaultChecked = (buttonOpts.defaultChecked || buttonOpts.checked) && checkedValue === null;\n      if (buttonOpts.value === undefined) {\n        console.error(\"Option 'value' not set for radio button\"); // eslint-disable-line no-console\n      }\n      const isChecked = isDefaultChecked || buttonOpts.checked || checkedValue === buttonOpts.value;\n      return h(RadioButton, Object.assign(\n        {},\n        {\n          /* group attributes that may be overwritten by individual buttons */\n          name: attrs.name,\n          key: buttonOpts.value\n        },\n        attrs.all,\n        /* individual button options */\n        buttonOpts,\n        {\n          /* this component's options */\n          onChange: newState => (\n            state.checkedValue(newState.value),\n            attrs.onChange && attrs.onChange({ value: newState.value })\n          ),\n          checked: isChecked\n        }\n      ));\n    })\n    : null;\n};\n"],"names":["getElement","vnode","attrs","element","getInitialState","createStream","checkedValue","merge","createProps","k","keys","filterSupportedAttributes","classes","component","tone","className","class","join","createContent","h","renderer","RadioButton","state","buttons","content","children","length","map","buttonOpts","isDefaultChecked","defaultChecked","checked","value","undefined","error","isChecked","name","all","newState","onChange"],"mappings":";;;;;;AACA,cAAe;aACF;CADb;;;;ACDA,AAGO,IAAMA,aAAa,SAAbA,UAAa;SACxBC,MAAMC,KAAN,CAAYC,OAAZ,IAAuB,KADC;CAAnB;;AAGP,AAAO,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACH,KAAD,EAAQI,YAAR,EAAyB;MAChDC,eAAeD,aAAa,IAAb,CAArB;SACO;8BAAA;oBAEWA,aAAaE,KAAb,CAAmB,CAACD,YAAD,CAAnB;GAFlB;CAFK;;AAQP,AAAO,IAAME,cAAc,SAAdA,WAAc,CAACP,KAAD,QAAwB;MAARQ,CAAQ,QAAdC,IAAc;;MAC3CR,QAAQD,MAAMC,KAApB;SACO,SACL,EADK,EAELS,wCAA0BT,KAA1B,CAFK,EAGL;eACa,CACTU,QAAQC,SADC,EAETX,MAAMY,IAAN,KAAe,MAAf,GAAwB,cAAxB,GAAyC,IAFhC,EAGTZ,MAAMY,IAAN,KAAe,OAAf,GAAyB,eAAzB,GAA2C,IAHlC,EAITZ,MAAMa,SAAN,IAAmBb,MAAMO,EAAEO,KAAR,CAJV,EAKTC,IALS,CAKJ,GALI;GAJR,CAAP;CAFK;;AAgBP,AAAO,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACjB,KAAD,SAAyC;MAArBkB,CAAqB,SAA/BC,QAA+B;MAAlBC,WAAkB,SAAlBA,WAAkB;;MAC9DnB,QAAQD,MAAMC,KAApB;MACMoB,QAAQrB,MAAMqB,KAApB;MACMhB,eAAegB,MAAMhB,YAAN,EAArB;;MAEMiB,UAAUrB,MAAMsB,OAAN,GACZtB,MAAMsB,OADM,GAEZtB,MAAMqB,OAAN,GACErB,MAAMqB,OADR,GAEErB,MAAMuB,QAAN,IAAkBxB,MAAMwB,QAAxB,IAAoC,EAJ1C;;SAMOF,QAAQG,MAAR,GACHH,QAAQI,GAAR,CAAY,sBAAc;QACtB,CAACC,UAAL,EAAiB;aACR,IAAP;;;QAGIC,mBAAmB,CAACD,WAAWE,cAAX,IAA6BF,WAAWG,OAAzC,KAAqDzB,iBAAiB,IAA/F;QACIsB,WAAWI,KAAX,KAAqBC,SAAzB,EAAoC;cAC1BC,KAAR,CAAc,yCAAd,EADkC;;QAG9BC,YAAYN,oBAAoBD,WAAWG,OAA/B,IAA0CzB,iBAAiBsB,WAAWI,KAAxF;WACOb,EAAEE,WAAF,EAAe,SACpB,EADoB,EAEpB;;YAEQnB,MAAMkC,IAFd;WAGOR,WAAWI;KALE,EAOpB9B,MAAMmC,GAPc;;cAAA,EAUpB;;gBAEY;eACRf,MAAMhB,YAAN,CAAmBgC,SAASN,KAA5B,GACA9B,MAAMqC,QAAN,IAAkBrC,MAAMqC,QAAN,CAAe,EAAEP,OAAOM,SAASN,KAAlB,EAAf,CAFV;OAFZ;eAMWG;KAhBS,CAAf,CAAP;GAVA,CADG,GA+BH,IA/BJ;CAXK;;;;;;;;;;;;;;;;;;;"}