{"version":3,"file":"polythene-icon-button.js","sources":["../src/theme/vars.js","../src/theme/layout.js","../src/theme/color.js","../src/theme/index.js","../src/icon-button.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\n\nconst rgba = vars.rgba;\nconst padding = (vars.grid_unit_icon_button - vars.unit_icon_size) / 2; // 12\nconst padding_compact = (vars.grid_unit_icon_button - vars.unit_icon_size) / 3; // 8\nconst color_light = vars.rgba(vars.color_light_foreground, vars.blend_light_text_secondary);\nconst color_dark = vars.rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary);\n\nexport default {\n  padding,\n  padding_compact,\n\n  color_background:          \"transparent\", // only specify this variable to get all 2 states\n  // theme specific background colors may be set in theme; disabled by default\n  // color_light_background:    \"none\",\n  // color_dark_background:     \"none\",\n\n  color_light,               \n  color_light_disabled:      rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_wash:          color_light,\n  color_light_wash_opacity:  vars.blend_light_background_hover_medium,\n  color_light_focus_opacity: vars.blend_light_background_hover_medium,\n\n  color_dark,\n  color_dark_disabled:       rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_wash:           color_dark,\n  color_dark_wash_opacity:   vars.blend_dark_background_hover_medium,\n  color_dark_focus_opacity:  vars.blend_dark_background_hover_medium,\n  \n};\n","\nexport default (selector, componentVars) => [{\n  [selector]: {\n    // don\"t set button size to facilitate different icon sizes\n    display: \"inline-block\",\n    \"vertical-align\": \"middle\",\n    cursor: \"pointer\",\n    position: \"relative\",\n    \"font-size\": \"1rem\",\n    \"border-radius\": \"50%\",\n    border: \"none\",\n\n    \" .pe-icon-button__content\": {\n      \"line-height\": 1,\n      padding: componentVars.padding + \"px\"\n    },\n\n    \".pe-icon-button--compact\": {\n      \" .pe-icon-button__content\": {\n        padding: componentVars.padding_compact + \"px\"\n      }\n    }\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint],\n    backgroundColor: componentVars[\"color_\" + tint + \"_background\"] || componentVars[\"color_background\"],\n    \" .pe-button__wash\": {\n      opacity: componentVars[\"color_\" + tint + \"_wash_opacity\"]\n    },\n\n    \".pe-button--focus, &.pe-button--selected\": {\n      \" .pe-button__focus\": {\n        opacity: componentVars[\"color_\" + tint + \"_focus_opacity\"],\n        backgroundColor: \"currentcolor\"\n      }\n    },\n\n    \".pe-button--disabled\": {\n      color: componentVars[\"color_\" + tint + \"_disabled\"]\n    }\n  }\n}];\n\nconst noTouchStyle = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector + \":hover\").join(\",\")]: {\n    \" .pe-button__wash\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_wash\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark theme\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light theme\n  noTouchStyle([\"html.pe-no-touch .pe-dark-tone \"], selector, componentVars, \"dark\"), // inside dark theme\n  noTouchStyle([\"html.pe-no-touch \", \"html.pe-no-touch .pe-light-tone \"], selector, componentVars, \"light\"),\n];\n","import { styler } from \"polythene-css\";\nimport vars from \"./vars\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = \".pe-button.pe-icon-button\";\n\nexport const customTheme = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nstyler.generateStyles([selector], vars, fns);\n","import m from \"mithril\";\nimport icon from \"polythene-icon\";\nimport button from \"polythene-button\";\nimport { customTheme } from \"./theme\";\n\nexport const classes = {\n  component: \"pe-button pe-icon-button\",\n  content:   \"pe-icon-button__content\",\n  compact:   \"pe-icon-button--compact\"\n};\n\nconst view = vnode => {\n  const attrs = vnode.attrs;\n  const content = attrs.content\n    ? attrs.content\n    : attrs.icon\n      ? m(icon, attrs.icon)\n      : attrs.children || vnode.children;\n  return m(button, Object.assign(\n    {},\n    {\n      content: m(\"div\", {class: classes.content}, content),\n      parentClass: [\n        attrs.parentClass || classes.component,\n        attrs.compact ? classes.compact : null,\n      ].join(\" \"),\n      // defaults\n      wash: false,\n      animateOnTap: false\n    },\n    attrs\n  ));\n};\n\nexport default {\n  theme: customTheme, // accepts (selector, vars)\n  view\n};\n"],"names":["rgba","vars","padding","grid_unit_icon_button","unit_icon_size","padding_compact","color_light","color_light_foreground","blend_light_text_secondary","color_dark","color_dark_foreground","blend_dark_text_secondary","blend_light_text_disabled","blend_light_background_hover_medium","blend_dark_text_disabled","blend_dark_background_hover_medium","selector","componentVars","style","scopes","tint","map","s","join","noTouchStyle","fns","layout","color","customTheme","customSelector","customVars","styler","generateStyles","classes","view","attrs","vnode","content","icon","m","children","button","_extends","class","parentClass","component","compact"],"mappings":"yzBAEA,IAAMA,GAAOC,OAAKD,KACZE,GAAWD,OAAKE,sBAAwBF,OAAKG,gBAAkB,EAC/DC,GAAmBJ,OAAKE,sBAAwBF,OAAKG,gBAAkB,EACvEE,EAAcL,OAAKD,KAAKC,OAAKM,uBAAwBN,OAAKO,4BAC1DC,EAAaR,OAAKD,KAAKC,OAAKS,sBAAuBT,OAAKU,2EAMjC,iDAMAX,EAAKC,OAAKM,uBAAwBN,OAAKW,4CACvCN,2BACAL,OAAKY,8DACLZ,OAAKY,qEAGLb,EAAKC,OAAKS,sBAAuBT,OAAKa,0CACtCL,0BACAR,OAAKc,4DACLd,OAAKc,+CC1BlBC,EAAUC,eACvBD,WAEU,gCACS,gBACV,mBACE,uBACG,uBACI,aACT,kDAGS,UACNC,EAAcf,QAAU,uEAKtBe,EAAcZ,gBAAkB,WClB3Ca,EAAQ,SAACC,EAAQH,EAAUC,EAAeG,eAC7CD,EAAOE,IAAI,kBAAKC,GAAIN,IAAUO,KAAK,YAC3BN,EAAc,SAAWG,mBACfH,EAAc,SAAWG,EAAO,gBAAkBH,EAAA,8CAExDA,EAAc,SAAWG,EAAO,4FAK9BH,EAAc,SAAWG,EAAO,kCACxB,+CAKZH,EAAc,SAAWG,EAAO,kBAKvCI,EAAe,SAACL,EAAQH,EAAUC,EAAeG,eACpDD,EAAOE,IAAI,kBAAKC,GAAIN,EAAW,WAAUO,KAAK,2CAE1BN,EAAc,SAAWG,EAAO,yBAKvCJ,EAAUC,UACxBC,GAAO,gBAAiB,kBAAmBF,EAAUC,EAAe,WAC7D,GAAI,iBAAkB,mBAAoBD,EAAUC,EAAe,YAC5D,mCAAoCD,EAAUC,EAAe,WAC7D,oBAAqB,oCAAqCD,EAAUC,EAAe,+KC7B7FQ,GAAOC,EAAQC,GACfX,EAAW,4BAEJY,EAAc,SAACC,EAAgBC,SAC1CC,UAAOC,gBAAgBH,EAAgBb,QAAef,EAAS6B,GAAaL,GAE9EM,UAAOC,gBAAgBhB,GAAWf,EAAMwB,2KCN3BQ,aACA,mCACA,kCACA,2BAGPC,EAAO,eACLC,GAAQC,EAAMD,MACdE,EAAUF,EAAME,QAClBF,EAAME,QACNF,EAAMG,KACJC,EAAED,EAAMH,EAAMG,MACdH,EAAMK,UAAYJ,EAAMI,eACvBD,GAAEE,EAAQC,cAGJH,EAAE,OAAQI,MAAOV,EAAQI,SAAUA,gBAE1CF,EAAMS,aAAeX,EAAQY,UAC7BV,EAAMW,QAAUb,EAAQa,QAAU,MAClCvB,KAAK,WAED,gBACQ,GAEhBY,cAKKP"}