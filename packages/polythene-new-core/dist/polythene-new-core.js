!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css","polythene-theme"],t):t(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-css"],e["polythene-theme"])}(this,function(e,t,n,o){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={base:"pe-button",component:"pe-button pe-text-button",content:"pe-button__content",focus:"pe-button__focus",label:"pe-button__label",wash:"pe-button__wash",borders:"pe-button--borders",disabled:"pe-button--disabled",focused:"pe-button--focus",inactive:"pe-button--inactive",selected:"pe-button--selected"},p=o.vars.rgba,_=o.vars.unit_touch_height,b={margin_h:o.vars.grid_unit,border_radius:o.vars.unit_item_border_radius,font_size:14,font_weight:500,outer_padding_v:(_-36)/2,padding_h:2*o.vars.grid_unit,padding_v:11,min_width:8*o.vars.grid_unit_component,text_transform:"uppercase",border_width:0,color_light_background:"transparent",color_light_text:p(o.vars.color_light_foreground,o.vars.blend_light_text_primary),color_light_hover_background:p(o.vars.color_light_foreground,o.vars.blend_light_background_hover),color_light_focus_background:p(o.vars.color_light_foreground,o.vars.blend_light_background_hover),color_light_active_background:p(o.vars.color_light_foreground,o.vars.blend_light_background_active),color_light_disabled_background:"transparent",color_light_disabled_text:p(o.vars.color_light_foreground,o.vars.blend_light_text_disabled),color_dark_background:"transparent",color_dark_text:p(o.vars.color_dark_foreground,o.vars.blend_dark_text_primary),color_dark_hover_background:p(o.vars.color_dark_foreground,o.vars.blend_dark_background_hover),color_dark_focus_background:p(o.vars.color_dark_foreground,o.vars.blend_dark_background_hover),color_dark_active_background:p(o.vars.color_dark_foreground,o.vars.blend_dark_background_active),color_dark_disabled_background:"transparent",color_dark_disabled_text:p(o.vars.color_dark_foreground,o.vars.blend_dark_text_disabled)},f=function(e){return[r({},e,{userSelect:"none",outline:"none",padding:0,textDecoration:"none",textAlign:"center",cursor:"pointer",".pe-button--selected, &.pe-button--disabled, &.pe-button--inactive":{cursor:"default",pointerEvents:"none"},".pe-button--focus":{" .pe-button__focus":{opacity:1}}," .pe-button__content":{position:"relative",borderRadius:"inherit"}," .pe-button__label":[n.mixin.fontSmoothing(),{position:"relative",display:"block",borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__wash, .pe-button__focus":[n.mixin.defaultTransition("background-color"),n.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__focus":{opacity:0}," .pe-button__wash":{zIndex:0}})]},v=function(e,t){return[a({},e,[{display:"inline-block",minWidth:t.min_width+"px",margin:"0 "+t.margin_h+"px",padding:t.outer_padding_v+"px 0",background:"transparent",border:"none"," .pe-button__content":{position:"relative",borderWidth:0,padding:"0 "+t.padding_h+"px",borderRadius:t.border_radius+"px"}," .pe-button__label":{padding:t.padding_v+"px 0",fontSize:t.font_size+"px",lineHeight:t.font_size+"px",fontWeight:t.font_weight,textTransform:t.text_transform,whiteSpace:"pre"},".pe-button--borders":{" .pe-button__wash, pe-button__focus, .pe-ripple":n.mixin.fit(-1)," .pe-button__content":{borderStyle:"solid",borderWidth:"1px"}," .pe-button__label":{padding:t.padding_v-1+"px 0"}}}])]},g=function(e,t,n,o){var r=n["color_"+o+"_border"]||"transparent",a=n["color_"+o+"_active_border"]||r,l=n["color_"+o+"_disabled_border"]||r;return[i({},e.map(function(e){return e+t}).join(","),{"&, &:link, &:visited":{color:n["color_"+o+"_text"]}," .pe-button__content":{backgroundColor:n["color_"+o+"_background"],borderColor:r},".pe-button--disabled":{color:n["color_"+o+"_disabled_text"]," .pe-button__content":{backgroundColor:n["color_"+o+"_disabled_background"],borderColor:l}},".pe-button--selected":{" .pe-button__content":{backgroundColor:n["color_"+o+"_active_background"],borderColor:a}," .pe-button__focus":{opacity:1,backgroundColor:n["color_"+o+"_focus_background"]}},".pe-button--focus":{" .pe-button__focus":{opacity:1,backgroundColor:n["color_"+o+"_focus_background"]}}})]},h=function(e,t,n,o){var r=n["color_"+o+"_border"]||"transparent",a=n["color_"+o+"_border"]||r;return[i({},e.map(function(e){return e+t+":hover"}).join(","),{":not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash":{backgroundColor:n["color_"+o+"_hover_background"],borderColor:a}})]},m=function(e,t){return[g([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),g(["",".pe-light-tone",".pe-light-tone "],e,t,"light"),h(["html.pe-no-touch .pe-dark-tone "],e,t,"dark"),h(["html.pe-no-touch ","html.pe-no-touch .pe-light-tone "],e,t,"light")]},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k=[v,m],w="."+d.base,x="."+d.component.replace(/ /g,"."),j=function(e,t){return n.styler.generateStyles([e,x],y({},b,t),k)};n.styler.generateStyles([w],b,[f]),n.styler.generateStyles([x],b,k);var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C=j,E=function(e,n){var o,r=n.updateState,a=n.keys,i=e.state,c=e.attrs,u=c.disabled,s=c.inactive||i.inactive,p=c.events&&c.events.onclick,_=function(){return r("inactive",!0),setTimeout(function(){return r("inactive",!1)},1e3*c.inactivate)};return S({},t.filterSupportedAttributes(c,{add:[a.formaction,"type"]}),{className:[c.parentClass||d.component,c.selected?d.selected:null,u?d.disabled:null,s?d.inactive:null,c.borders?d.borders:null,i.focus?d.focused:null,"dark"===c.tone?"pe-dark-tone":null,"light"===c.tone?"pe-light-tone":null,c.className||c[a.class]].join(" ")},s?null:(o={},l(o,a.tabindex,u||s?-1:c[a.tabindex]||0),l(o,a.onclick,function(e){return void 0!==c.inactivate&&_(),p&&p(e),!0}),l(o,a.onfocus,function(){return r("focus",!i.mouseover)}),l(o,a.onblur,function(){return r("focus",!1)}),l(o,a.onmouseover,function(){return r("mouseover",!0)}),l(o,a.onmouseout,function(){return r("mouseover",!1)}),l(o,a.onkeydown,function(e){13===e.which&&i.focus&&(r("focus",!1),p&&p(e))}),o),c.style?{style:{}}:null,c.events,c.url,u?{disabled:!0}:null)},P=function(e,t){var n,o=t.renderer,r=t.keys,a=t.ripple,i=e.attrs,c=void 0!==i.ink&&i.ink===!1,u=i.disabled,s=i.children||e.children,p=i.content?i.content:i.label?"object"===O(i.label)?i.label:o("div",{key:"label",className:d.label},i.label):s?s:null,_=u||void 0!==i.wash&&!i.wash;return p?o("div",(n={},l(n,r.class,d.content),l(n,"key","button"),l(n,"style",i.style||{}),n),[!u&&i.shadowComponent?i.shadowComponent:null,u||c?null:a&&o(a,S({},i.ripple,{key:"ripple"})),_?null:o("div",{key:"wash",className:d.wash}),u?null:o("div",{key:"focus",className:d.focus}),p]):null},N={createProps:E,createContent:P,theme:C,element:"a",classes:d,vars:b},R={component:"pe-ripple",mask:"pe-ripple__mask",waves:"pe-ripple__waves",constrained:"pe-ripple--constrained",wavesAnimating:"pe-ripple__waves--animating"},L={color:"inherit"},T=function(e){return[c({},e,[n.mixin.fit(),{color:"inherit",borderRadius:"inherit",pointerEvents:"none",".pe-ripple--constrained":{borderRadius:"inherit"," .pe-ripple__mask":{overflow:"hidden",borderRadius:"inherit"}}," .pe-ripple__mask":[n.mixin.fit(),{transform:"translate3d(0,0,0)"}]," .pe-ripple__waves":{outline:"1px solid transparent",position:"absolute",borderRadius:"50%",pointerEvents:"none",display:"none"}," .pe-ripple__waves--animating":{display:"block"}}])]},z=function(e,t,n,o){return[u({},e.map(function(e){return e+t}).join(","),{color:n["color_"+o]||n.color||"inherit"})]},A=function(e,t){return[z([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),z(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},W=[T,A],D="."+R.component,M=function(e,t){return n.styler.generateStyles([e,D],q({},L,t),W)};n.styler.generateStyles([D],L,W);var F=t.animationEndEvent(),H=function(e,r,a,i,l,c){var u=r.getBoundingClientRect(),d=t.isTouch&&e.touches?e.touches[0].pageX:e.clientX,p=t.isTouch&&e.touches?e.touches[0].pageY:e.clientY,_=r.offsetWidth,b=r.offsetHeight,f=Math.sqrt(_*_+b*b),v=i.center?u.left+u.width/2:d,g=i.center?u.top+u.height/2:p,h=v-u.left-f/2,m=g-u.top-f/2,y=void 0!==i.startOpacity?i.startOpacity:.2,k=void 0!==i.opacityDecayVelocity?i.opacityDecayVelocity:.35,w=i.endOpacity||0,x=i.startScale||.1,j=i.endScale||2,O=i.duration?i.duration:1/k*.2,S=window.getComputedStyle(r).color,C="ripple_animation_"+(new Date).getTime(),E=a.style;E.width=E.height=f+"px",E.top=m+"px",E.left=h+"px",E["animation-duration"]=E["-webkit-animation-duration"]=E["-moz-animation-duration"]=E["-o-animation-duration"]=O+"s",E.backgroundColor=S,E.opacity=y,E.animationName=C,E.animationTimingFunction=i.animationTimingFunction||o.vars.animation_curve_default;var P=[s({},"@keyframes "+C,{" 0%":{transform:"scale("+x+")",opacity:y}," 100%":{transform:"scale("+j+")",opacity:w}})];n.styler.add(C,P);var N=function e(t){i.persistent?(E.opacity=w,E.transform="scale("+j+")"):(c(),a.classList.remove(l.wavesAnimating)),a.removeEventListener(F,e,!1),n.styler.remove(C),i.end&&i.end(t)};a.addEventListener(F,N,!1),i.start&&i.start(e),a.classList.add(l.wavesAnimating)},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X=M,Y=function(e,n){var o=n.keys,r=e.attrs;return V({},t.filterSupportedAttributes(r),{className:[R.component,r.constrained!==!1?R.constrained:null,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[o.class]].join(" ")})},B=function(e){var n=e.state,o=e.attrs;if(e.dom){var r=e.dom,a=e.dom.querySelector("."+R.waves),i=function(e){n.animating||(H(e,r,a,o,R,function(){return n.animating=!1}),n.animating=!0)},l=o.target?o.target():e.dom.parentElement;l.addEventListener(t.touchEndEvent,i,!1),n.removeEventListeners=function(){return l.removeEventListener(t.touchEndEvent,i,!1)}}},I=function(e){e.state.removeEventListeners()},U=function(e,t){var n=t.renderer;return e.attrs.disabled?null:n("div",{className:R.mask},n("div",{className:R.waves}))},G={createProps:Y,createContent:U,onMount:B,onUnmount:I,theme:X,element:"div",classes:R,vars:L};e.button=N,e.ripple=G,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-new-core.js.map
