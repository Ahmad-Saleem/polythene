"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _polytheneDialogDialog=require("polythene/dialog/dialog");var _polytheneDialogDialog2=_interopRequireDefault(_polytheneDialogDialog);var _polytheneHeaderPanelHeaderPanel=require("polythene/header-panel/header-panel");var _polytheneHeaderPanelHeaderPanel2=_interopRequireDefault(_polytheneHeaderPanelHeaderPanel);var _polytheneButtonButton=require("polythene/button/button");var _polytheneButtonButton2=_interopRequireDefault(_polytheneButtonButton);var _polytheneIconButtonIconButton=require("polythene/icon-button/icon-button");var _polytheneIconButtonIconButton2=_interopRequireDefault(_polytheneIconButtonIconButton);var _common=require("./common");var _common2=_interopRequireDefault(_common);var fullscreenToolbarRow=function fullscreenToolbarRow(title,opts){return[_mithril2["default"].component(_polytheneIconButtonIconButton2["default"],{icon:{svg:{group:"navigation",name:"close"}},events:{onclick:function onclick(){opts.confirmDialogShown(true)}}}),(0,_mithril2["default"])("span.flex",title),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Save",url:{href:"/dialog",config:_mithril2["default"].route},events:{onclick:function onclick(){alert("Settings saved. Of course this message should be a notification...");window.dialog.shouldHide=true;_mithril2["default"].redraw()}}})]};var fullscreenPanelBlock={view:function view(ctrl,opts){return _mithril2["default"].component(_polytheneHeaderPanelHeaderPanel2["default"],{"class":"dark-theme",fixed:true,header:{toolbar:{content:fullscreenToolbarRow("New event",opts)}},content:_mithril2["default"].trust(_common2["default"].template)})}};var fullscreenPanelConfirmDialog={view:function view(ctrl,opts){return _mithril2["default"].component(_polytheneDialogDialog2["default"],{"class":"demo-dialog",footer:[_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Cancel",events:{onclick:function onclick(){opts.shouldHideConfirmDialog(true)}}}),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"Discard",url:{href:"/dialog",config:_mithril2["default"].route},events:{onclick:function onclick(){window.dialog.shouldHide=true}}})],body:_common2["default"].shortBodyText,modal:true,backdrop:true,shouldHide:function shouldHide(){return opts.shouldHideConfirmDialog()},willHide:function willHide(){_mithril2["default"].route("/dialog")},didHide:function didHide(){opts.confirmDialogShown(false);opts.shouldHideConfirmDialog(false);_mithril2["default"].redraw()},transition:"both"})}};var fullscreenDialog={controller:function controller(){return{confirmDialogShown:_mithril2["default"].prop(false),shouldHideConfirmDialog:_mithril2["default"].prop(false)}},view:function view(ctrl){return _mithril2["default"].component(_polytheneDialogDialog2["default"],Object.assign({},_common2["default"].dialogProps,{"class":"demo-dialog",body:[ctrl.confirmDialogShown()?_mithril2["default"].component(fullscreenPanelConfirmDialog,{confirmDialogShown:ctrl.confirmDialogShown,shouldHideConfirmDialog:ctrl.shouldHideConfirmDialog}):null,_mithril2["default"].component(fullscreenPanelBlock,{confirmDialogShown:ctrl.confirmDialogShown})],fullscreen:true,transition:window.dialog&&window.dialog.transition===false?"out":"both"}))}};exports["default"]=fullscreenDialog;module.exports=exports["default"];