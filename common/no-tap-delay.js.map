{"version":3,"sources":["no-tap-delay.es6"],"names":["layer","document","body","throttleDelay","reInitDelay","fastClick","timeoutId","enabled","remove","destroy","add","handleScroll","window","clearTimeout","setTimeout","init","isTouch","subscribe"],"mappings":"oEAAA,0Q,wEAIA,GAAMA,OAAQC,SAASC,IAAvB,CACMC,cAAgB,GADtB,CAEMC,YAAcD,cAAgB,EAFpC,CAGIE,SAHJ,CAIIC,SAJJ,CAKIC,OALJ,CAOMC,OAAS,UAAM,CACbD,OADa,GAEbF,UAAUI,OAAV,EAFa,CAGbF,UAHa,CAKpB,CAZD,CAcMG,IAAM,UAAM,CACTH,OADS,GAEVF,UAAY,wBAAcL,KAAd,CAFF,CAGVO,UAHU,CAKjB,CAnBD,CAqBMI,aAAe,UAAM,CACvBH,QADuB,CAEnBF,SAFmB,EAGnBM,OAAOC,YAAP,CAAoBP,SAApB,CAHmB,CAKvBA,UAAYM,OAAOE,UAAP,CAAkBJ,GAAlB,CAAuBN,WAAvB,CACf,CA3BD,CA6BMW,KAAO,UAAM,CACX,oBAAEC,OADS,GAEX,iBAAOC,SAAP,CAAiB,QAAjB,CAA2BN,YAA3B,CAAyCR,aAAzC,CAFW,CAGXO,KAHW,CAKlB,CAlCD,CAoCAK,M,iBAEe,CACXL,IAAKA,GADM,CAEXF,OAAQA,MAFG,C","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from 'polythene/polythene/polythene';\nimport events from 'polythene/common/events';\n\nconst layer = document.body;\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}