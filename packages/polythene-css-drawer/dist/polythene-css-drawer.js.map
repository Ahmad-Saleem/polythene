{"version":3,"file":"polythene-css-drawer.js","sources":["../../polythene-css-classes/drawer.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-dialog pe-drawer\",\n\n  // states\n  cover:           \"pe-drawer--cover\",\n  push:            \"pe-drawer--push\",\n  mini:            \"pe-drawer--mini\",\n  permanent:       \"pe-drawer--permanent\",\n  bordered:        \"pe-drawer--bordered\",\n  floating:        \"pe-drawer--floating\",\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin } from \"polythene-core-css\";\n\nconst SHADOW_WIDTH = 15;\n\nexport default (selector, componentVars) => [{\n  [selector]: {\n    justifyContent: \"flex-start\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1,\n    height: \"100%\",\n    padding: 0,\n    opacity: 1,\n\n    \" .pe-dialog__content\": [\n      mixin.defaultTransition(\"all\"), // animation duration is set in component options\n      {\n        position: \"relative\",\n        borderRadius: 0,\n        height: \"100%\",\n        overflow: \"visible\"\n      }\n    ],\n\n    \" .pe-dialog-pane__content\": {\n      height: \"100%\",\n      overflowY: \"auto\", \n    },\n    \n    \" .pe-dialog-pane\": {\n      minWidth: \"initial\"\n    },\n\n    \" .pe-dialog-pane__body\": {\n      overflow: \"visible\"\n    },\n\n    // Permanent\n    \".pe-drawer--permanent:not(.pe-drawer--mini)\": {\n      position: \"static\",\n      display: \"block\",\n      padding: 0,\n      overflow: \"initial\",\n\n      \" .pe-dialog__content\": {\n        width: `${componentVars.permanent_content_width}px`,\n        overflow: \"visible\",\n        maxHeight: \"initial\",\n      }\n    },\n\n    // Floating\n    \".pe-drawer--floating\": {\n      height: \"auto\"\n    },\n\n    // Bordered\n    \".pe-drawer--bordered\": {\n      \" .pe-dialog__content\": {\n        borderWidth: \"1px\",\n        borderStyle: \"none solid none none\" // reverse for RTL - see below\n      },\n    },\n\n    // Cover (default)\n    \".pe-drawer--cover\": {\n      \" .pe-dialog__content\": {\n        width: `calc(100% - ${componentVars.content_side_offset}px)`,\n        maxWidth: `${componentVars.content_max_width}px`,\n        left: `calc(-${componentVars.content_max_width}px - ${SHADOW_WIDTH}px)`, // reverse for RTL - see below\n        right: \"auto\",\n      }\n    },\n    \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n      left: 0, // reverse for RTL - see below\n      right: \"auto\"\n    },\n\n    // Push\n    \".pe-drawer--push\": {\n      position: \"static\",\n\n      \" .pe-dialog__content\": {\n        width: `${componentVars.permanent_content_width}px`,\n        marginLeft: `calc(-${componentVars.permanent_content_width}px - ${SHADOW_WIDTH}px)`, // reverse for RTL - see below\n        marginRight: \"auto\",\n      }\n    },\n    \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n      marginLeft: 0, // reverse for RTL - see below\n      marginRight: \"auto\"\n    },\n    \n    // Mini\n    \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n      width: `${componentVars.content_width_mini_collapsed}px`\n    },\n\n    // Backdrop\n    \" .pe-dialog__backdrop, .pe-dialog__touch\": {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n    },\n    \" .pe-dialog__backdrop\": [\n      mixin.defaultTransition(\"all\"), // animation duration is set in component options\n      {\n        opacity: 0 \n      }\n    ],\n    \".pe-dialog--visible .pe-dialog__backdrop\": {\n      opacity: 1\n    }\n  },\n  \"*[dir=rtl] \": {\n    [selector]: {\n      \".pe-drawer--bordered .pe-dialog__content\": {\n        borderStyle: \"none none none solid\"\n      },\n      \".pe-drawer--cover\": {\n        \" .pe-dialog__content\": {\n          right: `calc(-${componentVars.content_max_width}px - ${SHADOW_WIDTH}px)`,\n          left: \"auto\",\n        }\n      },\n      \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n        right: 0,\n        left: \"auto\"\n      },\n\n      \".pe-drawer--push\": {\n        \" .pe-dialog__content\": {\n          marginRight: `calc(-${componentVars.permanent_content_width}px - ${SHADOW_WIDTH}px)`,\n          marginLeft: \"auto\",\n        }\n      },\n      \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n        marginRight: 0,\n        marginLeft: \"auto\"\n      },\n\n    }\n  },\n  [\"@media (min-width: \" + vars.breakpoint_for_tablet_portrait_up + \"px)\"]: {\n    [selector]: {\n      \".pe-drawer--push\": {\n        \" .pe-dialog__content\": {\n          maxWidth: `${componentVars.content_max_width_large}px`,\n        }\n      },\n      \" .pe-dialog__content\": {\n        width: `calc(100% - ${componentVars.content_side_offset_large}px)`,\n        maxWidth: `${componentVars.content_max_width_large}px`,\n      },\n    }\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-dialog__content\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n      borderColor: componentVars[\"color_\" + tint + \"_border\"]\n    },\n    \" .pe-dialog__backdrop\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-drawer\";\nimport classes from \"polythene-css-classes/drawer\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);  \n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n"],"names":["SHADOW_WIDTH","selector","componentVars","mixin","defaultTransition","permanent_content_width","content_side_offset","content_max_width","content_width_mini_collapsed","vars","breakpoint_for_tablet_portrait_up","content_max_width_large","content_side_offset_large","style","scopes","tint","map","s","join","fns","layout","color","classes","component","replace","addStyle","customSelector","customVars","styler","generateStyles","getStyle","createStyleSheets"],"mappings":"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"}