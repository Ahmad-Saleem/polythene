"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodashCollectionPluck=require("lodash/collection/pluck");var _lodashCollectionPluck2=_interopRequireDefault(_lodashCollectionPluck);var _lodashCollectionForEach=require("lodash/collection/forEach");var _lodashCollectionForEach2=_interopRequireDefault(_lodashCollectionForEach);var _lodashArray=require("lodash/array");var _lodashArray2=_interopRequireDefault(_lodashArray);var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _marked=require("marked");var _marked2=_interopRequireDefault(_marked);var _polytheneListList=require("polythene/list/list");var _polytheneListList2=_interopRequireDefault(_polytheneListList);var _polytheneListTileListTile=require("polythene/list-tile/list-tile");var _polytheneListTileListTile2=_interopRequireDefault(_polytheneListTileListTile);var _polytheneHeaderPanelHeaderPanel=require("polythene/header-panel/header-panel");var _polytheneHeaderPanelHeaderPanel2=_interopRequireDefault(_polytheneHeaderPanelHeaderPanel);var _polytheneCardCard=require("polythene/card/card");var _polytheneCardCard2=_interopRequireDefault(_polytheneCardCard);var _polytheneButtonButton=require("polythene/button/button");var _polytheneButtonButton2=_interopRequireDefault(_polytheneButtonButton);require("polythene-theme/theme");require("app/app.css!");var app=undefined,navItem=undefined,createDrawer=undefined,main=undefined,links=undefined,linkMap=undefined,defaultTitle=undefined,baseUrl=undefined;defaultTitle="Polythene Documentation";links=[{label:null,links:[{url:"polythene",name:"Introduction",title:defaultTitle,demo:"http://arthurclemens.github.io/Polythene-Examples/index.html"},{url:"theme",name:"Appearance / Theming",demo:null}]},{label:"Combined components",links:[{url:"header-panel",name:"Header Panel",demo:"http://arthurclemens.github.io/Polythene-Examples/header-panel.html"},{url:"toolbar",name:"Toolbar",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/toolbar"},{url:"list",name:"List",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/list"},{url:"dialog",name:"Dialog",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/dialog"}]},{label:"Components",links:[{url:"card",name:"Card",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/card"},{url:"tabs",name:"Tabs",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/tabs"},{url:"button",name:"Button",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/button"},{url:"icon-button",name:"Icon Button",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/icon-button"},{url:"fab",name:"Floating Action Button",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/fab"},{url:"item",name:"Item",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/item"},{url:"list-tile",name:"List Tile",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/list-tile"}]},{label:"Elementary components",links:[{url:"svg",name:"SVG",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/svg"},{url:"icon",name:"Icon",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/icon"},{url:"ripple",name:"Ripple",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/ripple"},{url:"shadow",name:"Shadow",demo:"http://arthurclemens.github.io/Polythene-Examples/index.html#/shadow"},{url:"element",name:"Element",demo:null},{url:"font-roboto",name:"Roboto Font"},{url:"layout",name:"Layout",demo:null}]}];linkMap={};(0,_lodashCollectionForEach2["default"])(_lodashArray2["default"].flatten((0,_lodashCollectionPluck2["default"])(links,"links")),function(link){linkMap[link.url]=link});baseUrl=links[0].links[0].url;navItem=function(title,url,highlight){return _mithril2["default"].component(_polytheneListTileListTile2["default"],{title:title,url:{href:url,config:_mithril2["default"].route},"class":highlight?"highlight":""})};createDrawer=function(){var highlight;return(0,_mithril2["default"])(".drawer.dark-theme",_mithril2["default"].component(_polytheneHeaderPanelHeaderPanel2["default"],{header:{toolbar:{topBar:(0,_mithril2["default"])(".title","Polythene")}},mode:"waterfall",fixed:true,content:[links.map(function(group){return _mithril2["default"].component(_polytheneListList2["default"],{header:group.label?{title:group.label}:null,tiles:group.links.map(function(link){highlight=_mithril2["default"].route()===link.url;return navItem(link.name,link.url,highlight)})})}),(0,_mithril2["default"])(".footer",_mithril2["default"].trust('Polythene by Arthur Clemens 2015. Project page on <a href="https://github.com/ArthurClemens/Polythene">Github</a>.'))]}))};main=function(currentLinkData,content){var title,id,parsed,url,demoCard,demoCardSubtitle=null;title=currentLinkData.name;id=currentLinkData.url;parsed=content?(0,_marked2["default"])(content):"";if(currentLinkData.demo!==null){url={href:currentLinkData.demo,target:"_blank"};demoCardSubtitle=id==="polythene"?"All components":title;demoCard=_mithril2["default"].component(_polytheneCardCard2["default"],{url:url,content:[{primary:{title:"Demo",subtitle:demoCardSubtitle}},{actions:{"class":"bordered",content:[(0,_mithril2["default"])(".flex"),_mithril2["default"].component(_polytheneButtonButton2["default"],{label:"View",url:url})]}}]})}return(0,_mithril2["default"])(".main.flex",_mithril2["default"].component(_polytheneHeaderPanelHeaderPanel2["default"],{header:{toolbar:{topBar:(0,_mithril2["default"])(".title",title)}},mode:"waterfall",fixed:true,content:(0,_mithril2["default"])(".doc-content",[demoCard,_mithril2["default"].trust(parsed)])}))};app={};app.vm=function(){return{init:function init(){app.vm.currentLink=function(){return linkMap[_mithril2["default"].route.param("module")]};app.vm.updateHead=function(){var currentLink,title;currentLink=app.vm.currentLink()||{};title=currentLink.title||currentLink.name+" - "+defaultTitle;document.title=title}}}}.call();app.controller=function(){var docs;app.vm.init();docs=_mithril2["default"].request({method:"GET",url:"app/docs/"+_mithril2["default"].route.param("module")+".md",background:false,deserialize:function deserialize(value){return value}});return{docs:docs}};app.view=function(ctrl){var docData,currentLink;docData=ctrl.docs();currentLink=app.vm.currentLink();return[(0,_mithril2["default"])(".scaffold.layout.horizontal.reverse",{config:app.vm.updateHead},[main(currentLink,docData),createDrawer()])]};_mithril2["default"].route.mode="hash";_mithril2["default"].route(document.body,baseUrl,{":module":app});