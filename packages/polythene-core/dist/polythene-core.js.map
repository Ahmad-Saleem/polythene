{"version":3,"file":"polythene-core.js","sources":["../src/iso.js","../src/animation-event.js","../src/Conditional.js","../src/attrs.js","../src/pointer.js","../src/events.js","../src/multi.js","../src/transition.js"],"sourcesContent":["export const isClient = typeof document !== \"undefined\";\nexport const isServer = !isClient;\n","import { isClient } from \"./iso\";\n\nconst evts = {\n  \"animation\": \"animationend\",\n  \"OAnimation\": \"oAnimationEnd\",\n  \"MozAnimation\": \"animationend\",\n  \"WebkitAnimation\": \"webkitAnimationEnd\"\n};\n\nexport const getAnimationEndEvent = () => {\n  if (isClient) {\n    const el = document.createElement(\"fakeelement\");\n    for (let a in evts) {\n      if (el.style[a] !== undefined) {\n        return evts[a];\n      }\n    }\n  }\n};\n","\nexport const Conditional = {\n  view: (vnode, { renderer: h }) => {\n    const attrs = vnode.attrs;\n    return attrs.permanent || attrs.show\n      ? h(attrs.instance, attrs)\n      : h(\"span\", { className: attrs.placeholderClassName });\n  }\n};\n\nConditional.displayName = \"Conditional\";\n","\nconst r = (acc, p) => (acc[p] = 1, acc);\n\n/* \nSeparately handled props:\n- class\n- element\n*/\n\nconst defaultAttrs = [\n  // Universal\n  \"key\",\n  \"style\",\n  \"href\",\n  \"id\",\n  \n  // React\n  \"tabIndex\",\n\n  // Mithril\n  \"tabindex\",\n  \"oninit\",\n  \"oncreate\",\n  \"onupdate\",\n  \"onbeforeremove\",\n  \"onremove\",\n  \"onbeforeupdate\",\n];\n\nexport const filterSupportedAttributes = (attrs, { add: addAttrs = [], remove: removeAttrs = []} = {} ) => {\n  const removeLookup = removeAttrs.reduce(r, {});\n  const supported = defaultAttrs.concat(addAttrs).filter(item => !removeLookup[item]).reduce(r, {});\n  return Object.keys(attrs).reduce((acc, key) => (\n    supported[key]\n      ? acc[key] = attrs[key]\n      : null,\n    acc\n  ), {});\n};\n\nexport const unpackAttrs = attrs =>\n  typeof attrs === \"function\"\n    ? attrs()\n    : attrs;\n","import { isClient, isServer } from \"./iso\";\n\nexport const isTouch = isServer\n  ? false\n  : \"ontouchstart\" in document.documentElement;\n\nexport const pointerStartEvent = isTouch\n  ? \"click\"\n  : \"mousedown\";\n\nexport const pointerEndEvent = isTouch\n  ? \"click\"\n  : \"mouseup\";\n\nexport const pointerStartMoveEvent = isTouch\n  ? \"touchstart\"\n  : \"mousedown\";\n\nexport const pointerMoveEvent = isTouch\n  ? \"touchmove\"\n  : \"mousemove\";\n\nexport const pointerEndMoveEvent = isTouch\n  ? \"touchend\"\n  : \"mouseup\";\n\nif (isClient) {\n  document.querySelector(\"html\").classList.add(isTouch ? \"pe-touch\" : \"pe-no-touch\");\n}\n","import { pointerEndEvent } from \"./pointer\";\nimport { isClient } from \"./iso\";\n\nconst listeners = {};\n\n// https://gist.github.com/Eartz/fe651f2fadcc11444549\nexport const throttle = (func, s = 0.05, context = isClient ? window : {}) => {\n  let wait = false;\n  return (...args) => {\n    const later = () => func.apply(context, args);\n    if (!wait) {\n      later();\n      wait = true;\n      setTimeout(() => wait = false, s);\n    }\n  };\n};\n\nexport const subscribe = (eventName, listener, delay) => {\n  listeners[eventName] = listeners[eventName] || [];\n  listeners[eventName].push(delay ? throttle(listener, delay) : listener);\n};\n\nexport const unsubscribe = (eventName, listener) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  const index = listeners[eventName].indexOf(listener);\n  if (index > -1) {\n    listeners[eventName].splice(index, 1);\n  }\n};\n\nexport const emit = (eventName, event) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  listeners[eventName].forEach(listener => listener(event));\n};\n\nif (isClient) {\n  window.addEventListener(\"resize\",      e => emit(\"resize\", e));\n  window.addEventListener(\"scroll\",      e => emit(\"scroll\", e));\n  window.addEventListener(\"keydown\",     e => emit(\"keydown\", e));\n  window.addEventListener(pointerEndEvent, e => emit(pointerEndEvent, e));\n}\n","/*\nHelper module to manage multiple items of the same component type.\n*/\n\nimport { isClient } from \"./iso\";\nimport { unpackAttrs } from \"./attrs\";\nimport { emit } from \"./events\";\n\nexport const Multi = ({ options: mOptions, renderer }) => {\n\n  const items = []; // This is shared between all instances of a type (Dialog, Notification, ...)\n  let current;\n  \n  const getInitialState = (vnode, createStream) => {\n    current = createStream();\n    return {\n      current,\n      redrawOnUpdate: createStream.merge([current])\n    };\n  };\n\n  /*\n  @param e: { id, eventName }\n  */\n  const onChange = e => {\n    if (!current) {\n      console.error(\"Cannot set state. Did you set a root element like Dialog to show instances?\"); // eslint-disable-line no-console\n    }\n    current(e.id);\n    emit(mOptions.name, e);\n  };\n\n  const itemIndex = id => {\n    const item = findItem(id);\n    return items.indexOf(item);\n  };\n\n  const removeItem = id => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items.splice(index, 1);\n      onChange({ id, name: \"removeItem\" });\n    }\n  };\n\n  const replaceItem = (id, newItem) => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items[index] = newItem;\n    }\n  };\n\n  const findItem = id => {\n    // traditional for loop for IE10\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].instanceId === id) {\n        return items[i];\n      }\n    }\n  };\n\n  const next = () => {\n    if (items.length) {\n      items[0].show = true;\n    }\n    onChange({ id: items.length ? items[0].instanceId : null, name: \"next\" });\n  };\n\n  const remove = (instanceId = mOptions.defaultId) => {\n    if (mOptions.queue) {\n      items.shift();\n      next();\n    } else {\n      removeItem(instanceId);\n    }\n  };\n\n  const removeAll = () => {\n    items.length = 0;\n    onChange({ id: null, name: \"removeAll\" });\n  };\n\n  const setPauseState = (pause, instanceId) => {\n    const item = findItem(instanceId);\n    if (item) {\n      item.pause = pause;\n      item.unpause = !pause;\n      onChange({ id: instanceId, name: pause ? \"pause\" : \"unpause\" });\n    }\n  };\n\n  const makeItem = (itemAttrs, instanceId, spawn) => {\n    let resolveShow;\n    let resolveHide;\n    const attrs = unpackAttrs(itemAttrs);\n\n    const didShow = () => {\n      if (attrs.didShow) {\n        attrs.didShow(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didShow\" });\n      return resolveShow(instanceId);\n    };\n    const showPromise = new Promise(resolve => \n      resolveShow = resolve\n    );\n\n    const didHide = () => {\n      if (attrs.didHide) {\n        attrs.didHide(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didHide\" });\n      remove(instanceId);\n      return resolveHide(instanceId);\n    };\n\n    const hidePromise = new Promise(resolve => resolveHide = resolve);\n\n    return Object.assign(\n      {},\n      mOptions,\n      {\n        instanceId,\n        spawn,\n        attrs: itemAttrs,\n        show: mOptions.queue ? false : true,\n        showPromise,\n        hidePromise,\n        didShow,\n        didHide\n      }\n    );\n  };\n\n  const count = () => items.length;\n  const pause = (instanceId = mOptions.defaultId) => setPauseState(true, instanceId);\n  const unpause = (instanceId = mOptions.defaultId) => setPauseState(false, instanceId);\n\n  const show = (attrs = {}, spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const spawn = spawnOpts.spawn || mOptions.defaultId;\n    const item = makeItem(attrs, instanceId, spawn);\n    onChange({ id: instanceId, name: \"show\" });\n    if (mOptions.queue) {\n      items.push(item);\n      if (items.length === 1) {\n        next();\n      }\n    } else {\n      const storedItem = findItem(instanceId);\n      if (!storedItem) {\n        items.push(item);\n      } else {\n        replaceItem(instanceId, item);\n      }\n    }\n    return item.showPromise;\n  };\n\n  const hide = (spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const item = mOptions.queue && items.length\n      ? items[0]\n      : findItem(instanceId);\n    if (item) {\n      item.hide = true;\n    }\n    onChange({ id: instanceId, name: \"hide\" });\n    return item\n      ? item.hidePromise\n      : Promise.resolve(instanceId);\n  };\n\n  const clear = () => removeAll();\n\n  const view = ({ attrs }) => {\n    const spawn = attrs.spawn || mOptions.defaultId;\n    const candidates = items.filter(item => \n      item.show && item.spawn === spawn\n    );\n    if (mOptions.bodyShowClass && isClient) {\n      document.body.classList[candidates.length ? \"add\" : \"remove\"](mOptions.bodyShowClass);\n    }\n    return !candidates.length\n      ? renderer(mOptions.placeholder) // placeholder because we cannot return null\n      : renderer(mOptions.holderSelector,\n        {\n          className: attrs.position === \"container\"\n            ? \"pe-multiple--container\"\n            : \"pe-multiple--screen\"\n        },\n        candidates.map(itemData => {\n          return renderer(mOptions.instance, Object.assign(\n            {},\n            {\n              key: itemData.key,\n              instanceId: itemData.instanceId,\n              transitions: mOptions.transitions,\n              holderSelector: mOptions.holderSelector,\n              className: mOptions.className,\n              showInstance: itemData.show,\n              hideInstance: itemData.hide,\n              pauseInstance: itemData.pause,\n              unpauseInstance: itemData.unpause,\n              multipleDidShow: itemData.didShow,\n              multipleDidHide: itemData.didHide\n            },\n            unpackAttrs(itemData.attrs)\n          ));\n        })\n      );\n  };\n\n  return {\n    clear,\n    count,\n    getInitialState,  \n    hide,\n    pause,\n    remove,\n    show,\n    unpause,\n    view,\n  };\n};\n\nMulti.displayName = \"Multi\";\n\n\n","/*\nGeneric show/hide transition module\n*/\n\n// defaults\nconst SHOW_DURATION = .220; // default dialog timing\nconst HIDE_DURATION = .200; // default dialog timing\nconst SHOW_DELAY =    0;\nconst HIDE_DELAY =    0;\nconst TRANSITION =    \"both\";\n\n// See: transition\nexport const show = opts =>\n  transition(opts, \"show\");\n\nexport const hide = opts =>\n  transition(opts, \"hide\");\n\nconst getTiming = (opts, state, showAttr, hideAttr, defaultShowTiming, defaultHideTiming) => {\n  const transition = opts.transition || TRANSITION;\n  if (transition === \"none\") {\n    return 0;\n  } else if (transition === \"show\" && state === \"hide\") {\n    return 0;\n  } else if (transition === \"hide\" && state === \"show\") {\n    return 0;\n  } else {\n    // both\n    return state === \"show\"\n      ? opts[showAttr] !== undefined\n        ? opts[showAttr]\n        : defaultShowTiming\n      : opts[hideAttr] !== undefined\n        ? opts[hideAttr]\n        : defaultHideTiming;\n  }\n};\n\n/*\nopts:\n- transition\n- showDuration\n- hideDuration\n\n- state (show, hide)\n*/\nconst getDuration = (opts, state) => \n  getTiming(opts, state, \"showDuration\", \"hideDuration\", SHOW_DURATION, HIDE_DURATION);\n\n/*\nopts:\n- transition (show, hide, both)\n- showDelay\n- hideDelay\n\n- state (show, hide)\n*/\nconst getDelay = (opts, state) =>\n  getTiming(opts, state, \"showDelay\", \"hideDelay\", SHOW_DELAY, HIDE_DELAY);\n\n/*\nopts:\n- el\n- duration\n- delay\n- showClass\n- beforeShow\n- show\n- hide\n- afterHide\n- showDelay\n- hideDelay\n\n- state (show, hide)\n*/\nconst transition = (opts, state) => {\n  const el = opts.el;\n  if (!el) {\n    return Promise.resolve();\n  } else {\n    return new Promise(resolve => {\n      const transitionDuration = getDuration(opts, state) * 1000;\n      const delay = getDelay(opts, state) * 1000;\n      const style = el.style;\n      const beforeTransition = (opts.beforeShow && state === \"show\")\n        ? () => {\n          style.transitionDuration = \"0ms\";\n          style.transitionDelay = \"0ms\";\n          opts.beforeShow();\n        }\n        : null;\n\n      const afterTransition = opts.afterHide && state === \"hide\"\n        ? () => opts.afterHide()\n        : null;\n\n      const applyTransition = () => {\n        style.transitionDuration = transitionDuration + \"ms\";\n        style.transitionDelay = delay + \"ms\";\n        if (opts.showClass) {\n          el.classList[(state === \"show\") ? \"add\" : \"remove\"](opts.showClass);\n        }\n        if (opts.show && typeof opts.show === \"function\" && state === \"show\") {\n          opts.show();\n        }\n        if (opts.hide && typeof opts.hide === \"function\" && state === \"hide\") {\n          opts.hide();\n        }\n      };\n\n      const doTransition = () => {\n        applyTransition();\n        setTimeout(() => {\n          if (afterTransition) {\n            afterTransition();\n          }\n          resolve();\n        }, transitionDuration + delay);\n      };\n\n      const maybeDelayTransition = () => {\n        if (transitionDuration === 0) {\n          doTransition();\n        } else {\n          setTimeout(doTransition, 0);\n        }\n      };\n\n      if (beforeTransition) {\n        beforeTransition();\n        el.offsetHeight; // force reflow\n        setTimeout(() => {\n          maybeDelayTransition();\n        }, 0);\n      } else {\n        maybeDelayTransition();\n      }\n    });\n  }\n};\n"],"names":["isClient","document","isServer","evts","getAnimationEndEvent","el","createElement","a","undefined","style","Conditional","vnode","h","renderer","attrs","permanent","show","instance","className","placeholderClassName","displayName","acc","p","defaultAttrs","filterSupportedAttributes","add","addAttrs","remove","removeLookup","reduce","r","supported","concat","filter","item","Object","keys","key","unpackAttrs","isTouch","documentElement","pointerStartEvent","pointerEndEvent","pointerStartMoveEvent","pointerMoveEvent","pointerEndMoveEvent","querySelector","classList","listeners","throttle","func","s","context","window","wait","args","apply","subscribe","eventName","listener","delay","push","unsubscribe","index","indexOf","splice","emit","event","forEach","addEventListener","e","Multi","mOptions","options","items","current","onChange","error","id","name","itemIndex","findItem","removeItem","replaceItem","newItem","i","length","instanceId","next","defaultId","queue","shift","removeAll","setPauseState","pause","unpause","makeItem","itemAttrs","spawn","resolveShow","resolveHide","didShow","showPromise","Promise","resolve","didHide","hidePromise","_extends","createStream","merge","hide","spawnOpts","candidates","bodyShowClass","body","holderSelector","position","map","itemData","transitions","placeholder","transition","opts","getTiming","state","showAttr","hideAttr","defaultShowTiming","defaultHideTiming","getDuration","getDelay","transitionDuration","beforeTransition","beforeShow","transitionDelay","afterTransition","afterHide","applyTransition","showClass","doTransition","maybeDelayTransition","offsetHeight"],"mappings":"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"}