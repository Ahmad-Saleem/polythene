!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-core-list-tile"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-core-list-tile","polythene-theme"],t):t(e.polythene={},e["polythene-core"],e["polythene-core-list-tile"],e["polythene-theme"])}(this,function(e,t,r,n){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={component:"pe-list",header:r.classes.header,borders:"pe-list--borders",compact:"pe-list--compact",hasHeader:"pe-list--header",indentedBorders:"pe-list--indented-borders",padding:"pe-list--padding"},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e){return e.attrs.element||"div"},d=function(e,t){var r=t.state,n=t.attrs;if(n.onSelect){var o=r.highlightIndex(),i={event:e,index:o,dom:r.tiles[o].dom,attrs:r.tiles[o].attrs};n.onSelect(i)}},s=function(e,t){var r=e.attrs,n=t(void 0!==r.defaultHighlightIndex?r.defaultHighlightIndex:-1);return{tiles:[],highlightIndex:n,registerTile:function(e){return function(t,r){return e.tiles[t]=r}},redrawOnUpdate:t.merge([n])}},c=function(e){var t=e.state;e.attrs.keyboardControl&&t.highlightIndex.map(function(e){t.tiles[e]&&t.tiles[e].dom.focus()})},h=function(e,r){var n=r.keys,a=e.state,s=e.attrs;return l({},t.filterSupportedAttributes(s),{className:[i.component,s.borders?i.borders:null,s.indentedBorders?i.indentedBorders:null,s.header?i.hasHeader:null,s.compact?i.compact:null,!1!==s.padding?i.padding:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[n.class]].join(" ")},s.keyboardControl&&o({},n.onkeydown,function(t){var r=a.highlightIndex();if("ArrowDown"===t.key||"ArrowRight"===t.key){t.preventDefault();var n=Math.min(a.tiles.length-1,r+1);a.tiles[n].dom.focus()}else if("ArrowUp"===t.key||"ArrowLeft"===t.key){t.preventDefault();var o=Math.max(0,r-1);a.tiles[o].dom.focus()}else"Enter"===t.key?d(t,e):"Escape"===t.key&&(a.tiles[r].dom.blur(),a.highlightIndex(-1))}))},u=function(e,t){var r=t.renderer,n=t.requiresKeys,a=t.keys,s=t.ListTile,c=e.state,h=e.attrs,u=void 0;h.header&&((u=l({},h.header))[a.class]=[i.header,u[a.class]||null].join(" "));var p=c.highlightIndex(),g=h.tiles?h.tiles:h.content?h.content:h.children||e.children,f=-1;return[u?r(s,l({},n?{key:"header"}:null,h.all,u,{header:!0})):null,h.keyboardControl?g.map(function(t){return t.header||f++,void 0!==t.tag?t:r(s,l({},h.all,t,!t.header&&{keyboardControl:!0,register:c.registerTile(c),setHighlightIndex:c.highlightIndex,index:f,defaultHighlight:p===f,events:l({},t.events,o({},a.onclick,function(t){return d(t,e)}))}))}):h.all?g.map(function(e){return r(s,l({},h.all,e))}):g]},p=Object.freeze({getElement:a,getInitialState:s,onMount:c,createProps:h,createContent:u}),g=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},f={padding:n.vars.grid_unit_component,padding_compact:3*n.vars.grid_unit_component/4,border_width_stacked:1,border_width_bordered:1,color_light_border:g(n.vars.color_light_foreground,n.vars.blend_light_border_light),color_dark_border:g(n.vars.color_dark_foreground,n.vars.blend_dark_border_light)};e.coreList=p,e.classes=i,e.vars=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-list.js.map
