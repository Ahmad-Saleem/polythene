!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-css"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css","polythene-theme"],t):t(e.polythene=e.polythene||{},e["polythene-core"],e["polythene-css"],e["polythene-theme"])}(this,function(e,t,n,r){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={base:"pe-button",component:"pe-button pe-text-button",content:"pe-button__content",focus:"pe-button__focus",label:"pe-button__label",wash:"pe-button__wash",borders:"pe-button--borders",disabled:"pe-button--disabled",focused:"pe-button--focus",inactive:"pe-button--inactive",selected:"pe-button--selected"},v=r.vars.rgba,f=r.vars.unit_touch_height,m={margin_h:r.vars.grid_unit,border_radius:r.vars.unit_item_border_radius,font_size:14,font_weight:500,outer_padding_v:(f-36)/2,padding_h:2*r.vars.grid_unit,padding_v:11,min_width:8*r.vars.grid_unit_component,text_transform:"uppercase",border_width:0,color_light_background:"transparent",color_light_text:v(r.vars.color_light_foreground,r.vars.blend_light_text_primary),color_light_hover_background:v(r.vars.color_light_foreground,r.vars.blend_light_background_hover),color_light_focus_background:v(r.vars.color_light_foreground,r.vars.blend_light_background_hover),color_light_active_background:v(r.vars.color_light_foreground,r.vars.blend_light_background_active),color_light_disabled_background:"transparent",color_light_disabled_text:v(r.vars.color_light_foreground,r.vars.blend_light_text_disabled),color_dark_background:"transparent",color_dark_text:v(r.vars.color_dark_foreground,r.vars.blend_dark_text_primary),color_dark_hover_background:v(r.vars.color_dark_foreground,r.vars.blend_dark_background_hover),color_dark_focus_background:v(r.vars.color_dark_foreground,r.vars.blend_dark_background_hover),color_dark_active_background:v(r.vars.color_dark_foreground,r.vars.blend_dark_background_active),color_dark_disabled_background:"transparent",color_dark_disabled_text:v(r.vars.color_dark_foreground,r.vars.blend_dark_text_disabled)},y=function(e){return[o({},e,{userSelect:"none",outline:"none",padding:0,textDecoration:"none",textAlign:"center",cursor:"pointer",".pe-button--selected, &.pe-button--disabled, &.pe-button--inactive":{cursor:"default",pointerEvents:"none"},".pe-button--focus":{" .pe-button__focus":{opacity:1}}," .pe-button__content":{position:"relative",borderRadius:"inherit"}," .pe-button__label":[n.mixin.fontSmoothing(),{position:"relative",display:"block",borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__wash, .pe-button__focus":[n.mixin.defaultTransition("background-color"),n.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"}]," .pe-button__focus":{opacity:0}," .pe-button__wash":{zIndex:0}})]},k=function(e,t){return[a({},e,[{display:"inline-block",minWidth:t.min_width+"px",margin:"0 "+t.margin_h+"px",padding:t.outer_padding_v+"px 0",background:"transparent",border:"none"," .pe-button__content":{position:"relative",borderWidth:0,padding:"0 "+t.padding_h+"px",borderRadius:t.border_radius+"px"}," .pe-button__label":{padding:t.padding_v+"px 0",fontSize:t.font_size+"px",lineHeight:t.font_size+"px",fontWeight:t.font_weight,textTransform:t.text_transform,whiteSpace:"pre"},".pe-button--borders":{" .pe-button__wash, pe-button__focus, .pe-ripple":n.mixin.fit(-1)," .pe-button__content":{borderStyle:"solid",borderWidth:"1px"}," .pe-button__label":{padding:t.padding_v-1+"px 0"}}}])]},w=function(e,t,n,r){var o=n["color_"+r+"_border"]||"transparent",a=n["color_"+r+"_active_border"]||o,l=n["color_"+r+"_disabled_border"]||o;return[i({},e.map(function(e){return e+t}).join(","),{"&, &:link, &:visited":{color:n["color_"+r+"_text"]}," .pe-button__content":{backgroundColor:n["color_"+r+"_background"],borderColor:o},".pe-button--disabled":{color:n["color_"+r+"_disabled_text"]," .pe-button__content":{backgroundColor:n["color_"+r+"_disabled_background"],borderColor:l}},".pe-button--selected":{" .pe-button__content":{backgroundColor:n["color_"+r+"_active_background"],borderColor:a}," .pe-button__focus":{opacity:1,backgroundColor:n["color_"+r+"_focus_background"]}},".pe-button--focus":{" .pe-button__focus":{opacity:1,backgroundColor:n["color_"+r+"_focus_background"]}}})]},x=function(e,t,n,r){var o=n["color_"+r+"_border"]||"transparent",a=n["color_"+r+"_border"]||o;return[i({},e.map(function(e){return e+t+":hover"}).join(","),{":not(.pe-button--selected):not(.pe-button--inactive) .pe-button__wash":{backgroundColor:n["color_"+r+"_hover_background"],borderColor:a}})]},j=function(e,t){return[w([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),w(["",".pe-light-tone",".pe-light-tone "],e,t,"light"),x(["html.pe-no-touch .pe-dark-tone "],e,t,"dark"),x(["html.pe-no-touch ","html.pe-no-touch .pe-light-tone "],e,t,"light")]},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=[k,j],S="."+g.base,P="."+g.component.replace(/ /g,"."),C=function(e,t){return n.styler.generateStyles([e,P],O({},m,t),z)};n.styler.generateStyles([S],m,[y]),n.styler.generateStyles([P],m,z);var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=C,A=function(e,n){var r,o=n.updateState,a=n.keys,i=e.state,s=e.attrs,c=s.disabled,u=s.inactive||i.inactive,d=s.events&&s.events.onclick,p=function(){return o("inactive",!0),setTimeout(function(){return o("inactive",!1)},1e3*s.inactivate)};return N({},t.filterSupportedAttributes(s,{add:[a.formaction,"type"]}),{className:[s.parentClass||g.component,s.selected?g.selected:null,c?g.disabled:null,u?g.inactive:null,s.borders?g.borders:null,i.focus?g.focused:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[a.class]].join(" ")},u?null:(r={},l(r,a.tabindex,c||u?-1:s[a.tabindex]||0),l(r,a.onclick,function(e){return void 0!==s.inactivate&&p(),d&&d(e),!0}),l(r,a.onfocus,function(){return o("focus",!i.mouseover)}),l(r,a.onblur,function(){return o("focus",!1)}),l(r,a.onmouseover,function(){return o("mouseover",!0)}),l(r,a.onmouseout,function(){return o("mouseover",!1)}),l(r,a.onkeydown,function(e){13===e.which&&i.focus&&(o("focus",!1),d&&d(e))}),r),s.style?{style:{}}:null,s.events,s.url,c?{disabled:!0}:null)},L=function(e,t){var n,r=t.renderer,o=t.keys,a=t.ripple,i=e.attrs,s=void 0!==i.ink&&i.ink===!1,c=i.disabled,u=i.children||e.children,d=i.content?i.content:i.label?"object"===E(i.label)?i.label:r("div",{key:"label",className:g.label},i.label):u?u:null,p=c||void 0!==i.wash&&!i.wash;return d?r("div",(n={},l(n,o.class,g.content),l(n,"key","button"),l(n,"style",i.style||{}),n),[!c&&i.shadowComponent?i.shadowComponent:null,c||s?null:a&&r(a,N({},i.ripple,{key:"ripple"})),p?null:r("div",{key:"wash",className:g.wash}),c?null:r("div",{key:"focus",className:g.focus}),d]):null},T={createProps:A,createContent:L,theme:R,element:"a",classes:g,vars:m},q={component:"pe-icon",avatar:"pe-icon--avatar",large:"pe-icon--large",medium:"pe-icon--medium",regular:"pe-icon--regular",small:"pe-icon--small"},W={size_small:r.vars.unit_icon_size_small,size_regular:r.vars.unit_icon_size,size_medium:r.vars.unit_icon_size_medium,size_large:r.vars.unit_icon_size_large,color_light:"currentcolor",color_dark:"currentcolor"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.vars.unit_icon_size;return{width:e+"px",height:e+"px"}},H=function(e,t){return[s({},e,{display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",position:"relative",fontSize:0,lineHeight:0,".pe-icon--avatar img":{border:"none",borderRadius:"50%",width:"inherit",height:"inherit"}," img":{height:"inherit"}," .pe-svg":{width:"inherit",height:"inherit"},".pe-icon--small":D(t.size_small),".pe-icon--regular":D(t.size_regular),".pe-icon--medium":D(t.size_medium),".pe-icon--large":D(t.size_large)})]},M=function(e,t,n,r){return[c({},e.map(function(e){return e+t}).join(","),{color:n["color_"+r]||"currentcolor"})]},F=function(e,t){return[M([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),M(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=[H,F],Y="."+q.component,B=function(e,t){return n.styler.generateStyles([e,Y],V({},W,t),X)};n.styler.generateStyles([Y],W,X);var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=B,G={small:q.small,regular:q.regular,medium:q.medium,large:q.large},J=function(){return G[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular"]},K=function(e,n){var r=n.keys,o=e.attrs;return I({},t.filterSupportedAttributes(o),{className:[q.component,J(o.type),o.avatar?q.avatar:null,"dark"===o.tone?"pe-dark-tone":null,"light"===o.tone?"pe-light-tone":null,o.className||o[r.class]].join(" ")},o.events?o.events:null)},Q=function(e,t){var n=t.renderer,r=t.svg,o=e.attrs;return o.content?o.content:o.svg?n(r,o.svg):o.msvg?n(r,o.msvg):o.src?n("img",{src:o.src}):o.children||e.children},Z={createProps:K,createContent:Q,theme:U,element:"div",classes:q,vars:W},$={component:"pe-ripple",mask:"pe-ripple__mask",waves:"pe-ripple__waves",constrained:"pe-ripple--constrained",wavesAnimating:"pe-ripple__waves--animating"},ee={color:"inherit"},te=function(e){return[u({},e,[n.mixin.fit(),{color:"inherit",borderRadius:"inherit",pointerEvents:"none",".pe-ripple--constrained":{borderRadius:"inherit"," .pe-ripple__mask":{overflow:"hidden",borderRadius:"inherit"}}," .pe-ripple__mask":[n.mixin.fit(),{transform:"translate3d(0,0,0)"}]," .pe-ripple__waves":{outline:"1px solid transparent",position:"absolute",borderRadius:"50%",pointerEvents:"none",display:"none"}," .pe-ripple__waves--animating":{display:"block"}}])]},ne=function(e,t,n,r){return[d({},e.map(function(e){return e+t}).join(","),{color:n["color_"+r]||n.color||"inherit"})]},re=function(e,t){return[ne([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),ne(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae=[te,re],ie="."+$.component,le=function(e,t){return n.styler.generateStyles([e,ie],oe({},ee,t),ae)};n.styler.generateStyles([ie],ee,ae);var se=t.animationEndEvent(),ce=function(e,o,a,i,l,s){var c=o.getBoundingClientRect(),u=t.isTouch&&e.touches?e.touches[0].pageX:e.clientX,d=t.isTouch&&e.touches?e.touches[0].pageY:e.clientY,b=o.offsetWidth,_=o.offsetHeight,h=Math.sqrt(b*b+_*_),g=i.center?c.left+c.width/2:u,v=i.center?c.top+c.height/2:d,f=g-c.left-h/2,m=v-c.top-h/2,y=void 0!==i.startOpacity?i.startOpacity:.2,k=void 0!==i.opacityDecayVelocity?i.opacityDecayVelocity:.35,w=i.endOpacity||0,x=i.startScale||.1,j=i.endScale||2,O=i.duration?i.duration:1/k*.2,z=window.getComputedStyle(o).color,S="ripple_animation_"+(new Date).getTime(),P=a.style;P.width=P.height=h+"px",P.top=m+"px",P.left=f+"px",P["animation-duration"]=P["-webkit-animation-duration"]=P["-moz-animation-duration"]=P["-o-animation-duration"]=O+"s",P.backgroundColor=z,P.opacity=y,P.animationName=S,P.animationTimingFunction=i.animationTimingFunction||r.vars.animation_curve_default;var C=[p({},"@keyframes "+S,{" 0%":{transform:"scale("+x+")",opacity:y}," 100%":{transform:"scale("+j+")",opacity:w}})];n.styler.add(S,C);var E=function e(t){i.persistent?(P.opacity=w,P.transform="scale("+j+")"):(s(),a.classList.remove(l.wavesAnimating)),a.removeEventListener(se,e,!1),n.styler.remove(S),i.end&&i.end(t)};a.addEventListener(se,E,!1),i.start&&i.start(e),a.classList.add(l.wavesAnimating)},ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de=le,pe=function(e,n){var r=n.keys,o=e.attrs;return ue({},t.filterSupportedAttributes(o),{className:[$.component,o.constrained!==!1?$.constrained:null,"dark"===o.tone?"pe-dark-tone":null,"light"===o.tone?"pe-light-tone":null,o.className||o[r.class]].join(" ")})},be=function(e){var n=e.state,r=e.attrs;if(e.dom){var o=e.dom,a=e.dom.querySelector("."+$.waves),i=function(e){n.animating||r.disabled||(ce(e,o,a,r,$,function(){return n.animating=!1}),n.animating=!0)},l=r.target?r.target():e.dom.parentElement;l.addEventListener(t.touchEndEvent,i,!1),n.removeEventListeners=function(){return l.removeEventListener(t.touchEndEvent,i,!1)}}},_e=function(e){e.state.removeEventListeners()},he=function(e,t){var n=t.renderer;return e.attrs.disabled?null:n("div",{className:$.mask},n("div",{className:$.waves}))},ge={createProps:pe,createContent:he,onMount:be,onUnmount:_e,theme:de,element:"div",classes:$,vars:ee},ve={component:"pe-shadow",bottomShadow:"pe-shadow__bottom",topShadow:"pe-shadow__top",animated:"pe-shadow--animated",depth_n:"pe-shadow--z-"},fe={transition:"box-shadow "+r.vars.animation_duration+" ease-out","shadow-top-z-1":"initial","shadow-bottom-z-1":"0 1px 4px 0 rgba(0, 0, 0, 0.37)","shadow-top-z-2":"0 2px 2px 0 rgba(0, 0, 0, 0.2)","shadow-bottom-z-2":"0 6px 10px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-3":"0 11px 7px 0 rgba(0, 0, 0, 0.19)","shadow-bottom-z-3":"0 13px 25px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-4":"0 14px 12px 0 rgba(0, 0, 0, 0.17)","shadow-bottom-z-4":"0 20px 40px 0 rgba(0, 0, 0, 0.3)","shadow-top-z-5":"0 17px 17px 0 rgba(0, 0, 0, 0.15)","shadow-bottom-z-5":"0 27px 55px 0 rgba(0, 0, 0, 0.3)","shadow-down-z-1":"inset 0px 1px 2px -1px rgba(0, 0, 0, 0.15)","shadow-down-z-2":"inset 0px 4px 6px -3px rgba(0, 0, 0, 0.25)"},me=function(e){return{boxShadow:e}},ye=function(e,t){return[b({},e,[n.mixin.fit(),{borderRadius:"inherit",pointerEvents:"none"," .pe-shadow__bottom, .pe-shadow__top":[n.mixin.fit(),{borderRadius:"inherit"}],".pe-shadow--animated":{" .pe-shadow__bottom, .pe-shadow__top":{transition:t.transition}}},[1,2,3,4,5].map(function(e){var n;return n={},b(n," .pe-shadow__top.pe-shadow--z-"+e,me(t["shadow-top-z-"+e])),b(n," .pe-shadow__bottom.pe-shadow--z-"+e,me(t["shadow-bottom-z-"+e])),n})])]},ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we=[ye],xe="."+ve.component,je=function(e,t){return n.styler.generateStyles([e,xe],ke({},fe,t),we)};n.styler.generateStyles([xe],fe,we);var Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze=je,Se=function(e,n){var r=n.keys,o=e.attrs;return Oe({},t.filterSupportedAttributes(o),{className:[ve.component,o.animated&&ve.animated,o.className||o[r.class]].join(" ")})},Pe=function(e,t){var n=t.renderer,r=e.attrs,o=r.content?r.content:r.children||e.children,a=""+ve.depth_n+Math.min(5,void 0!==r.z?r.z:1);return[o,n("div",{key:"bottom",className:[ve.bottomShadow,a].join(" ")}),n("div",{key:"top",className:[ve.topShadow,a].join(" ")})]},Ce={createProps:Se,createContent:Pe,theme:ze,element:"div",classes:ve,vars:fe},Ee={component:"pe-svg"},Ne={color_light:"currentcolor",color_dark:"currentcolor"},Re=function(e){return[_({},e,{lineHeight:1," svg":{width:"inherit",height:"inherit"}})]},Ae=function(e,t,n,r){return[h({},e.map(function(e){return e+t}).join(","),{color:"inherit"," svg":{color:"inherit"," path, rect, circle, polygon":{"&:not([fill=none])":{fill:n["color_"+r]||"currentcolor"}}}})]},Le=function(e,t){return[Ae([".pe-dark-tone",".pe-dark-tone "],e,t,"dark"),Ae(["",".pe-light-tone",".pe-light-tone "],e,t,"light")]},Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe=[Re,Le],We="."+Ee.component,De=function(e,t){return n.styler.generateStyles([e,We],Te({},Ne,t),qe)};n.styler.generateStyles([We],Ne,qe);var He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me=De,Fe=function(e,n){var r=n.keys,o=e.attrs;return He({},t.filterSupportedAttributes(o),{className:[Ee.component,"dark"===o.tone?"pe-dark-tone":null,"light"===o.tone?"pe-light-tone":null,o.className||o[r.class]].join(" ")})},Ve=function(e){var t=e.attrs;return t.content?t.content:t.children||e.children},Xe={createProps:Fe,createContent:Ve,theme:Me,element:"div",classes:Ee,vars:Ne};e.button=T,e.icon=Z,e.ripple=ge,e.shadow=Ce,e.svg=Xe,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-new-core.js.map
