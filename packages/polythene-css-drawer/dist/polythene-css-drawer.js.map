{"version":3,"file":"polythene-css-drawer.js","sources":["../../polythene-css-classes/drawer.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-dialog pe-drawer\",\n\n  // states\n  cover:           \"pe-drawer--cover\",\n  push:            \"pe-drawer--push\",\n  mini:            \"pe-drawer--mini\",\n  permanent:       \"pe-drawer--permanent\",\n  border:          \"pe-drawer--border\",\n  floating:        \"pe-drawer--floating\",\n  fixed:           \"pe-drawer--fixed\",\n  anchorEnd:       \"pe-drawer--anchor-end\",\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin } from \"polythene-core-css\";\n\nconst SHADOW_WIDTH = 15;\n\nconst alignLeft = componentVars => ({\n  // Bordered\n  \".pe-drawer--border .pe-dialog__content\": {\n    borderStyle: \"none solid none none\"\n  },\n\n  // Fixed\n  \".pe-drawer--fixed\": {\n    left: 0,\n    right: \"auto\",\n  },\n\n  // Cover\n  \".pe-drawer--cover .pe-dialog__content\": {\n    left: `${-componentVars.content_max_width - SHADOW_WIDTH}px`,\n    right: \"auto\",\n  },\n  \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n    left: 0,\n    right: \"auto\"\n  },\n\n  // Push\n  \".pe-drawer--push .pe-dialog__content\": {\n    marginLeft: `${-componentVars.permanent_content_width - SHADOW_WIDTH}px`, // reverse for RTL - see below\n    marginRight: \"auto\",\n  },\n  \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: \"auto\"\n  },\n\n  // Mini\n  \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: 0,\n  },\n\n});\n\nconst alignRight = componentVars => ({\n  // Bordered\n  \".pe-drawer--border .pe-dialog__content\": {\n    borderStyle: \"none none none solid\"\n  },\n\n  // Fixed\n  \".pe-drawer--fixed\": {\n    left: \"auto\",\n    right: 0,\n  },\n\n  // Cover\n  \".pe-drawer--cover .pe-dialog__content\": {\n    right: `${-componentVars.content_max_width - SHADOW_WIDTH}px`, // reverse for RTL - see below\n    left: \"auto\",\n  },\n  \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n    right: 0,\n    left: \"auto\"\n  },\n\n  // Push\n  \".pe-drawer--push .pe-dialog__content\": {\n    marginRight: `${-componentVars.permanent_content_width - SHADOW_WIDTH}px`,\n    marginLeft: \"auto\",\n  },\n  \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n    marginRight: 0,\n    marginLeft: \"auto\"\n  },\n\n  // Mini\n  \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: 0,\n  },\n});\n\nexport default (selector, componentVars) => [\n  {\n    [selector]: {\n      justifyContent: \"flex-start\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 1,\n      height: \"100%\",\n      padding: 0,\n      opacity: 1,\n\n      \" .pe-dialog__content\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          position: \"relative\",\n          borderRadius: 0,\n          height: \"100%\",\n          overflow: \"visible\"\n        }\n      ],\n\n      \" .pe-dialog-pane__content\": {\n        height: \"100%\",\n        overflowY: \"auto\", \n        overflowX: \"hidden\", \n      },\n      \n      \" .pe-dialog-pane\": {\n        height: \"100%\",\n        minWidth: 0 // IE 11 does not accept \"none\" or \"inital\" here\n      },\n\n      \" .pe-dialog-pane__body\": {\n        overflow: \"visible\"\n      },\n\n      // Fixed\n      \".pe-drawer--fixed\": {\n        position: \"fixed\",\n        top: 0,\n        width: \"100%\",\n        zIndex: vars.z_app_bar,\n      },\n\n      // Permanent\n      \".pe-drawer--permanent:not(.pe-drawer--mini)\": {\n        position: \"static\",\n        display: \"block\",\n        padding: 0,\n        overflow: \"initial\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n          overflow: \"visible\",\n          maxHeight: \"initial\",\n        }\n      },\n\n      // Floating\n      \".pe-drawer--floating\": {\n        height: \"auto\"\n      },\n\n      // Bordered\n      \".pe-drawer--border\": {\n        \" .pe-dialog__content\": {\n          borderWidth: \"1px\",\n        },\n      },\n\n      // Cover (default)\n      \".pe-drawer--cover\": {\n        \" .pe-dialog__content\": {\n          position: \"absolute\",\n          width: `calc(100% - ${componentVars.content_side_offset}px)`,\n          maxWidth: `${componentVars.content_max_width}px`,\n          top: 0,\n        }\n      },\n\n      // Push\n      \".pe-drawer--push\": {\n        position: \"static\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n        }\n      },\n      \n      // Mini\n      \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n        width: `${componentVars.content_width_mini_collapsed}px`,\n      },\n\n      // Backdrop\n      \" .pe-dialog__backdrop, .pe-dialog__touch\": {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      },\n      \" .pe-dialog__backdrop\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          opacity: 0 \n        }\n      ],\n      \".pe-dialog--visible .pe-dialog__backdrop\": {\n        opacity: 1\n      }\n    },\n\n    [`*[dir=rtl] ${selector}.pe-drawer--anchor-end, .pe-rtl ${selector}.pe-drawer--anchor-end, ${selector}:not(.pe-drawer--anchor-end)`]: alignLeft(componentVars),\n\n    // RTL\n\n    [`*[dir=rtl] ${selector}, .pe-rtl ${selector}, ${selector}.pe-drawer--anchor-end`]: [\n      alignRight(componentVars)\n    ],\n\n    // Media queries\n\n    [\"@media (min-width: \" + vars.breakpoint_for_tablet_portrait_up + \"px)\"]: {\n      [selector]: {\n        \".pe-drawer--push\": {\n          \" .pe-dialog__content\": {\n            maxWidth: `${componentVars.content_max_width_large}px`,\n          }\n        },\n        \" .pe-dialog__content\": {\n          width: `calc(100% - ${componentVars.content_side_offset_large}px)`,\n          maxWidth: `${componentVars.content_max_width_large}px`,\n        },\n      }\n    }\n  },\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-dialog__content\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n      borderColor: componentVars[\"color_\" + tint + \"_border\"]\n    },\n    \" .pe-dialog__backdrop\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-drawer\";\nimport classes from \"polythene-css-classes/drawer\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);  \n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n"],"names":["component","cover","push","mini","permanent","border","floating","fixed","anchorEnd","SHADOW_WIDTH","alignLeft","borderStyle","left","right","componentVars","content_max_width","marginLeft","permanent_content_width","marginRight","alignRight","selector","justifyContent","position","top","bottom","zIndex","height","padding","opacity","mixin","defaultTransition","borderRadius","overflow","overflowY","overflowX","minWidth","width","vars","z_app_bar","display","maxHeight","borderWidth","content_side_offset","maxWidth","content_width_mini_collapsed","breakpoint_for_tablet_portrait_up","content_max_width_large","content_side_offset_large","style","scopes","tint","map","s","join","backgroundColor","borderColor","fns","layout","color","classes","replace","addStyle","customSelector","customVars","styler","generateStyles","getStyle","createStyleSheets"],"mappings":"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"}