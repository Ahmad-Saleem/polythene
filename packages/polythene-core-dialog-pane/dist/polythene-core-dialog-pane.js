!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("polythene-core"),require("polythene-css-classes"),require("polythene-theme")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-css-classes","polythene-theme"],o):o(e.polythene={},e["polythene-core"],e["polythene-css-classes"],e["polythene-theme"])}(this,function(e,o,t,l){"use strict";function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var n=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},a=function(e){return e.attrs.element||"form"},s=function(e){var o=e.state,t=o.scrollEl();t&&(o.topOverflow(t.scrollTop>0),o.bottomOverflow(t.scrollHeight-(t.scrollTop+t.getBoundingClientRect().height)>0))},i=function(e){var o=e.state.footerEl();if(o){var l=window.getComputedStyle(o);o.getBoundingClientRect().height>parseInt(l.minHeight,10)?o.classList.add(t.dialogPaneClasses.footerHigh):o.classList.remove(t.dialogPaneClasses.footerHigh)}},d=function(e,o){var t=o(!1),l=o(null),r=o(null),n=o(!1),a=o(null),s=o(!1);return{cleanUp:void 0,bottomOverflow:t,el:o(null),footerEl:l,headerEl:r,isScrolling:n,scrollEl:a,scrollWatchId:void 0,topOverflow:s,redrawOnUpdate:o.merge([s,t,n])}},c=function(e){var l=e.dom;if(l){var r=e.state;r.el(l),r.scrollEl(l.querySelector("."+t.dialogPaneClasses.body)),r.footerEl(l.querySelector("."+t.dialogPaneClasses.footer)),r.headerEl(l.querySelector("."+t.dialogPaneClasses.title)),r.isScrolling.map(function(){return s(e)});var n=function(){s(e),i(e)};r.cleanUp=function(){return o.unsubscribe("resize",n)},o.subscribe("resize",n),s(e)}},u=function(e){return e.state.cleanUp()},f=function(e,l){var r=l.keys,a=e.state,s=o.unpackAttrs(e.attrs),i=s.borders||"overflow",d="always"===i||"overflow"===i&&a.topOverflow(),c="always"===i||"overflow"===i&&a.bottomOverflow(),u=void 0!==s.header||void 0!==s.title,f=void 0!==s.footer||void 0!==s.footerButtons;return n({},o.filterSupportedAttributes(s,{remove:["style"]}),{className:[t.dialogPaneClasses.component,s.fullBleed?t.dialogPaneClasses.fullBleed:null,d?t.dialogPaneClasses.borderTop:null,c?t.dialogPaneClasses.borderBottom:null,u?t.dialogPaneClasses.withHeader:null,f?t.dialogPaneClasses.withFooter:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[r.class]].join(" ")},s.formOptions)},g=function(e,l){var n=l.renderer,a=l.keys,s=e.state,i=o.unpackAttrs(e.attrs);return n("div",{className:[t.dialogPaneClasses.content,i.menu?t.dialogPaneClasses.menuContent:null].join(" "),style:i.style},[i.header?i.header:i.title?n("div",{className:[t.dialogPaneClasses.header,t.dialogPaneClasses.headerWithTitle].join(" "),key:"title"},n("div",{className:t.dialogPaneClasses.title},i.title)):null,n("div",r({className:t.dialogPaneClasses.body,key:"body"},a.onscroll,function(){s.isScrolling(!0),clearTimeout(s.scrollWatchId),s.scrollWatchId=setTimeout(function(){s.isScrolling(!1)},150)}),i.content||i.body||i.menu),i.footer?n("div",{className:t.dialogPaneClasses.footer,key:"footer"},i.footer):i.footerButtons?n("div",{className:[t.dialogPaneClasses.footer,t.dialogPaneClasses.footerWithButtons].join(" "),key:"footer"},n("div",{className:t.dialogPaneClasses.actions},i.footerButtons)):null])},h=Object.freeze({getElement:a,getInitialState:d,onMount:c,onUnMount:u,createProps:f,createContent:g}),v=function(e){return"rgba("+e+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+")"},p={padding:3*l.vars.grid_unit_component,header_bottom:20,header_height:60,footer_height:52,border_width:1,color_light_title_text:"inherit",color_light_body_text:"inherit",color_light_body_border:v(l.vars.color_light_foreground,l.vars.blend_light_border_light),color_light_background:"inherit",color_dark_title_text:"inherit",color_dark_body_text:"inherit",color_dark_body_border:v(l.vars.color_dark_foreground,l.vars.blend_dark_border_light),color_dark_background:"inherit"};e.coreDialogPane=h,e.classes=t.dialogPaneClasses,e.vars=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-dialog-pane.js.map
