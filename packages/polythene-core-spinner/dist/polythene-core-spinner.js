!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("polythene-core"),require("polythene-core-css"),require("polythene-theme"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-core-css","polythene-theme","polythene-utilities"],r):r(e.polythene={},e["polythene-core"],e["polythene-core-css"],e["polythene-theme"],e["polythene-utilities"])}(this,function(e,r,n,i,t){"use strict";function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function l(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function c(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var m={component:"pe-spinner",animation:"pe-spinner__animation",placeholder:"pe-spinner__placeholder",animated:"pe-spinner--animated",fab:"pe-spinner--fab",large:"pe-spinner--large",medium:"pe-spinner--medium",permanent:"pe-spinner--permanent",raised:"pe-spinner--raised",regular:"pe-spinner--regular",singleColor:"pe-spinner--single-color",small:"pe-spinner--small",visible:"pe-spinner--visible"},_={size_small:3*i.vars.grid_unit_component,size_regular:4*i.vars.grid_unit_component,size_medium:5*i.vars.grid_unit_component,size_large:6*i.vars.grid_unit_component,size_fab:7*i.vars.grid_unit_component,raisedSize:function(e){var r=.25*e;return{padding:r,paddedSize:e+2*r}},color_light_raised_background:n.rgba(i.vars.color_light_background),color_dark_raised_background:n.rgba(i.vars.color_light_background)},g=function(e){return{width:e+"px",height:e+"px"}},f=function(e,r){var n=r.raisedSize(e),i=n.padding,t=n.paddedSize;return{width:t+"px",height:t+"px",padding:i+"px"}},h=function(e,r){return[o({},e,{transitionTimingFunction:"ease-out",transitionProperty:"opacity",opacity:0,".pe-spinner--visible, &.pe-spinner--permanent":{opacity:1},".pe-spinner--small":g(r.size_small),".pe-spinner--regular":g(r.size_regular),".pe-spinner--medium":g(r.size_medium),".pe-spinner--large":g(r.size_large),".pe-spinner--fab":g(r.size_fab),".pe-spinner--raised":{position:"relative",borderRadius:"50%",".pe-spinner--small":f(r.size_small,r),".pe-spinner--regular":f(r.size_regular,r),".pe-spinner--medium":f(r.size_medium,r),".pe-spinner--large":f(r.size_large,r),".pe-spinner--fab":f(r.size_fab,r)}})]},b=function(e,r,n,i){return[a({},e.map(function(e){return e+r}).join(","),{".pe-spinner--raised":{backgroundColor:n["color_"+i+"_raised_background"]}})]},y=function(e,r){return[b([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),b(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z=[h,y],w="."+m.component,S=function(e,r){return n.styler.generateStyles([e,w],v({},_,r),z)};n.styler.generateStyles([w],_,z);var k=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O=S,j={small:m.small,regular:m.regular,medium:m.medium,large:m.large,fab:m.fab},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return j[e]},x=function(e,n){return n.onChange&&n.onChange({visible:!1,transitioning:!0}),r.show(k({},n,{el:e.dom(),showClass:m.visible})).then(function(){n.onChange&&n.onChange({visible:!0,transitioning:!1}),n.didShow&&n.didShow(n.id),e.visible(!1)})},P=function(e,n){return n.onChange&&n.onChange({visible:!0,transitioning:!0}),r.hide(k({},n,{el:e.dom(),showClass:m.visible})).then(function(){n.onChange&&n.onChange({visible:!1,transitioning:!1}),n.didHide&&n.didHide(n.id),e.visible(!1)})},N=function(e,r){var n=r(!1);return{dom:r(),visible:n,redrawOnUpdate:r.merge([n])}},R=function(e){if(e.dom){var r=e.state,n=e.attrs;r.dom(e.dom),n.permanent||x(r,n)}},F=function(e,n){var i=n.keys,t=e.attrs;return k({},r.filterSupportedAttributes(t),{className:[m.component,t.instanceClass,C(t.size),t.singleColor?m.singleColor:null,t.raised?m.raised:null,t.animated?m.animated:null,t.permanent?m.permanent:null,t.permanent?m.visible:null,t.className||t[i.class]].join(" ")},t.events)},L=function(e,r){var n=r.renderer,i=r.Shadow,t=e.state,o=e.attrs;return t.hide&&setTimeout(function(){P(t,o)},0),[o.raised&&o.content?n(i,{key:"shadow",z:o.z}):null,o.content]},q=Object.freeze({classes:m,vars:_,theme:O,getInitialState:N,onMount:R,createProps:F,createContent:L}),I={component:"pe-md-spinner",animation:"pe-md-spinner__animation",circle:"pe-md-spinner__circle",circleClipper:"pe-md-spinner__circle-clipper",circleClipperLeft:"pe-md-spinner__circle-clipper-left",circleClipperRight:"pe-md-spinner__circle-clipper-right",gapPatch:"pe-md-spinner__gap-patch",layer:"pe-md-spinner__layer",layerN:"pe-md-spinner__layer-"},M={border_width_small:_.size_small/_.size_regular*3,border_width_regular:3,border_width_medium:_.size_medium/_.size_regular*3,border_width_large:_.size_large/_.size_regular*3,border_width_fab:_.size_fab/_.size_regular*3,rotation_duration:479.88/306,arc_size:270,arc_time:1.333,arc_start_degrees:216,color_light_single:n.rgba(i.vars.color_primary),color_light_1:"#42a5f5",color_light_2:"#f44336",color_light_3:"#fdd835",color_light_4:"#4caf50",color_dark_single:n.rgba(i.vars.color_primary),color_dark_1:"#42a5f5",color_dark_2:"#f44336",color_dark_3:"#fdd835",color_dark_4:"#4caf50"},D="cubic-bezier(0.4, 0.0, 0.2, 1) infinite both",A=function(){return H(1)},U=function(){return H(-1)},H=function(e){return{" from":{transform:"rotate("+130*e+"deg)"}," 50%":{transform:"rotate("+-5*e+"deg)"}," to":{transform:"rotate("+130*e+"deg)"}}},B=function(e){return{" 12.5%":{transform:"rotate("+.5*e.arc_size+"deg)"}," 25%":{transform:"rotate("+1*e.arc_size+"deg)"}," 37.5%":{transform:"rotate("+1.5*e.arc_size+"deg)"}," 50%":{transform:"rotate("+2*e.arc_size+"deg)"}," 62.5%":{transform:"rotate("+2.5*e.arc_size+"deg)"}," 75%":{transform:"rotate("+3*e.arc_size+"deg)"}," 87.5%":{transform:"rotate("+3.5*e.arc_size+"deg)"}," to":{transform:"rotate("+4*e.arc_size+"deg)"}}},T=function(e,r){return l({},"&.pe-md-spinner__layer-"+r,{animation:"mdSpinnerFillUnfillRotate "+4*e.arc_time+"s "+D+",  mdSpinnerLayer"+r+"FadeInOut "+4*e.arc_time+"s "+D})},W=function(e,r){return[l({},e,{" .pe-md-spinner__animation":{animation:"mdSpinnerRotate "+r.rotation_duration+"s linear infinite",position:"relative",width:"100%",height:"100%",direction:"ltr"}," .pe-md-spinner__gap-patch":{position:"absolute",boxSizing:"border-box",top:0,left:"45%",width:"10%",height:"100%",overflow:"hidden",borderColor:"inherit"}," .pe-md-spinner__gap-patch .pe-md-spinner__circle":{width:"1000%",left:"-450%"}," .pe-md-spinner__circle-clipper":{display:"inline-block",fontSize:0,lineHeight:0,position:"relative",width:"50%",height:"100%",overflow:"hidden",borderColor:"inherit"}," .pe-md-spinner__circle-clipper .pe-md-spinner__circle":{width:"200%"}," .pe-md-spinner__circle":[n.mixin.fit(),{animation:"none",boxSizing:"border-box",height:"100%",borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",borderBottomColor:"transparent !important"}],"&":["small","regular","medium","large","fab"].map(function(e){return l({},"&.pe-spinner--"+e,{" .pe-md-spinner__circle":{borderWidth:r["border_width_"+e]+"px"}})})," .pe-md-spinner__circle-clipper-left .pe-md-spinner__circle":{transform:"rotate(129deg)",animation:"mdSpinnerLeftSpin "+r.arc_time+"s "+D,borderRightColor:"transparent !important"}," .pe-md-spinner__circle-clipper-right .pe-md-spinner__circle":{transform:"rotate(-129deg)",animation:"mdSpinnerRightSpin "+r.arc_time+"s "+D,left:"-100%",borderLeftColor:"transparent !important"}," .pe-md-spinner__layer":[[1,2,3,4].map(function(e){return T(r,e)}),{animation:"mdSpinnerFillUnfillRotate "+4*r.arc_time+"s "+D,position:"absolute",width:"100%",height:"100%",whiteSpace:"nowrap"}],"@keyframes mdSpinnerRotate":{" to":{transform:"rotate(360deg)"}},"@keyframes mdSpinnerRightSpin":U(),"@keyframes mdSpinnerLeftSpin":A(),"@keyframes mdSpinnerFadeOut":{" from":{opacity:.99}," to":{opacity:0}},"@keyframes mdSpinnerFillUnfillRotate":B(r),"@keyframes mdSpinnerLayer1FadeInOut":{" from":{opacity:.99}," 25%":{opacity:.99}," 26%":{opacity:0}," 89%":{opacity:0}," 90%":{opacity:.99}," 100%":{opacity:.99}},"@keyframes mdSpinnerLayer2FadeInOut":{" from":{opacity:0}," 15%":{opacity:0}," 25%":{opacity:.99}," 50%":{opacity:.99}," 51%":{opacity:0}},"@keyframes mdSpinnerLayer3FadeInOut":{" from":{opacity:0}," 40%":{opacity:0}," 50%":{opacity:.99}," 75%":{opacity:.99}," 76%":{opacity:0}},"@keyframes mdSpinnerLayer4FadeInOut":{" from":{opacity:0}," 65%":{opacity:0}," 75%":{opacity:.99}," 90%":{opacity:.99}," 100%":{opacity:0}}})]},Q=function(e,r,n,i){return[s({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i+"_single"]," .pe-md-spinner__layer":{borderColor:"currentcolor"},":not(.pe-spinner--single-color)":{" .pe-md-spinner__layer-1":{borderColor:n["color_"+i+"_1"]}," .pe-md-spinner__layer-2":{borderColor:n["color_"+i+"_2"]}," .pe-md-spinner__layer-3":{borderColor:n["color_"+i+"_3"]}," .pe-md-spinner__layer-4":{borderColor:n["color_"+i+"_4"]}}})]},E=function(e,r){return[Q([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),Q(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},G=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J=[W,E],K="."+I.component,V=function(e,r){return n.styler.generateStyles([e,K],G({},M,r),J)};n.styler.generateStyles([K],M,J);var X=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y=V,Z=function(e,r){return r("div",{key:e,className:[I.layer,I.layerN+e].join(" ")},[r("div",{key:"clipper-left",className:[I.circleClipper,I.circleClipperLeft].join(" ")},r("div",{key:"circle",className:I.circle})),r("div",{key:"gap-patch",className:I.gapPatch},r("div",{className:I.circle})),r("div",{key:"clipper-right",className:[I.circleClipper,I.circleClipperRight].join(" ")},r("div",{className:I.circle}))])},$=function(e,r){var n=r.renderer,i=e.state,t=e.attrs;return i.content=i.content||n("div",{key:"content",className:I.animation},[1,2,3,4].map(function(e){return Z(e,n)})),X({},t,{className:[I.component,t.className].join(" "),content:i.content})},ee=Object.freeze({classes:I,vars:M,theme:Y,createProps:$}),re={component:"pe-md-progress-spinner",animation:"pe-md-progress-spinner__animation",circle:"pe-md-progress-spinner__circle",circleRight:"pe-md-progress-spinner__circle-right",circleLeft:"pe-md-progress-spinner__circle-left"},ne=(Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e})({},_,{border_width_small:_.size_small/_.size_regular*3,border_width_regular:3,border_width_medium:_.size_medium/_.size_regular*3,border_width_large:_.size_large/_.size_regular*3,border_width_fab:_.size_fab/_.size_regular*3,animation_duration:"1.5s",color_light:n.rgba(i.vars.color_primary),color_dark:n.rgba(i.vars.color_primary)}),ie=function(e,r){return[p({},e,{position:"relative"," .pe-md-progress-spinner__animation":{animationDuration:r.animationDuration,position:"absolute",width:"100%",height:"100%"}," .pe-md-progress-spinner__circle":{position:"absolute",boxSizing:"border-box",width:"100%",height:"100%",borderStyle:"solid",borderRadius:"50%"}," .pe-md-progress-spinner__circle-left, .pe-md-progress-spinner__circle-right":{transform:"rotate(0)",clip:"rect(0, 0, 0, 0)"},"&":["small","regular","medium","large","fab"].map(function(e){return p({},"&.pe-spinner--"+e,{" .pe-md-progress-spinner__circle-left, .pe-md-progress-spinner__circle-right":{borderWidth:r["border_width_"+e]+"px"}})})})]},te=function(e,r,n,i){return[c({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i]," .pe-md-progress-spinner__circle":{borderColor:"currentcolor"}})]},oe=function(e,r){return[te([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),te(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},ae=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},le=[ie,oe],se="."+re.component,pe=function(e,r){return n.styler.generateStyles([e,se],ae({},ne,r),le)};n.styler.generateStyles([se],ne,le);var ce=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},de=pe,ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return ne["size_"+e]},me=function(e,r){return e+(r-e)*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)},_e=function(e,r,n,i){var t=e.style;t.transform=t["-webkit-transform"]=t["-moz-transform"]=t["-ms-transform"]=t["-o-transform"]="rotate("+me(r,n,i)+"deg)"},ge=function(e,r,n){var i=e.querySelector("."+re.animation).style;i.clip=n<.5?"rect(0px, "+r+"px, "+r+"px, "+r/2+"px)":"rect(auto, auto, auto, auto)";var t=e.querySelector("."+re.circleLeft),o=e.querySelector("."+re.circleRight);t.style.clip=o.style.clip="rect(0px, "+r/2+"px, "+r+"px, 0px)",_e(o,0,180,Math.min(1,2*n)),_e(t,0,360,n)},fe=function(e,r,n,i){if(r.dom()&&!r.animating()){var o=r.percentage();if(i.animated&&o!==e){var a=1e3*(i.updateDuration||.8),l=r.dom(),s=null,p=function i(p){s||(s=p);var c=p-s,d=o+1/a*c*(e-o);ge(l,n,t.easing.easeInOutQuad(d)),s&&c<a?window.requestAnimationFrame(i):(s=null,r.percentage(e),r.animating(!1))};r.animating(!0),window.requestAnimationFrame(p)}else ge(r.dom(),n,e),r.percentage(e)}},he=function(e,n,i){if(void 0!==n.percentage){var t=r.unpackAttrs(n.percentage);fe(t,e,i,n)}},be=function(e){var r=ue(e.size),n=ne.raisedSize(r),i=n.padding,t=n.paddedSize;return e.raised?t-2*i:r},ye=function(e,r){var n=r(0);return{dom:r(),percentage:n,animating:r(!1)}},ve=function(e){if(e.dom){var r=e.state,n=e.attrs;r.dom(e.dom);var i=be(n);he(r,n,i)}},ze=function(e,r){var n=r.renderer,i=e.state,t=e.attrs,o=be(t);he(i,t,o);var a=n("div",{key:"content",className:re.animation,style:{width:o+"px",height:o+"px"}},[n("div",{key:"left",className:[re.circle,re.circleLeft].join(" ")}),n("div",{key:"right",className:[re.circle,re.circleRight].join(" ")})]);return ce({},t,{className:[re.component,t.className].join(" "),content:a})},we=Object.freeze({classes:re,vars:ne,theme:de,getInitialState:ye,onMount:ve,createProps:ze}),Se={component:"pe-ios-spinner",blades:"pe-ios-spinner__blades",blade:"pe-ios-spinner__blade"},ke={animation_duration:1,color_light:n.rgba(i.vars.color_light_foreground),color_dark:n.rgba(i.vars.color_dark_foreground)},Oe=function(e){return[0,1,2,3,4,5,6,7,8,9,10,11].map(function(r){var n=-1/12*r*e.animation_duration;return d({}," .pe-ios-spinner__blade:nth-of-type("+(r+1)+")",{transform:"rotate("+(360-30*r)+"deg) translate3d(0,-140%,0)",animation:"iosSpinnerFade "+e.animation_duration+"s "+n+"s linear infinite"})})},je=function(e,r){return[d({},e,{" .pe-ios-spinner__blades":[Oe(r),{transform:"translate3d(0,0,0)",position:"relative",width:"100%",height:"100%"}]," .pe-ios-spinner__blade":{position:"absolute",width:"9%",height:"28%",left:"45.5%",top:"36%",opacity:0,borderRadius:"50px"},"@keyframes iosSpinnerFade":{" 0%":{opacity:.64}," 100%":{opacity:.035}}})]},Ce=function(e,r,n,i){return[u({},e.map(function(e){return e+r}).join(","),{color:n["color_"+i]," .pe-ios-spinner__blade":{background:"currentcolor"}})]},xe=function(e,r){return[Ce([".pe-dark-tone",".pe-dark-tone "],e,r,"dark"),Ce(["",".pe-light-tone",".pe-light-tone "],e,r,"light")]},Pe=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ne=[je,xe],Re="."+Se.component,Fe=function(e,r){return n.styler.generateStyles([e,Re],Pe({},ke,r),Ne)};n.styler.generateStyles([Re],ke,Ne);var Le=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qe=Fe,Ie=function(e,r){return r("div",{key:"blade-"+e,className:Se.blade})},Me=function(e,r){var n=r.renderer,i=e.state,t=e.attrs;return i.content=i.content||n("div",{key:"content",className:Se.blades},[0,1,2,3,4,5,6,7,8,9,10,11].map(function(e){return Ie(e,n)})),Le({},t,{className:[Se.component,t.className].join(" "),content:i.content})},De=Object.freeze({classes:Se,vars:ke,theme:qe,createProps:Me});e.coreBaseSpinner=q,e.coreMaterialDesignSpinner=ee,e.coreMaterialDesignProgressSpinner=we,e.coreIOSSpinner=De,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-spinner.js.map
