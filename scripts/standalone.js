'use strict';var fs=require('fs'),browserify=require('browserify'),sh=require('shelljs'),folders=['base-button','button','card','checkbox','common','config','dialog','element','fab','font-roboto','header-panel','icon','icon-button','layout','list','list-tile','menu','notification','polythene','radio-button','ripple','search','selection-control','shadow','slider','spinner','svg','switch','tabs','textfield','theme','toolbar'],commonUtils=['easing','mixin','multiple','no-tap-delay','object.assign','scroll-to','styler','timer','transition-event','transition','validation-helper','webfontloader'],includes=['layout/theme/flex','layout/theme/theme','notification/snackbar','notification/notification','spinner/ios-spinner','spinner/indeterminate-spinner','spinner/determinate-spinner'],noRequires={common:1,'font-roboto':1,layout:1},filterNoRequires=function(a){return!noRequires[a]},formatRequire=function(a){return'require(\''+a+'\');'},requires=function(a){a=a||function(f){return f};var b=[a('mithril')].concat(folders.filter(filterNoRequires).map(function(f){return a('polythene/'+f+'/'+f)})),c=[a('fastclick')].concat(commonUtils.map(function(f){return a('polythene/common/'+f)})),d=includes.map(function(f){return a('polythene/'+f)});return b.concat(c).concat(d)},writeRequires=function(a){console.log('standalone writeRequires'),fs.writeFile('standalone-src.js',requires(formatRequire).join('\r'),'utf8',function(){return console.log('standalone writeRequires done'),a()})},prepare=function(){console.log('standalone prepare'),sh.mkdir('-p','tmp'),folders.map(function(a){sh.mv(a,'tmp/'+a)}),sh.mv('tmp','polythene'),console.log('standalone prepare done')},teardown=function(){console.log('standalone teardown'),sh.mv('polythene','tmp'),sh.mv('tmp/*','.'),sh.rm('-rf','tmp'),sh.rm('-rf','standalone-src.js'),console.log('standalone teardown done')},build=function(){console.log('standalone build');(function createBundle(b,c){try{browserify({entries:b,paths:['.','node_modules'],require:requires()}).transform({global:!0},'uglifyify').bundle().on('error',function(d){console.log('Error : '+d.message)}).pipe(fs.createWriteStream(c).on('finish',teardown))}catch(d){teardown()}})(['standalone-src.js'],'polythene-standalone.js')};writeRequires(function(){prepare(),build()});
//# sourceMappingURL=standalone.js.map