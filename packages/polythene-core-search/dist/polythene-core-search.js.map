{"version":3,"file":"polythene-core-search.js","sources":["../src/search.js","../src/vars.js"],"sourcesContent":["import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"./classes\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nconst getNameOfState = state =>\n  state.focus && state.dirty\n    ? \"focus_dirty\"\n    : state.focus\n      ? \"focus\"\n      : state.dirty\n        ? \"dirty\"\n        : \"none\";\n\nexport const getInitialState = (vnode, createStream) => {\n  const searchState = createStream({});\n  return {\n    searchState\n  };\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.fullWidth ? classes.searchFullWidth : classes.searchInset,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    },\n    attrs.events\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, TextField }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  const searchState = getNameOfState(state.searchState());\n  const buttons = (attrs.buttons || {})[searchState] || {};\n  const textfieldAttrs = attrs.textfield || {};\n  return h(\"div\",\n    { className: classes.content },\n    [\n      buttons.before,\n      h(TextField, Object.assign(\n        {},\n        textfieldAttrs,\n        {\n          key: \"input\",\n          onChange: newState => {\n            state.searchState(newState);\n            if (textfieldAttrs.onChange) {\n              textfieldAttrs.onChange(newState);\n            }\n          },\n        }\n      )),\n      buttons.after\n    ]\n  );\n};\n","import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\nconst insetSideMargin =                8;\nconst line_height_input =              20;\nconst font_size_input =                20;\nconst inset_height =                   48;\nconst inset_input_indent =             16;\nconst inset_input_right_padding =      0;\nconst inset_side_padding =             0;\nconst inset_border_radius =            vars.unit_block_border_radius;\nconst full_width_side_margin =         0;\nconst full_width_height =              56;\nconst full_width_side_padding =        insetSideMargin;\nconst full_width_input_right_padding = 0;\nconst full_width_border_radius =       0;\n\nexport default {\n  font_size_input,\n  line_height_input,\n\n  inset_height,\n  inset_input_indent,\n  inset_side_padding,\n  inset_input_right_padding,\n  inset_border_radius,\n\n  full_width_height,\n  full_width_side_margin,\n  full_width_side_padding,\n  full_width_input_right_padding,\n  full_width_border_radius,\n\n  color_light_label_text: rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_input_text: rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_background: rgba(vars.color_light_background),\n\n  color_dark_label_text:  rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_input_text:  rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_background:  rgba(vars.color_dark_background)\n};\n"],"names":["getElement","vnode","attrs","element","getNameOfState","state","focus","dirty","getInitialState","createStream","createProps","k","keys","_extends","filterSupportedAttributes","classes","component","fullWidth","searchFullWidth","searchInset","tone","className","class","join","events","createContent","h","renderer","TextField","searchState","buttons","textfieldAttrs","textfield","content","before","newState","onChange","after","rgba","colorStr","vars","unit_block_border_radius","color_light_foreground","blend_light_text_disabled","blend_light_text_primary","color_light_background","color_dark_foreground","blend_dark_text_disabled","blend_dark_text_primary","color_dark_background"],"mappings":"+jBAGaA,EAAa,kBACxBC,GAAMC,MAAMC,SAAW,OAEnBC,EAAiB,kBACrBC,GAAMC,OAASD,EAAME,MACjB,cACAF,EAAMC,MACJ,QACAD,EAAME,MACJ,QACA,QAEGC,EAAkB,SAACP,EAAOQ,sBACjBA,QAMTC,EAAc,SAACT,QAAeU,KAANC,KAC7BV,EAAQD,EAAMC,YACbW,MAELC,4BAA0BZ,eAGtBa,gBAAQC,UACRd,EAAMe,UAAYF,gBAAQG,gBAAkBH,gBAAQI,YACrC,SAAfjB,EAAMkB,KAAkB,eAAiB,KAC1B,UAAflB,EAAMkB,KAAmB,gBAAkB,KAC3ClB,EAAMmB,WAAanB,EAAMS,EAAEW,QAC3BC,KAAK,MAETrB,EAAMsB,SAIGC,EAAgB,SAACxB,QAAmByB,KAAVC,SAAaC,IAAAA,UAC5CvB,EAAQJ,EAAMI,MACdH,EAAQD,EAAMC,MACd2B,EAAczB,EAAeC,EAAMwB,eACnCC,GAAW5B,EAAM4B,aAAeD,OAChCE,EAAiB7B,EAAM8B,oBACtBN,GAAE,OACLL,UAAWN,gBAAQkB,UAEnBH,EAAQI,OACRR,EAAEE,EAAWf,KAEXkB,OAEO,iBACK,cACFF,YAAYM,GACdJ,EAAeK,YACFA,SAASD,OAKhCL,EAAQO,yFC7DRC,EAAO,SAACC,iBACJA,+DADwB,2BAKK,qBADA,gBAEA,sBACA,sBAEA,4BADA,sBAEAC,OAAKC,2CAEL,0BADA,0BARA,iCAWA,2BACA,yBAkBbH,EAAKE,OAAKE,uBAAwBF,OAAKG,kDACvCL,EAAKE,OAAKE,uBAAwBF,OAAKI,iDACvCN,EAAKE,OAAKK,8CAEVP,EAAKE,OAAKM,sBAAuBN,OAAKO,gDACtCT,EAAKE,OAAKM,sBAAuBN,OAAKQ,+CACtCV,EAAKE,OAAKS"}