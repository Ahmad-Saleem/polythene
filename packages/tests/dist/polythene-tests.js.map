{"version":3,"file":"polythene-tests.js","sources":["../src/button/tests-generic.js","../src/button/tests-mithril.js","../src/theme/tests-generic.js","../src/theme/tests-mithril.js","../src/ripple/tests-generic.js","../src/ripple/tests-mithril.js","../src/shadow/tests-generic.js","../src/shadow/tests-mithril.js","../src/svg/tests-generic.js","../node_modules/mithril/mithril.js","../node_modules/mmsvg/google/msvg/action/stars.js","../src/svg/tests-mithril.js","../src/button/tests-react.js","../src/theme/tests-react.js","../src/ripple/tests-react.js","../src/shadow/tests-react.js","../src/svg/tests-react.js","../index.js"],"sourcesContent":["\nexport default ({ button }) => {\n  button.theme(\".tests-button-themed-button\", {\n    color_light_background: \"#2196F3\",\n    color_dark_background: \"#2196F3\",\n    color_light_text: \"#fff\"\n  });\n\n  button.theme(\".blue-on-dark-button\", {\n    color_dark_text: \"#2196F3\"\n  });\n\n  button.theme(\".tests-button-bordered-button\", {\n    color_light_text: \"#673ab7\",\n    color_light_border: \"#673ab7\",\n    color_dark_text: \"yellow\",\n    color_dark_border: \"yellow\"\n  });\n  return [\n    {\n      name: \"Option: label\",\n      component: button,\n      attrs: {\n        label: \"Label\"\n      }\n    },\n    {\n      name: \"Themed button: (option: borders)\",\n      component: button,\n      attrs: {\n        label: \"Borders\",\n        className: \"tests-button-bordered-button\",\n        borders: true\n      }\n    },\n    {\n      name: \"Themed button (colors)\",\n      component: button,\n      attrs: {\n        label: \"Themed button\",\n        className: \"tests-button-themed-button\"\n      }\n    },\n    {\n      name: \"Option: style (colors)\",\n      component: button,\n      attrs: {\n        label: \"Styled\",\n        style: {\n          backgroundColor: \"#EF6C00\",\n          color: \"#fff\"\n        }\n      }\n    },\n    {\n      name: \"Option: wash (false)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"No wash\",\n        wash: false\n      }\n    },\n    {\n      name: \"Option: ink (false)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"No ink\",\n        ink: false\n      }\n    },\n    {\n      name: \"Option: disabled (true)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Disabled\",\n        disabled: true\n      }\n    },\n    {\n      name: \"Option: disabled (false)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Not disabled\",\n        disabled: false\n      }\n    },\n    {\n      name: \"Option: selected\",\n      component: button,\n      attrs: {\n        label: \"Selected\",\n        selected: true\n      }\n    },\n    {\n      name: \"Option: formaction\",\n      component: button,\n      attrs: {\n        label: \"Form action\",\n        formaction: \"http://polythene.js.org\"\n      }\n    },\n    {\n      name: \"Option: url (without oncreate)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Go to /shadow\",\n        url: {\n          href: \"/shadow\"\n        }\n      }\n    },\n    {\n      name: \"Option: inactive (false)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Not inactive\",\n        inactive: false\n      }\n    },\n    {\n      name: \"Option: inactive (true)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Inactive\",\n        inactive: true\n      }\n    },\n    {\n      name: \"Option: inactivate (2)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Inactivated for 2s\",\n        inactivate: 2\n      }\n    },\n\n    // Dark tone class\n    \n    {\n      name: \"Option: label -- dark theme class\",\n      className: \"pe-dark-tone\",\n      component: button,\n      attrs: {\n        label: \"Label\"\n      }\n    },\n    {\n      name: \"Option: tone \\\"dark\\\" -- dark theme class\",\n      className: \"test-dark-theme\",\n      component: button,\n      attrs: {\n        label: \"Label\",\n        tone: \"dark\"\n      }\n    },\n    {\n      name: \"Themed button -- dark theme class\",\n      className: \"pe-dark-tone\",\n      component: button,\n      attrs: {\n        label: \"Themed button\",\n        className: \"tests-button-themed-button\"\n      }\n    },\n    {\n      name: \"Themed button blue on dark -- dark theme class\",\n      className: \"pe-dark-tone\",\n      component: button,\n      attrs: {\n        label: \"Blue on dark button\",\n        className: \"blue-on-dark-button\"\n      }\n    },\n    {\n      name: \"Themed button: (option: borders) -- dark theme class\",\n      className: \"pe-dark-tone\",\n      component: button,\n      attrs: {\n        label: \"Borders dark theme\",\n        className: \"tests-button-bordered-button\",\n        borders: true\n      }\n    },\n  ];\n};\n\n","import { renderer, button } from \"polythene-mithril\";\nimport genericTests from \"./tests-generic\";\n\nconst mithrilTests = ({ button, renderer: h }) => {\n  return [\n    {\n      name: \"Dark tone class + light theme class\",\n      class: \"pe-dark-tone\",\n      component: {\n        view: () => h(\".pe-light-tone\", {\n          style: { background: \"#fff\" }\n        }, [\n          h(button, {\n            label: \"Normal\",\n          }),\n          h(button, {\n            label: \"Disabled\",\n            disabled: true\n          }),\n          h(button, {\n            label: \"Theme\",\n            class: \"tests-button-themed-button\"\n          })\n        ])\n      }\n    },\n    {\n      name: \"Dark tone class + light tone\",\n      class: \"test-dark-theme\",\n      component: {\n        view: () => h(\"div\", {\n          style: { background: \"#fff\" }\n        }, [\n          h(button, {\n            label: \"Normal\",\n            tone: \"light\"\n          }),\n          h(button, {\n            label: \"Disabled\",\n            disabled: true,\n            tone: \"light\"\n          }),\n          h(button, {\n            label: \"Theme\",\n            class: \"tests-button-themed-button\",\n            tone: \"light\"\n          })\n        ])\n      }\n    },\n    {\n      name: \"Option: url (with oncreate)\",\n      interactive: true,\n      component: button,\n      attrs: {\n        label: \"Go to /#/shadow\",\n        url: {\n          href: \"/shadow\",\n          oncreate: h.route.link\n        }\n      }\n    },\n    {\n      name: \"onbeforeupdate\",\n      interactive: true,\n      exclude: true,\n      component: {\n        oninit: vnode =>\n          vnode.state.updated = 0,\n        view: vnode => [\n          h(\"div\", `Updated: ${vnode.state.updated}`),\n          h(button, {\n            label: \"Button\",\n            onbeforeupdate: () => vnode.state.updated++\n          })\n        ]\n      }\n    },\n    {\n      name: \"Option: events (onclick)\",\n      interactive: true,\n      exclude: true,\n      component: {\n        oninit: vnode =>\n          vnode.state.clicked = 0,\n        view: vnode => [\n          h(\"div\", `onclick called: ${vnode.state.clicked}`),\n          h(button, {\n            label: \"Button\",\n            events: {\n              onclick: () => vnode.state.clicked++\n            }\n          })\n        ]\n      }\n    },\n    {\n      name: \"Key down (after having focus) results in click\",\n      interactive: true,\n      exclude: true,\n      component: {\n        oninit: vnode =>\n          vnode.state.clickCount = 0,\n        view: vnode => [\n          h(\"div\", `onclick called: ${vnode.state.clickCount}`),\n          h(button, {\n            label: \"Button\",\n            events: {\n              onclick: () => vnode.state.clickCount++\n            }\n          })\n        ]\n      }\n    },\n  ];\n};\n\nexport default []\n  .concat(genericTests({ button, renderer }))\n  .concat(mithrilTests({ button, renderer }));\n","// import iconAlarm from \"mmsvg/google/msvg/action/alarm-add\";\n\nexport default ({ button/*, fab, icon, iconButton, list, listTile, renderer: h*/ }) => {\n  button.theme(\".tests-custom-theme-blue-button\", {\n    color_light_background: \"#2196F3\",\n    color_light_text: \"#fff\"\n  });\n\n  button.theme(\".tests-custom-theme-red-button\", {\n    color_light_background: \"#ff0000\",\n    color_light_text: \"#fff\"\n  });\n\n  // icon.theme(\".tests-custom-theme-red-icon\", {\n  //   color_light: \"red\"\n  // });\n\n  // fab.theme(\".tests-custom-theme-red-fab\", {\n  //   color_light_background: \"#ff0000\",\n  //   color_light: \"#fff\"\n  // });\n\n  // iconButton.theme(\".tests-custom-theme-large-icon-button\", {\n  //   padding: 50,\n  //   color_background: \"#fff\"\n  // });\n\n  // list.theme(\".tests-custom-theme-blue-list\", {\n  //   color_light_border: \"#2196F3\"\n  // });\n\n  // listTile.theme(\".tests-custom-theme-red-list-tile\", {\n  //   color_light_title: \"red\"\n  // });\n\n  return [\n    {\n      name: \"Theme with style variables: button (should be blue)\",\n      component: button,\n      attrs: {\n        className: \"tests-custom-theme-blue-button\",\n        label: \"Blue button\"\n      }\n    },\n    {\n      name: \"Theme with style variables: button (should be red)\",\n      component: button,\n      attrs: {\n        className: \"tests-custom-theme-red-button\",\n        label: \"Red button\"\n      }\n    },\n    {\n      name: \"No theme: normal button\",\n      component: button,\n      attrs: {\n        label: \"Unaffected button\"\n      }\n    },\n    // {\n    //   name: \"Theme with theme file (global primary color): FAB (should be orange)\",\n    //   component: fab,\n    //   attrs: {\n    //     icon: {\n    //       msvg: iconAlarm\n    //     }\n    //   }\n    // },\n    // {\n    //   name: \"Theme with style variables: FAB (should be red)\",\n    //   component: fab,\n    //   attrs: {\n    //     className: \"tests-custom-theme-red-fab\",\n    //     icon: {\n    //       msvg: iconAlarm\n    //     }\n    //   }\n    // },\n    // {\n    //   name: \"Theme with style variables: icon (should be red)\",\n    //   component: icon,\n    //   attrs: {\n    //     className: \"tests-custom-theme-red-icon\",\n    //     msvg: iconAlarm\n    //   }\n    // },\n    // {\n    //   name: \"Theme with style variables: icon button (should have large padding)\",\n    //   component: iconButton,\n    //   attrs: {\n    //     className: \"tests-custom-theme-large-icon-button\",\n    //     icon: {\n    //       msvg: iconAlarm\n    //     }\n    //   }\n    // },\n    // {\n    //   name: \"Theme with style variables: list (should have blue borders)\",\n    //   component: list,\n    //   attrs: {\n    //     className: \"tests-custom-theme-blue-list\",\n    //     borders: true,\n    //     tiles: [\n    //       h(listTile, {\n    //         title: \"Jennifer Barker\",\n    //         subtitle: \"Starting post doc\"\n    //       }),\n    //       h(listTile, {\n    //         title: \"Ali Connors\",\n    //         subtitle: \"Brunch this weekend?\"\n    //       }),\n    //       h(listTile, {\n    //         title: \"Mike Eden\",\n    //         subtitle: \"Watch a game\"\n    //       })\n    //     ]\n    //   }\n    // },\n    // {\n    //   name: \"Theme with style variables: list tile (should have red titles)\",\n    //   component: list,\n    //   attrs: {\n    //     tiles: [\n    //       h(listTile, {\n    //         className: \"tests-custom-theme-red-list-tile\",\n    //         title: \"Jennifer Barker\",\n    //         subtitle: \"Starting post doc\"\n    //       }),\n    //       h(listTile, {\n    //         className: \"tests-custom-theme-red-list-tile\",\n    //         title: \"Ali Connors\",\n    //         subtitle: \"Brunch this weekend?\"\n    //       }),\n    //       h(listTile, {\n    //         className: \"tests-custom-theme-red-list-tile\",\n    //         title: \"Mike Eden\",\n    //         subtitle: \"Watch a game\"\n    //       })\n    //     ]\n    //   }\n    // }\n  ];\n};\n","/*\nTesting 2 theming methods:\n1. Style variables\n2. Deriving components\n*/\n\nimport { renderer, button, fab } from \"polythene-mithril\";\n\n// import icon from \"polythene-icon\";\n// import iconButton from \"polythene-icon-button\";\n// import list from \"polythene-list\";\n// import listTile from \"polythene-list-tile\";\n\nimport genericTests from \"./tests-generic\"; // [1]\n\nconst h = renderer;\n\n // [2]\nconst secondaryButton = {\n  theme: button.theme,\n  view: vnode => h(button, {\n    className: \"tests-custom-theme-secondary-button\",\n    borders: true,\n    ...vnode.attrs\n  })\n};\nsecondaryButton.theme(\".tests-custom-theme-secondary-button\", {\n  color_light_border: \"#ddd\",\n  color_light_background: \"#fff\"\n});\n\nconst mithrilTests = () => [\n  {\n    name: \"Theme with deriving component: button (should be bordered with white background)\",\n    component: secondaryButton,\n    attrs: {\n      label: \"Bordered button\"\n    }\n  },\n];\n\nexport default []\n  .concat(genericTests({ button, fab/*, icon, iconButton, list, listTile, renderer*/ }))\n  .concat(mithrilTests());\n","\nexport default ({ ripple }) => {\n  ripple.theme(\".tests-ripple-themed-ripple\", {\n    color_light: \"#F44336\"\n  });\n  return [\n    {\n      name: \"Option: constrained (true)\",\n      interactive: true,\n      component: ripple,\n      attrs: {\n        constrained: true\n      }\n    },\n    {\n      name: \"Option: constrained (false)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        constrained: false\n      }\n    },\n    {\n      name: \"Option: center\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        center: true\n      }\n    },\n    {\n      name: \"Option: start opacity (0.5)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        startOpacity: 0.5\n      }\n    },\n    {\n      name: \"Option: end opacity (0.1)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        endOpacity: 0.1\n      }\n    },\n    {\n      name: \"Option: duration (3.0)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        duration: 3.0\n      }\n    },\n    {\n      name: \"Option: initial opacityDecayVelocity (0.1)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        opacityDecayVelocity: 0.1\n      }\n    },\n    {\n      name: \"Option: disabled\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        disabled: true\n      }\n    },\n    {\n      name: \"Option: style (color)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        startOpacity: 0.7,\n        style: {\n          color: \"#2196F3\"\n        }\n      }\n    },\n    {\n      name: \"Themed (should be red and permanent)\",\n      interactive: true,\n      exclude: true,\n      component: ripple,\n      attrs: {\n        className: \"tests-ripple-themed-ripple\",\n        endOpacity: 1.0,\n        persistent: true\n      }\n    },\n    \n\n    // Dark tone\n\n    {\n      name: \"Option: style (white) -- dark theme class\",\n      interactive: true,\n      exclude: true,\n      className: \"pe-dark-tone\",\n      component: ripple,\n      attrs: {\n        constrained: true,\n        style: {\n          color: \"#fff\"\n        }\n      }\n    },\n    {\n      name: \"Dark tone class + light theme class\",\n      interactive: true,\n      exclude: true,\n      className: \"pe-dark-tone\",\n      component: ripple,\n      attrs: {\n        constrained: true,\n        style: {\n          background: \"#fff\"\n        },\n        className: \"pe-light-tone\"\n      }\n    },\n    {\n      name: \"Dark tone class + light tone\",\n      interactive: true,\n      exclude: true,\n      className: \"test-dark-theme\",\n      component: ripple,\n      attrs: {\n        constrained: true,\n        style: {\n          background: \"#fff\"\n        },\n        tone: \"light\"\n      }\n    },\n  ];\n};\n\n","import { renderer, ripple } from \"polythene-mithril\";\nimport genericTests from \"./tests-generic\";\n\nconst mithrilTests = ({ ripple, renderer: h }) => {\n  return [\n    {\n      name: \"Appended to an element\",\n      interactive: true,\n      exclude: true,\n      component: {\n        view: () =>\n          h(\"div\",\n            {\n              style: {\n                position: \"relative\",\n                width: \"100px\",\n                height: \"100px\",\n              }\n            },\n            h(ripple)\n          )\n      }\n    },\n    {\n      name: \"Option: start (after click)\",\n      interactive: true,\n      exclude: true,\n      component: {\n        oninit: vnode =>\n          vnode.state.started = 0,\n        view: vnode => [\n          h(ripple, {\n            before: h(\"div\", `start called: ${vnode.state.started}`),\n            start: () => (vnode.state.started++, h.redraw())\n          })\n        ]\n      }\n    },\n    {\n      name: \"Option: end (after click)\",\n      interactive: true,\n      exclude: true,\n      component: {\n        oninit: vnode =>\n          vnode.state.ended = 0,\n        view: vnode => [\n          h(ripple, {\n            before: h(\"div\", `end called: ${vnode.state.ended}`),\n            end: () => (vnode.state.ended++, h.redraw())\n          })\n        ]\n      }\n    },\n  ];\n};\n\nexport default []\n  .concat(genericTests({ ripple, renderer }))\n  .concat(mithrilTests({ ripple, renderer }));\n","\nexport default ({ shadow }) => {\n  return [\n    {\n      name: \"Child node\",\n      component: shadow,\n      attrs: {},\n      children: [\"Child\"]\n    },\n    {\n      name: \"Option: content\",\n      component: shadow,\n      attrs: {\n        content: \"Content\"\n      }\n    },\n    {\n      name: \"Option: z (0)\",\n      component: shadow,\n      attrs: {\n        z: 0\n      }\n    },\n    {\n      name: \"Option: z (1)\",\n      component: shadow,\n      attrs: {\n        z: 1\n      }\n    },\n    {\n      name: \"Option: z (2)\",\n      component: shadow,\n      attrs: {\n        z: 2\n      }\n    },\n    {\n      name: \"Option: z (3)\",\n      component: shadow,\n      attrs: {\n        z: 3\n      }\n    },\n    {\n      name: \"Option: z (4)\",\n      component: shadow,\n      attrs: {\n        z: 4\n      }\n    },\n    {\n      name: \"Option: z (5)\",\n      component: shadow,\n      attrs: {\n        z: 5\n      }\n    },\n  ];\n};\n\n\n","import { renderer, shadow } from \"polythene-mithril\";\nimport genericTests from \"./tests-generic\";\n\nconst mithrilTests = ({ shadow, renderer: h }) => {\n\n  const interactiveTest = {\n    oninit: vnode =>\n      vnode.state.z = 1,\n    view: vnode => [\n      h(\".absolute.absolute--fill\", {\n        onclick: () => {\n          const newZ = (vnode.state.z + 1) % 6;\n          vnode.state.z = newZ;\n        }\n      }, \"Click me\"),\n      h(shadow, {\n        animated: true,\n        z: vnode.state.z,\n      })\n    ]\n  };\n\n  return [\n    {\n      name: \"Add to a Mithril element\",\n      component: {\n        view: () => [\n          h(\"div\", \"Some element\"),\n          h(shadow)\n        ]\n      },\n    },\n    {\n      name: \"Interactive option: animated\",\n      interactive: true,\n      exclude: true,\n      component: interactiveTest\n    },\n\n    // Dark tone\n\n    {\n      name: \"Interactive option: animated -- dark theme class\",\n      interactive: true,\n      className: \"pe-dark-tone\",\n      component: interactiveTest\n    }\n  ];\n};\n\nexport default []\n  .concat(genericTests({ shadow, renderer }))\n  .concat(mithrilTests({ shadow, renderer }));\n","// import iconStars from \"mmsvg/google/svg/action/stars.svg\";\n\nconst iconStars = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z\\\"/></svg>\";\n\nconst iconLink = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/></svg>\";\n\nexport default ({ svg, renderer: h }) => {\n\n  const trustedIconLink = h.trust(iconLink);\n  const trustedIconStars = h.trust(iconStars);\n\n  svg.theme(\".tests-svg-themed-svg\", {\n    color_light: \"#0D47A1\",\n    color_dark: \"orange\"\n  });\n\n  return [\n    {\n      name: \"Child node\",\n      component: svg,\n      attrs: null,\n      children: [trustedIconLink]\n    },\n    {\n      name: \"Option: content\",\n      component: svg,\n      attrs: {\n        content: trustedIconStars\n      },\n    },\n    {\n      name: \"Option: style (color)\",\n      component: svg,\n      attrs: {\n        content: trustedIconStars,\n        style: {\n          color: \"#EF6C00\"\n        }\n      }\n    },\n    {\n      name: \"Themed (color)\",\n      component: svg,\n      attrs: {\n        content: trustedIconStars,\n        className: \"tests-svg-themed-svg\"\n      }\n    },\n\n    // Dark tone\n\n    {\n      name: \"Option: content -- dark theme class\",\n      className: \"pe-dark-tone\",\n      component: svg,\n      attrs: {\n        content: trustedIconStars\n      },\n    },\n    {\n      name: \"Themed (color) -- dark theme class\",\n      component: svg,\n      className: \"pe-dark-tone\",\n      attrs: {\n        content: trustedIconStars,\n        className: \"tests-svg-themed-svg\"\n      }\n    },\n  ];\n};\n\n\n",";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null) {\n\t\tif (attrs.class != null) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (!attrs) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, undefined)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, undefined, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\telse {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\tif (vnode.tag === \"input\" && key2 === \"value\" && vnode.dom.value == value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"select\" && key2 === \"value\" && vnode.dom.value == value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"option\" && key2 === \"value\" && vnode.dom.value == value) return\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, undefined)\n\t\tdom.vnodes = vnodes\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t\tif ($doc.activeElement !== active) active.focus()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw !== false) redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) options = {replace: true}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.0\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());","var m = require('mithril');\nmodule.exports = m.trust('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z\"/></svg>');\n","import { renderer, svg } from \"polythene-mithril\";\nimport genericTests from \"./tests-generic\";\nimport iconStars from \"mmsvg/google/msvg/action/stars\";\n\nconst mithrilTests = ({ svg, renderer: h }) => {\n  return [\n    {\n      name: \"Child node (mmsvg)\",\n      component: svg,\n      attrs: null,\n      children: [iconStars]\n    },\n    {\n      name: \"Option: content (mmsvg)\",\n      component: svg,\n      attrs: {\n        content: iconStars\n      },\n    },\n    {\n      name: \"Dark tone class + light theme class\",\n      className: \"pe-dark-tone\",\n      component: {\n        view: () =>\n          h(\"div\", {\n            style: {\n              background: \"#fff\",\n              padding: \"10px\"\n            },\n            className: \"pe-light-tone\"\n          }, h(svg, {content: iconStars}))\n      }\n    },\n    {\n      name: \"Dark tone class + light tone\",\n      className: \"test-dark-theme\",\n      component: {\n        view: () =>\n          h(\"div\", {\n            style: {\n              background: \"#fff\",\n              padding: \"10px\"\n            },\n          }, h(svg, {\n            content: iconStars,\n            tone: \"light\"\n          }))\n      }\n    },\n  ];\n    \n};\n\nexport default []\n  .concat(genericTests({ svg, renderer }))\n  .concat(mithrilTests({ svg, renderer }));\n","import { renderer, button } from \"polythene-react\";\nimport tests from \"./tests-generic\";\n\nexport default tests({ button, renderer });\n","import { renderer, button } from \"polythene-react\";\nimport genericTests from \"./tests-generic\";\n\nconst reactTests = () => {\n\n  const secondaryButton = props => renderer(button, Object.assign({}, props, {\n    className: \"tests-custom-theme-secondary-button\",\n    borders: true,\n  }));\n\n  button.theme(\".tests-custom-theme-secondary-button\", {\n    color_light_border: \"#ddd\",\n    color_light_background: \"#fff\"\n  });\n\n  return [\n    {\n      name: \"Theme with deriving component: button (should be bordered with white background)\",\n      component: secondaryButton,\n      attrs: {\n        label: \"Bordered button\"\n      }\n    },\n  ];\n};\n\nexport default []\n  .concat(genericTests({ button, renderer }))\n  .concat(reactTests());\n","import { renderer, ripple } from \"polythene-react\";\nimport tests from \"./tests-generic\";\n\nexport default tests({ ripple, renderer });\n","import { renderer, shadow } from \"polythene-react\";\nimport tests from \"./tests-generic\";\n\nexport default tests({ shadow, renderer });\n","import { renderer, svg } from \"polythene-react\";\nimport tests from \"./tests-generic\";\n\nexport default tests({ svg, renderer });\n","\nimport * as fromMithrilTests from \"./src/mithril-tests\";\nexport const mithrilTests = fromMithrilTests;\n\nimport * as fromReactTests from \"./src/react-tests\";\nexport const reactTests = fromReactTests;\n"],"names":["button","theme","concat","genericTests","renderer","h","background","route","link","vnode","state","updated","clicked","clickCount","secondaryButton","attrs","fab","ripple","started","redraw","ended","shadow","interactiveTest","z","newZ","svg","trustedIconLink","trust","trustedIconStars","Vnode","tag","key","attrs0","children","text","dom","domSize","undefined","_state","events","instance","skip","compileSelector","selector","match","classes","selectorParser","exec","type","value","id","push","attrValue","replace","length","className","join","selectorCache","execSelector","childList","hasAttrs","class","hasOwn","call","Array","isArray","hyperscript","arguments","start","view","Error","cached","normalized","normalizeChildren","throttle","callback","last","pending","timeout","requestAnimationFrame","setTimeout","now","Date","normalize","node","i","hasOwnProperty","html","fragment","attrs1","m","PromisePolyfill","executor","handler","list","shouldAbsorb","execute","then","console","error","resolvers","rejectors","retry","self","TypeError","bind","e","executeOnce","run","fn","runs","onerror","rejectCurrent","resolveCurrent","this","_instance","callAsync","setImmediate","prototype","onFulfilled","onRejection","handle","next","rejectNext","resolveNext","promise","resolve","reject","catch","all","total","count","values","consume","_typeof","race","window","Promise","global","buildQueryString","object","destructure","key0","Object","toString","args","encodeURIComponent","FILE_PROTOCOL_REGEX","RegExp","requestService","$window","setCompletionCallback","finalizer","complete","oncompletion","finalize","promise0","then0","apply","extra","url","request","method","toUpperCase","useBody","serialize","FormData","data","JSON","stringify","deserialize","extract","interpolate","assemble","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","withCredentials","headers","config","onreadystatechange","readyState","response","status","test","cast","responseText","send","jsonp","callbackName","Math","round","random","callbackCount","script","document","createElement","parentNode","removeChild","callbackKey","src","documentElement","appendChild","tokens","slice","querystring","indexOf","parse","type0","coreRenderer","setEventCallback","onevent","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","createComponent","initLifecycle","createText","createHTML","createFragment","$doc","createTextNode","match1","parent1","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","firstChild","childNodes","child","createDocumentFragment","attrs2","is","element","createElementNS","contenteditable","textContent","initComponent","sentinel","create","$$reentrantLock$$","$emptyFragment","updateNodes","old","recycling","removeNodes","isUnkeyed","getNextSibling","updateNode","isRecyclable","pool","map","oldStart","oldEnd","o","v","shouldRecycle","insertNode","toFragment","getKeyMap","oldIndex","movable","oldTag","shouldNotUpdate","updateLifecycle","updateComponent","updateText","nodeValue","updateHTML","updateFragment","updateElement","abs","oldChildrenLength","poolChildrenLength","vnodesChildrenLength","key2","count0","insertBefore","setContentEditable","content","context","removeNode","continuation","called","expected","hasIntegrationMethods","onbeforeremove","result","removeNodeFromDOM","onremove","setAttrs","setAttr","isFormAttribute","isLifecycleMethod","nsLastIndex","substr","setAttributeNS","updateEvent","updateStyle","isAttribute","isCustomElement","activeElement","setAttribute","removeAttribute","setLateAttrs","selectedIndex","updateAttrs","attr","source","oncreate","onupdate","style","cssText","eventName","removeEventListener","addEventListener","oninit","forceVnodeUpdate","forceComponentUpdate","onbeforeupdate","render","active","focus","redrawService","subscribe","key1","unsubscribe","index","callbacks","splice","renderService","mount","redrawService0","root","component","run0","parseQueryString","string","charAt","entries","split","data0","counters","entry","key5","decodeURIComponent","levels","cursor","pop","j","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","normalize1","fragment0","location","debounceAsync","callback0","asyncId","callAsync0","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key4","hashParams","supportsPushState","history","pushState","router","prefix","getPath","setPath","options","match2","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","params","pathname","k","route0","matcher","keys","onhashchange","render1","attrs3","currentPath","lastUpdate","routeService","identity","defaultRoute","run1","bail","payload","update","routeResolver","comp","onmatch","resolved","set","get","prefix0","vnode1","onclick","ctrlKey","metaKey","shiftKey","which","preventDefault","getAttribute","param","key3","withAttr","attrName","callback1","currentTarget","_28","version","iconStars","tests","_extends","props","mithrilTests","fromMithrilTests","reactTests","fromReactTests"],"mappings":"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"}